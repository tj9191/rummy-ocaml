// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Async_js__
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    Async_js = [0],
    Async_js$0 = [0, Async_js];
   runtime.caml_register_global(0, Async_js$0, "Async_js__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Debug
//# unitInfo: Requires: Core, Core__Array, Core__List, Core__Set, Core__Sexp, Core__String, Expect_test_config, Inline_test_config, Js_of_ocaml__Firebug, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_expect_runtime__Test_block, Ppx_expect_runtime__Test_node, Ppx_expect_runtime__Types, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv_error, Sexplib0__Sexp_conv_record
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$0 = "",
    cst_Async_js_Debug$0 = "Async_js__Debug",
    cst_async_js$0 = "async_js",
    cst_src_debug_ml$2 = "src/debug.ml",
    caml_js_from_array = runtime.caml_js_from_array,
    caml_js_object = runtime.caml_js_object,
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_string_of_jsstring = runtime.caml_string_of_jsstring;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call14
   (f, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13){
    return (f.l >= 0 ? f.l : f.l = f.length) == 14
            ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13)
            : runtime.caml_call_gen
              (f,
               [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = cst$0,
    Core_Set = global_data.Core__Set,
    Core_List = global_data.Core__List,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Core_String = global_data.Core__String,
    Core_Array = global_data.Core__Array,
    Core = global_data.Core,
    Ppx_expect_runtime_Types = global_data.Ppx_expect_runtime__Types,
    Core_Sexp = global_data.Core__Sexp;
   global_data.Sexplib0__Sexp_conv_error;
   global_data.Sexplib0__Sexp_conv_record;
   var
    Js_of_ocaml_Firebug = global_data.Js_of_ocaml__Firebug,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Expect_test_config = global_data.Expect_test_config,
    Ppx_expect_runtime_Test_block = global_data.Ppx_expect_runtime__Test_block,
    Ppx_expect_runtime_Test_node = global_data.Ppx_expect_runtime__Test_node,
    Inline_test_config = global_data.Inline_test_config;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Debug$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js$0);
   caml_call1(Ppx_expect_runtime[1][1], cst_src_debug_ml$2);
   caml_call2(Ppx_inline_test_lib[6], cst_async_js$0, "debug.ml");
   var
    _b_ = [0, [12, 102, [4, 0, 0, 0, 0]], "f%d"],
    _c_ = [0, [4, 0, 0, 0, 0], "%d"],
    cst_A_B_A_C = " ((A B) (A C)) ",
    _A_ = [0, "field2"],
    _B_ = [0, "field1"],
    _C_ = [0, "Bar"],
    _D_ = [0, "Foo"],
    _z_ = [0, "some_name"],
    _E_ = [0, [0, "debug"], [0, "other string"]],
    _F_ = [0, [0, [0, ' "Foo" ', [0, cst$0]], [0, 2051, 2062, 2073]]],
    _G_ = [0, 2051, 2053, 2074],
    _J_ =
      [0,
       [0,
        [0,
         ' {"Bar":null,"field1":{"some_name":"debug"},"field2":["other string"]} ',
         [0, cst$0]],
        [0, 2238, 2249, 2324]]],
    _K_ = [0, 2238, 2240, 2325],
    _P_ = [0, 1611, 1611, 2325],
    _Q_ = [0, 2238, 2325, 2325],
    _R_ = [0, 1611, 1611, 2325],
    cst_src_debug_ml$1 = cst_src_debug_ml$2,
    _o_ =
      [0,
       [0, [0, ' [{"A":"B"},{"A":"C"}] ', [0, cst$0]], [0, 2654, 2665, 2692]]],
    _p_ = [0, 2654, 2656, 2693],
    _s_ = [0, "duplicate keys are displayed correctly"],
    _v_ = [0, 2330, 2330, 2693],
    _w_ = [0, 2654, 2693, 2693],
    _x_ = [0, 2330, 2330, 2693],
    cst_src_debug_ml$0 = cst_src_debug_ml$2,
    _d_ = [0, [0, [0, " 999 ", [0, cst$0]], [0, 2923, 2934, 2943]]],
    _e_ = [0, 2923, 2925, 2944],
    _h_ = [0, "no stack overflow"],
    _k_ = [0, 2698, 2698, 2944],
    _l_ = [0, 2923, 2944, 2944],
    _m_ = [0, 2698, 2698, 2944],
    cst_src_debug_ml = cst_src_debug_ml$2,
    cst_async_js = cst_async_js$0,
    cst_Async_js_Debug = cst_Async_js_Debug$0;
   function is_valid_field_name(seen, name){
    if
     (caml_call2(Core_String[145], name, cst)
      || ! (9 < runtime.caml_string_get(name, 0) - 48 >>> 0))
     var _ak_ = 0;
    else
     var
      _aj_ =
        function(param){
         a:
         {
          if(91 <= param){
           if(97 <= param){
            if(123 > param) break a;
           }
           else if(95 === param) break a;
          }
          else
           if(58 <= param){
            if(65 <= param) break a;
           }
           else if(48 <= param) break a;
          return 0;
         }
         return 1;
        },
      _ak_ = caml_call2(Core_String[20], name, _aj_);
    var _al_ = _ak_ ? 1 - caml_call2(Core_Set[11], seen, name) : _ak_;
    return _al_;
   }
   function any_of_sexp(param){
    if(0 === param[0]){var s = param[1]; return caml_jsstring_of_string(s);}
    var list$0 = param[1];
    if(list$0){
     var _ae_ = list$0[1];
     if(0 === _ae_[0]){
      var _af_ = list$0[2];
      if(_af_ && ! _af_[2]){
       var v$0 = _af_[1], name$1 = _ae_[1];
       return caml_js_object([0, [0, name$1, any_of_sexp(v$0)]]);
      }
     }
    }
    var
     seen$2 = Core_String[160][5],
     seen = seen$2,
     rev_acc = 0,
     list = list$0;
    for(;;){
     if(list){
      var match = list[1];
      if(0 === match[0]){
       var rest = list[2], name = match[1];
       if(is_valid_field_name(seen, name)){
        var
         rev_acc$0 = [0, [0, name, 0], rev_acc],
         seen$0 = caml_call2(Core_Set[12], seen, name),
         seen = seen$0,
         rev_acc = rev_acc$0,
         list = rest;
        continue;
       }
      }
      else{
       var _ab_ = match[1];
       if(_ab_){
        var _ac_ = _ab_[1];
        if(0 === _ac_[0]){
         var _ad_ = _ab_[2];
         if(_ad_ && ! _ad_[2]){
          var rest$0 = list[2], v = _ad_[1], name$0 = _ac_[1];
          if(is_valid_field_name(seen, name$0)){
           var
            rev_acc$1 = [0, [0, name$0, [0, v]], rev_acc],
            seen$1 = caml_call2(Core_Set[12], seen, name$0),
            seen = seen$1,
            rev_acc = rev_acc$1,
            list = rest$0;
           continue;
          }
         }
        }
       }
      }
      var match$0 = 0;
     }
     else
      var match$0 = [0, caml_call1(Core_List[59], rev_acc)];
     if(! match$0){
      var _ai_ = caml_call2(Core_List[51], list$0, any_of_sexp);
      return caml_js_from_array(caml_call1(Core_Array[24], _ai_));
     }
     var l = match$0[1];
     if(! l) return caml_js_from_array([0]);
     var
      _ag_ =
        function(param){
         var match = param[2], name = param[1];
         if(! match) return [0, name, Js_of_ocaml_Js[1]];
         var v = match[1];
         return [0, name, any_of_sexp(v)];
        },
      _ah_ = caml_call2(Core_List[51], l, _ag_);
     return caml_js_object(caml_call1(Core_Array[24], _ah_));
    }
   }
   function log_s(sexp){
    var _aa_ = any_of_sexp(sexp);
    return Js_of_ocaml_Firebug[1].log(_aa_);
   }
   function log_s_as_string(sexp){
    var _$_ = caml_jsstring_of_string(caml_call2(Core_Sexp[84], 0, sexp));
    return Js_of_ocaml_Firebug[1].log(_$_);
   }
   if(typeof Ppx_inline_test_lib[3] !== "number"){
    var
     Ppx_expect_test_block$1 =
       caml_call1(Ppx_expect_runtime_Test_block[1], Expect_test_config),
     _y_ =
       function(param){
        function sexp_of_t(param){
         if(! param) return _D_;
         var
          field2_016 = param[2],
          field1_014 = param[1],
          arg_017 = caml_call2(Core[515], Core[558], field2_016),
          bnds_013 = [0, [1, [0, _A_, [0, arg_017, 0]]], 0],
          some_name_005 = field1_014[1],
          arg_006 = caml_call1(Core[558], some_name_005),
          bnds_004 = [0, [1, [0, _z_, [0, arg_006, 0]]], 0],
          arg_015 = [1, bnds_004],
          bnds_013$0 = [0, [1, [0, _B_, [0, arg_015, 0]]], bnds_013];
         return [1, [0, _C_, bnds_013$0]];
        }
        function to_string(any){
         return caml_string_of_jsstring(Js_of_ocaml_Js[38].stringify(any));
        }
        var _X_ = to_string(any_of_sexp(sexp_of_t(0)));
        caml_call1(Core[32], _X_);
        var _Y_ = caml_call1(Ppx_expect_runtime_Types[4][1], 0);
        caml_call1(Ppx_expect_test_block$1[2], _Y_);
        var _Z_ = to_string(any_of_sexp(sexp_of_t(_E_)));
        caml_call1(Core[32], _Z_);
        var ___ = caml_call1(Ppx_expect_runtime_Types[4][1], 1);
        return caml_call1(Ppx_expect_test_block$1[2], ___);
       },
     _H_ =
       caml_call3
        (Ppx_expect_runtime_Test_node[1][1],
         [0, Ppx_expect_runtime_Types[1][1]],
         _G_,
         _F_),
     _I_ = [0, [0, caml_call1(Ppx_expect_runtime_Types[4][1], 0), _H_], 0],
     _L_ =
       caml_call3
        (Ppx_expect_runtime_Test_node[1][1],
         [0, Ppx_expect_runtime_Types[1][1]],
         _K_,
         _J_),
     _M_ = [0, [0, caml_call1(Ppx_expect_runtime_Types[4][1], 1), _L_], _I_],
     _N_ = caml_call1(Ppx_expect_runtime_Types[4][1], 3),
     _O_ = caml_call1(Ppx_expect_runtime_Types[4][1], 2);
    caml_call14
     (Ppx_expect_test_block$1[3],
      cst_src_debug_ml$1,
      50,
      _R_,
      _Q_,
      _P_,
      [0, Ppx_expect_runtime_Types[1][1]],
      0,
      _O_,
      _N_,
      0,
      0,
      Inline_test_config,
      _M_,
      _y_);
   }
   if(typeof Ppx_inline_test_lib[3] !== "number"){
    var
     Ppx_expect_test_block$0 =
       caml_call1(Ppx_expect_runtime_Test_block[1], Expect_test_config),
     _n_ =
       function(param){
        var
         sexp_with_duplicate_keys = caml_call1(Core_Sexp[76], cst_A_B_A_C),
         any = any_of_sexp(sexp_with_duplicate_keys),
         _V_ = caml_string_of_jsstring(Js_of_ocaml_Js[38].stringify(any));
        caml_call1(Core[32], _V_);
        var _W_ = caml_call1(Ppx_expect_runtime_Types[4][1], 4);
        return caml_call1(Ppx_expect_test_block$0[2], _W_);
       },
     _q_ =
       caml_call3
        (Ppx_expect_runtime_Test_node[1][1],
         [0, Ppx_expect_runtime_Types[1][1]],
         _p_,
         _o_),
     _r_ = [0, [0, caml_call1(Ppx_expect_runtime_Types[4][1], 4), _q_], 0],
     _t_ = caml_call1(Ppx_expect_runtime_Types[4][1], 6),
     _u_ = caml_call1(Ppx_expect_runtime_Types[4][1], 5);
    caml_call14
     (Ppx_expect_test_block$0[3],
      cst_src_debug_ml$0,
      77,
      _x_,
      _w_,
      _v_,
      [0, Ppx_expect_runtime_Types[1][1]],
      0,
      _u_,
      _t_,
      _s_,
      0,
      Inline_test_config,
      _r_,
      _n_);
   }
   if(typeof Ppx_inline_test_lib[3] !== "number"){
    var
     Ppx_expect_test_block =
       caml_call1(Ppx_expect_runtime_Test_block[1], Expect_test_config),
     _a_ =
       function(param){
        function _S_(i){return [0, caml_call2(Core[265], _b_, i), i];}
        var x_022 = caml_call2(Core_Array[56], 10000, _S_);
        function _T_(param){
         var
          arg1_019 = param[2],
          arg0_018 = param[1],
          res0_020 = caml_call1(Core[558], arg0_018),
          res1_021 = caml_call1(Core[389], arg1_019);
         return [1, [0, res0_020, [0, res1_021, 0]]];
        }
        var sexp = caml_call2(Core[301], _T_, x_022), t8 = any_of_sexp(sexp);
        caml_call2(Core[258], _c_, t8.f999);
        var _U_ = caml_call1(Ppx_expect_runtime_Types[4][1], 7);
        return caml_call1(Ppx_expect_test_block[2], _U_);
       },
     _f_ =
       caml_call3
        (Ppx_expect_runtime_Test_node[1][1],
         [0, Ppx_expect_runtime_Types[1][1]],
         _e_,
         _d_),
     _g_ = [0, [0, caml_call1(Ppx_expect_runtime_Types[4][1], 7), _f_], 0],
     _i_ = caml_call1(Ppx_expect_runtime_Types[4][1], 9),
     _j_ = caml_call1(Ppx_expect_runtime_Types[4][1], 8);
    caml_call14
     (Ppx_expect_test_block[3],
      cst_src_debug_ml,
      86,
      _m_,
      _l_,
      _k_,
      [0, Ppx_expect_runtime_Types[1][1]],
      0,
      _j_,
      _i_,
      _h_,
      0,
      Inline_test_config,
      _g_,
      _a_);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_async_js);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Debug);
   var Async_js_Debug = [0, log_s, log_s_as_string, any_of_sexp];
   runtime.caml_register_global(79, Async_js_Debug, cst_Async_js_Debug$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Rpc
//# unitInfo: Requires: Async_js__Debug, Async_kernel, Async_kernel__Deferred, Async_kernel__Ivar, Async_kernel__Pipe, Async_rpc_kernel__Pipe_transport, Async_rpc_kernel__Rpc, Async_rpc_kernel__Transport, Core, Core__Error, Core__Info, Core__List, Core__Or_error, Core__String, Inline_test_config, Js_of_ocaml__Dom, Js_of_ocaml__Js, Js_of_ocaml__Typed_array, Js_of_ocaml__Url, Js_of_ocaml__WebSockets, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Ppx_sexp_conv_lib, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_error, Stdlib__List, Uri, Uri_sexp
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js_Rpc$0 = "Async_js__Rpc",
    cst_async_js$0 = "async_js",
    cst_https$1 = "https:",
    cst_src_rpc_ml$0 = "src/rpc.ml",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   function caml_call8(f, a0, a1, a2, a3, a4, a5, a6, a7){
    return (f.l >= 0 ? f.l : f.l = f.length) == 8
            ? f(a0, a1, a2, a3, a4, a5, a6, a7)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6, a7]);
   }
   function caml_call10(f, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9){
    return (f.l >= 0 ? f.l : f.l = f.length) == 10
            ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9)
            : runtime.caml_call_gen
              (f, [a0, a1, a2, a3, a4, a5, a6, a7, a8, a9]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = " (",
    Core_Or_error = global_data.Core__Or_error,
    Async_kernel = global_data.Async_kernel,
    Async_rpc_kernel_Transport = global_data.Async_rpc_kernel__Transport,
    Async_rpc_kernel_Pipe_transpor =
      global_data.Async_rpc_kernel__Pipe_transport,
    Async_rpc_kernel_Rpc = global_data.Async_rpc_kernel__Rpc,
    Core_Info = global_data.Core__Info,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Async_kernel_Pipe = global_data.Async_kernel__Pipe,
    Js_of_ocaml_Url = global_data.Js_of_ocaml__Url,
    Core_String = global_data.Core__String,
    Core_Error = global_data.Core__Error,
    Core = global_data.Core,
    Js_of_ocaml_Typed_array = global_data.Js_of_ocaml__Typed_array,
    Async_js_Debug = global_data.Async_js__Debug,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Async_kernel_Ivar = global_data.Async_kernel__Ivar,
    Ppx_sexp_conv_lib = global_data.Ppx_sexp_conv_lib,
    Js_of_ocaml_WebSockets = global_data.Js_of_ocaml__WebSockets,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Async_kernel_Deferred = global_data.Async_kernel__Deferred,
    Assert_failure = global_data.Assert_failure,
    Core_List = global_data.Core__List;
   global_data.Sexplib0__Sexp_conv_error;
   var
    Stdlib_List = global_data.Stdlib__List,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Uri = global_data.Uri,
    Uri_sexp = global_data.Uri_sexp,
    Inline_test_config = global_data.Inline_test_config;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Rpc$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js$0);
   caml_call1(Ppx_expect_runtime[1][1], cst_src_rpc_ml$0);
   caml_call2(Ppx_inline_test_lib[6], cst_async_js$0, "rpc.ml");
   var
    to_string = Uri[8],
    make = Uri[11],
    sexp_of_t = Uri_sexp[4],
    compare_close_event_code = Core[382],
    sexp_of_close_event_code = Core[389],
    _y_ = [0, "uri"],
    _z_ = [0, "description"],
    cst_websocket = "websocket",
    cst_https = cst_https$1,
    cst_wss = "wss",
    cst_ws = "ws",
    cst_https$0 = cst_https$1,
    cst_RPC_connection_closed_by_c = "RPC connection closed by client",
    cst_BUG_onopen_called_but_read =
      "BUG: onopen called but readyState is CONNECTING",
    cst_websocket_send_buffer = "websocket##send_buffer",
    cst_websocket_encountered_unex = "websocket encountered unexpected error",
    _x_ = [0, 0],
    cst_closed = "closed",
    cst_connection_failed = "connection failed",
    cst_WebSocket_s_sexp_Close_cod = "WebSocket %s (%{sexp:Close_code.t})",
    _v_ = [12, 41, 0],
    _w_ = [0, 0],
    cst_WebSocket = "WebSocket ",
    cst_WebSocket_failed_immediate =
      "WebSocket failed immediately (illegal URI?)",
    cst_close_reason_was_too_long_ =
      "close-reason-was-too-long-or-contains-invalid-utf8",
    _u_ = [0, cst_src_rpc_ml$0, 100, 33],
    _c_ = [0, "Normal_closure"],
    _d_ = [0, "Going_away"],
    _e_ = [0, "Protocol_error"],
    _f_ = [0, "Unsupported_data"],
    _g_ = [0, "No_status_Received"],
    _h_ = [0, "Abnormal_closure"],
    _i_ = [0, "Invalid_frame_payload_data"],
    _j_ = [0, "Policy_violation"],
    _k_ = [0, "Message_too_big"],
    _l_ = [0, "Missing_extension"],
    _m_ = [0, "Internal_error"],
    _n_ = [0, "Service_restart"],
    _o_ = [0, "Try_again_later"],
    _p_ = [0, "Bad_gateway"],
    _q_ = [0, "TLS_handshake"],
    _r_ = [0, "Unknown_close_event_code"],
    _s_ = [0, "Invalid_close_event_code"],
    cst_src_rpc_ml = cst_src_rpc_ml$0,
    cst_to_int_of_int_round_trip = "to_int -> of_int round-trip",
    cst_async_js = cst_async_js$0,
    cst_Async_js_Rpc = cst_Async_js_Rpc$0,
    all_of_close_event_code = 0;
   function compare(a_004, b_005){
    if(a_004 === b_005) return 0;
    a:
    {
     b:
     {
      c:
      {
       d:
       {
        e:
        {
         f:
         {
          g:
          {
           h:
           {
            i:
            {
             j:
             {
              k:
              {
               l:
               {
                m:
                {
                 n:
                 {
                  if(typeof a_004 !== "number"){
                   if(0 === a_004[0]){
                    var a_006 = a_004[1];
                    if(typeof b_005 !== "number"){
                     if(0 !== b_005[0]) return -1;
                     var b_007 = b_005[1];
                     return caml_call2(compare_close_event_code, a_006, b_007);
                    }
                    switch(b_005){
                      case 0:
                       break a;
                      case 1:
                       break b;
                      case 2:
                       break c;
                      case 3:
                       break d;
                      case 4:
                       break e;
                      case 5:
                       break f;
                      case 6:
                       break g;
                      case 7:
                       break h;
                      case 8:
                       break i;
                      case 9:
                       break j;
                      case 10:
                       break k;
                      case 11:
                       break l;
                      case 12:
                       break m;
                      case 13:
                       break n;
                    }
                   }
                   else{
                    var a_008 = a_004[1];
                    if(typeof b_005 !== "number"){
                     if(0 === b_005[0]) return 1;
                     var b_009 = b_005[1];
                     return caml_call2(compare_close_event_code, a_008, b_009);
                    }
                    switch(b_005){
                      case 0:
                       break a;
                      case 1:
                       break b;
                      case 2:
                       break c;
                      case 3:
                       break d;
                      case 4:
                       break e;
                      case 5:
                       break f;
                      case 6:
                       break g;
                      case 7:
                       break h;
                      case 8:
                       break i;
                      case 9:
                       break j;
                      case 10:
                       break k;
                      case 11:
                       break l;
                      case 12:
                       break m;
                      case 13:
                       break n;
                    }
                   }
                   return 1;
                  }
                  switch(a_004){
                    case 0:
                     if(typeof b_005 === "number" && ! b_005) return 0;
                     return -1;
                    case 1:
                     if(typeof b_005 === "number"){
                      if(1 === b_005) return 0;
                      if(! b_005) break a;
                     }
                     return -1;
                    case 2:
                     if(typeof b_005 === "number" && 3 > b_005)
                      switch(b_005){
                        case 2:
                         return 0;
                        case 0:
                         break a;
                        default: break b;
                      }
                     return -1;
                    case 3:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 3:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                      }
                     return -1;
                    case 4:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 4:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                      }
                     return -1;
                    case 5:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 5:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                      }
                     return -1;
                    case 6:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 6:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                      }
                     return -1;
                    case 7:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 7:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                      }
                     return -1;
                    case 8:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 8:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                      }
                     return -1;
                    case 9:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 9:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                      }
                     return -1;
                    case 10:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 10:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                        case 9:
                         break j;
                      }
                     return -1;
                    case 11:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 11:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                        case 9:
                         break j;
                        case 10:
                         break k;
                      }
                     return -1;
                    case 12:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 12:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                        case 9:
                         break j;
                        case 10:
                         break k;
                        case 11:
                         break l;
                      }
                     return -1;
                    case 13:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 13:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                        case 9:
                         break j;
                        case 10:
                         break k;
                        case 11:
                         break l;
                        case 12:
                         break m;
                      }
                     return -1;
                    default:
                     if(typeof b_005 !== "number") return -1;
                     switch(b_005){
                       case 14:
                        return 0;
                       case 0:
                        break a;
                       case 1:
                        break b;
                       case 2:
                        break c;
                       case 3:
                        break d;
                       case 4:
                        break e;
                       case 5:
                        break f;
                       case 6:
                        break g;
                       case 7:
                        break h;
                       case 8:
                        break i;
                       case 9:
                        break j;
                       case 10:
                        break k;
                       case 11:
                        break l;
                       case 12:
                        break m;
                     }
                  }
                 }
                 return 1;
                }
                return 1;
               }
               return 1;
              }
              return 1;
             }
             return 1;
            }
            return 1;
           }
           return 1;
          }
          return 1;
         }
         return 1;
        }
        return 1;
       }
       return 1;
      }
      return 1;
     }
     return 1;
    }
    return 1;
   }
   var l = all_of_close_event_code, acc = 0;
   for(;;){
    if(! l) break;
    var
     l$0 = l[2],
     enumerate_011 = l[1],
     acc$0 = [0, [1, enumerate_011], acc],
     l = l$0,
     acc = acc$0;
   }
   var
    l$1 = all_of_close_event_code,
    acc$1 = 0,
    _a_ = caml_call1(Stdlib_List[10], acc);
   for(;;){
    if(! l$1) break;
    var
     l$2 = l$1[2],
     enumerate_010 = l$1[1],
     acc$2 = [0, [0, enumerate_010], acc$1],
     l$1 = l$2,
     acc$1 = acc$2;
   }
   var
    _b_ = caml_call1(Stdlib_List[10], acc$1),
    all =
      [0,
       0,
       [0,
        1,
        [0,
         2,
         [0,
          3,
          [0,
           4,
           [0,
            5,
            [0,
             6,
             [0,
              7,
              [0,
               8,
               [0,
                9,
                [0,
                 10,
                 [0,
                  11,
                  [0,
                   12,
                   [0, 13, [0, 14, caml_call2(Stdlib_List[12], _b_, _a_)]]]]]]]]]]]]]]],
    normal_closure = 0;
   function of_int(code){
    var switcher = code - 1000 | 0;
    if(15 >= switcher >>> 0)
     switch(switcher){
       case 0:
        return 0;
       case 1:
        return 1;
       case 2:
        return 2;
       case 3:
        return 3;
       case 4: break;
       case 5:
        return 4;
       case 6:
        return 5;
       case 7:
        return 6;
       case 8:
        return 7;
       case 9:
        return 8;
       case 10:
        return 9;
       case 11:
        return 10;
       case 12:
        return 11;
       case 13:
        return 12;
       case 14:
        return 13;
       default: return 14;
     }
    if(caml_call2(Core[88], code, 3000) && caml_call2(Core[89], code, 4999))
     return [0, code];
    return [1, code];
   }
   function to_int(param){
    if(typeof param === "number")
     switch(param){
       case 0:
        return 1000;
       case 1:
        return 1001;
       case 2:
        return 1002;
       case 3:
        return 1003;
       case 4:
        return 1005;
       case 5:
        return 1006;
       case 6:
        return 1007;
       case 7:
        return 1008;
       case 8:
        return 1009;
       case 9:
        return 1010;
       case 10:
        return 1011;
       case 11:
        return 1012;
       case 12:
        return 1013;
       case 13:
        return 1014;
       default: return 1015;
     }
    if(0 === param[0]){var code = param[1]; return code;}
    var code$0 = param[1];
    return code$0;
   }
   function _t_(param){
    function _af_(x_031){
     var
      x_030 = of_int(to_int(x_031)),
      _ag_ = 0 === compare(x_030, x_031) ? 1 : 0;
     if(_ag_) return 0;
     throw caml_maybe_attach_backtrace([0, Assert_failure, _u_], 1);
    }
    caml_call2(Core_List[19], all, _af_);
    return 0;
   }
   caml_call8
    (Ppx_inline_test_lib[9],
     Inline_test_config,
     cst_to_int_of_int_round_trip,
     0,
     cst_src_rpc_ml,
     99,
     4,
     134,
     _t_);
   function client(opt, heartbeat_config, description, implementations, param){
    if(opt)
     var sth = opt[1], uri = sth;
    else{
     var
      scheme =
        caml_call2(Core_String[145], Js_of_ocaml_Url[10][3], cst_https)
         ? cst_wss
         : cst_ws,
      match$0 = Js_of_ocaml_Url[10][2];
     if(match$0)
      var port = match$0[1], port$0 = port;
     else
      var
       port$0 =
         caml_call2(Core_String[145], Js_of_ocaml_Url[10][3], cst_https$0)
          ? Js_of_ocaml_Url[4]
          : Js_of_ocaml_Url[3];
     var
      host = Js_of_ocaml_Url[10][1],
      uri =
        caml_call8(make, [0, scheme], 0, [0, host], [0, port$0], 0, 0, 0, 0);
    }
    var match$1 = [0, [1, [0, _y_, [0, caml_call1(sexp_of_t, uri), 0]]], 0];
    if(description)
     var
      v = description[1],
      _O_ = [0, [1, [0, _z_, [0, caml_call1(Core_Info[9], v), 0]]], match$1];
    else
     var _O_ = match$1;
    var res = [0, caml_call1(Sexplib0_Sexp_conv[7], cst_websocket), _O_];
    if(res[2]) var _P_ = [1, res]; else var h = res[1], _P_ = h;
    var
     description$0 = caml_call1(Core_Info[20], _P_),
     match$2 = caml_call3(Async_kernel_Pipe[7], 0, 0, 0),
     from_server_w = match$2[2],
     from_server_r = match$2[1],
     match$3 = caml_call3(Async_kernel_Pipe[7], 0, 0, 0),
     to_server_w = match$3[2],
     to_server_r = match$3[1];
    a:
    {
     var
      _Q_ =
        function(error){
         if(0 !== error[0]) return caml_call1(Async_kernel[20], error);
         var
          transport =
            caml_call3
             (Async_rpc_kernel_Pipe_transpor[2],
              Async_rpc_kernel_Pipe_transpor[1][2],
              from_server_r,
              to_server_w);
         function _aa_(param){
          if(0 === param[0]){
           var connection = param[1];
           return caml_call1(Async_kernel[20], [0, connection]);
          }
          var exn = param[1];
          function _ac_(param){
           var _ae_ = caml_call2(Core_Or_error[41], 0, exn);
           return caml_call1(Async_kernel[20], _ae_);
          }
          var _ad_ = caml_call1(Async_rpc_kernel_Transport[5], transport);
          return caml_call2(Async_kernel[23][2], _ad_, _ac_);
         }
         function create(param){
          var implementations = param[2], connection_state = param[1];
          return caml_call10
                  (Async_rpc_kernel_Rpc[5][4],
                   [0, implementations],
                   0,
                   connection_state,
                   0,
                   heartbeat_config,
                   0,
                   [0, description$0],
                   0,
                   0,
                   transport);
         }
         if(implementations)
          var
           implementations$0 = implementations[1],
           _ab_ = create(implementations$0);
         else
          var _ab_ = create(caml_call1(Async_rpc_kernel_Rpc[5][3][1], 0));
         return caml_call2(Async_kernel[23][2], _ab_, _aa_);
        };
     try{
      var
       _F_ = caml_jsstring_of_string(caml_call2(to_string, 0, uri)),
       websocket = new Js_of_ocaml_WebSockets[1](_F_);
     }
     catch(exn$1){
      var exn = caml_wrap_exception(exn$1);
      if(exn[1] === Js_of_ocaml_Js[37][8]){
       var
        exn$0 = exn[2],
        _C_ = caml_call1(Js_of_ocaml_Js[37][3], exn$0),
        _D_ = caml_call1(Core_Or_error[46], _C_),
        _R_ = caml_call1(Async_kernel[20], _D_);
       break a;
      }
      var
       _E_ = caml_call2(Core_Or_error[41], 0, exn),
       _R_ = caml_call1(Async_kernel[20], _E_);
      break a;
     }
     var
      connected_ivar = caml_call1(Async_kernel_Ivar[12], 0),
      cleanup =
        function(reason){
         caml_call2(Async_kernel_Ivar[16], connected_ivar, [1, reason]);
         caml_call1(Async_kernel_Pipe[15], from_server_w);
         caml_call1(Async_kernel_Pipe[16], to_server_r);
         var reason$0 = caml_call1(Core_Error[12], reason);
         function close(reason){
          return websocket.close
                  (to_int(normal_closure), caml_jsstring_of_string(reason));
         }
         try{close(reason$0);}
         catch(_$_){return close(cst_close_reason_was_too_long_);}
         return 0;
        },
      onclose =
        function(close_event){
         var
          what_happened =
            caml_call1(Async_kernel_Ivar[18], connected_ivar)
             ? cst_closed
             : cst_connection_failed,
          _Y_ = of_int(close_event.code),
          _Z_ =
            [0,
             [11,
              cst_WebSocket,
              [2,
               0,
               [11,
                cst,
                [24,
                 _w_,
                 function(param, custom_printf_034){
                  if(typeof custom_printf_034 === "number")
                   switch(custom_printf_034){
                     case 0:
                      var ___ = _c_; break;
                     case 1:
                      var ___ = _d_; break;
                     case 2:
                      var ___ = _e_; break;
                     case 3:
                      var ___ = _f_; break;
                     case 4:
                      var ___ = _g_; break;
                     case 5:
                      var ___ = _h_; break;
                     case 6:
                      var ___ = _i_; break;
                     case 7:
                      var ___ = _j_; break;
                     case 8:
                      var ___ = _k_; break;
                     case 9:
                      var ___ = _l_; break;
                     case 10:
                      var ___ = _m_; break;
                     case 11:
                      var ___ = _n_; break;
                     case 12:
                      var ___ = _o_; break;
                     case 13:
                      var ___ = _p_; break;
                     default: var ___ = _q_;
                   }
                  else if(0 === custom_printf_034[0])
                   var
                    arg0_026 = custom_printf_034[1],
                    res0_027 = caml_call1(sexp_of_close_event_code, arg0_026),
                    ___ = [1, [0, _r_, [0, res0_027, 0]]];
                  else
                   var
                    arg0_028 = custom_printf_034[1],
                    res0_029 = caml_call1(sexp_of_close_event_code, arg0_028),
                    ___ = [1, [0, _s_, [0, res0_029, 0]]];
                  return caml_call2(Ppx_sexp_conv_lib[1][13], 0, ___);
                 },
                 _v_]]]],
             cst_WebSocket_s_sexp_Close_cod],
          reason = caml_call3(Core[265], _Z_, what_happened, _Y_);
         cleanup(caml_call1(Core_Error[14], reason));
         return Js_of_ocaml_Js[8];
        },
      onmessage =
        function(event){
         var data = caml_call1(Js_of_ocaml_Typed_array[50][3], event.data);
         caml_call2(Async_kernel_Pipe[35], from_server_w, data);
         return Js_of_ocaml_Js[8];
        },
      connected =
        function(param){
         return caml_call2(Async_kernel_Ivar[16], connected_ivar, _x_);
        };
     websocket.binaryType = "arraybuffer";
     var match = websocket.readyState;
     if(1 === match)
      connected(0);
     else if(match)
      cleanup(caml_call1(Core_Error[14], cst_WebSocket_failed_immediate));
     else{
      var
       _N_ = function(param){connected(0); return Js_of_ocaml_Js[8];},
       t10 = caml_call1(Js_of_ocaml_Dom[10], _N_);
      websocket.onopen = t10;
     }
     var
      _G_ =
        function(param){
         var
          _X_ =
            caml_call1(Sexplib0_Sexp_conv[7], cst_websocket_encountered_unex);
         caml_call1(Async_js_Debug[1], _X_);
         return Js_of_ocaml_Js[8];
        },
      t12 = caml_call1(Js_of_ocaml_Dom[10], _G_);
     websocket.onerror = t12;
     var t14 = caml_call1(Js_of_ocaml_Dom[10], onmessage);
     websocket.onmessage = t14;
     var t16 = caml_call1(Js_of_ocaml_Dom[10], onclose);
     websocket.onclose = t16;
     var
      connected_deferred = caml_call1(Async_kernel_Ivar[19], connected_ivar),
      _H_ =
        function(param){
         if(0 !== param[0]) return caml_call1(Async_kernel[20], 0);
         function _S_(data){
          var match = websocket.readyState;
          if(1 === match){
           var buffer = caml_call1(Js_of_ocaml_Typed_array[50][1], data);
           try{var _V_ = websocket.send(buffer); return _V_;}
           catch(exn$0){
            var
             exn = caml_wrap_exception(exn$0),
             _T_ = caml_call2(Core_Error[27], 0, exn),
             _U_ = caml_call2(Core_Error[22], _T_, cst_websocket_send_buffer);
            return caml_call1(Core_Error[30], _U_);
           }
          }
          if(match) return 0;
          var
           _W_ =
             caml_call1(Sexplib0_Sexp_conv[7], cst_BUG_onopen_called_but_read);
          return caml_call1(Core[261], _W_);
         }
         return caml_call5(Async_kernel_Pipe[55], 0, 0, 0, to_server_r, _S_);
        },
      _I_ = caml_call2(Async_kernel[23][2], connected_deferred, _H_);
     caml_call1(Async_kernel[6], _I_);
     var
      _J_ =
        function(param){
         return cleanup
                 (caml_call1(Core_Error[14], cst_RPC_connection_closed_by_c));
        },
      _K_ = [0, caml_call1(Async_kernel_Pipe[18], from_server_w), 0],
      _L_ = [0, caml_call1(Async_kernel_Pipe[18], to_server_r), _K_],
      _M_ = caml_call1(Async_kernel_Deferred[24], _L_),
      cleanup_when_a_pipe_is_closed =
        caml_call2(Async_kernel[23][3], _M_, _J_);
     caml_call1(Async_kernel[6], cleanup_when_a_pipe_is_closed);
     var _R_ = connected_deferred;
    }
    return caml_call2(Async_kernel[23][2], _R_, _Q_);
   }
   function client_exn
   (uri, heartbeat_config, description, implementations, param){
    var
     _A_ = Core_Or_error[40],
     _B_ = client(uri, heartbeat_config, description, implementations, 0);
    return caml_call2(Async_kernel[22], _B_, _A_);
   }
   var
    Connection = Async_rpc_kernel_Rpc[5],
    sexp_of_t$0 = Connection[1],
    create = Connection[4],
    contains_magic_prefix = Connection[5],
    description = Connection[6],
    add_heartbeat_callback = Connection[7],
    reset_heartbeat_timeout = Connection[8],
    last_seen_alive = Connection[9],
    close = Connection[10],
    close_finished = Connection[11],
    close_reason = Connection[12],
    is_closed = Connection[13],
    bytes_to_write = Connection[14],
    bytes_written = Connection[15],
    bytes_read = Connection[16],
    flushed = Connection[17],
    peer_menu = Connection[18],
    peer_menu$0 = Connection[19],
    my_menu = Connection[20],
    peer_identification = Connection[21],
    with_close = Connection[22],
    server_with_close = Connection[23];
   caml_call1(Ppx_inline_test_lib[7], cst_async_js);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Rpc);
   var
    Async_js_Rpc =
      [0,
       [0,
        sexp_of_t$0,
        create,
        contains_magic_prefix,
        description,
        add_heartbeat_callback,
        reset_heartbeat_timeout,
        last_seen_alive,
        close,
        close_finished,
        close_reason,
        is_closed,
        bytes_to_write,
        bytes_written,
        bytes_read,
        flushed,
        peer_menu,
        peer_menu$0,
        my_menu,
        peer_identification,
        with_close,
        server_with_close,
        client,
        client_exn]];
   runtime.caml_register_global(160, Async_js_Rpc, cst_Async_js_Rpc$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Persistent_connection
//# unitInfo: Requires: Async_rpc_kernel__Persistent_connection, Base__Sexpable, Core, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Uri
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js_Persistent_connec$0 = "Async_js__Persistent_connection",
    cst_async_js$0 = "async_js";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Core = global_data.Core,
    Uri = global_data.Uri,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Base_Sexpable = global_data.Base__Sexpable,
    Async_rpc_kernel_Persistent_co =
      global_data.Async_rpc_kernel__Persistent_connection;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Persistent_connec$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js$0);
   caml_call1(Ppx_expect_runtime[1][1], "src/persistent_connection.ml");
   caml_call2
    (Ppx_inline_test_lib[6], cst_async_js$0, "persistent_connection.ml");
   var
    equal = Uri[3],
    of_string = Uri[7],
    cst_async_js = cst_async_js$0,
    cst_Async_js_Persistent_connec = cst_Async_js_Persistent_connec$0;
   function to_string(s){return caml_call2(Uri[8], 0, s);}
   var
    include = caml_call1(Base_Sexpable[5], [0, of_string, to_string]),
    sexp_of_t = include[3],
    include$0 = Async_rpc_kernel_Persistent_co[1],
    sexp_of_t$0 = include$0[1],
    Event = include$0[2],
    create = include$0[3],
    connected = include$0[4],
    event_bus = include$0[5],
    connected_or_failed_to_connect = include$0[6],
    current_connection = include$0[7],
    server_name = include$0[8],
    close = include$0[9],
    is_closed = include$0[10],
    close_finished = include$0[11],
    close_when_current_connection_ = include$0[12],
    _a_ = Async_rpc_kernel_Persistent_co[1][3],
    _b_ = [0, equal, sexp_of_t];
   function create_from_uri(_l_){
    var _m_ = caml_call1(_a_, _l_);
    return function(_r_, _q_, _p_, _o_, _n_){
     return caml_call6(_m_, _r_, _q_, _p_, _o_, _n_, _b_);};
   }
   var func = Async_rpc_kernel_Persistent_co[1][3];
   function equal$0(a_001, b_002){
    function _k_(a_003, b_004){return caml_call2(equal, a_003, b_004);}
    return caml_call3(Core[511], _k_, a_001, b_002);
   }
   function sexp_of_t$1(x_007){
    return caml_call2(Core[515], sexp_of_t, x_007);
   }
   var _c_ = [0, equal$0, sexp_of_t$1];
   function create_from_uri_option(_d_){
    var _e_ = caml_call1(func, _d_);
    return function(_j_, _i_, _h_, _g_, _f_){
     return caml_call6(_e_, _j_, _i_, _h_, _g_, _f_, _c_);};
   }
   var
    Rpc =
      [0,
       sexp_of_t$0,
       Event,
       create,
       connected,
       event_bus,
       connected_or_failed_to_connect,
       current_connection,
       server_name,
       close,
       is_closed,
       close_finished,
       close_when_current_connection_,
       create_from_uri,
       create_from_uri_option];
   caml_call1(Ppx_inline_test_lib[7], cst_async_js);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Persistent_connec);
   var
    Async_js_Persistent_connection =
      [0, Rpc, Async_rpc_kernel_Persistent_co[2]];
   runtime.caml_register_global
    (15, Async_js_Persistent_connection, cst_Async_js_Persistent_connec$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Http
//# unitInfo: Requires: Async_kernel__Deferred_or_error, Async_kernel__Ivar, Base__Or_error, Core, Core__List, Core__Option, Core__Or_error, Core__Result, Core__String, Js_of_ocaml__Dom, Js_of_ocaml__File, Js_of_ocaml__Js, Js_of_ocaml__Url, Js_of_ocaml__XmlHttpRequest, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js_Http$0 = "Async_js__Http",
    cst_async_js$0 = "async_js",
    cst_code = "code",
    cst_status_text = "status_text",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_string_of_jsstring = runtime.caml_string_of_jsstring;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    method_string = "GET",
    cst = "&",
    cst$0 = "?",
    method_string$0 = "POST",
    Async_kernel_Deferred_or_error =
      global_data.Async_kernel__Deferred_or_error,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Core_Option = global_data.Core__Option,
    Core = global_data.Core,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Core_Result = global_data.Core__Result,
    Js_of_ocaml_File = global_data.Js_of_ocaml__File,
    Core_Or_error = global_data.Core__Or_error,
    Base_Or_error = global_data.Base__Or_error,
    Async_kernel_Ivar = global_data.Async_kernel__Ivar,
    Js_of_ocaml_Url = global_data.Js_of_ocaml__Url,
    Js_of_ocaml_XmlHttpRequest = global_data.Js_of_ocaml__XmlHttpRequest,
    Core_List = global_data.Core__List,
    Core_String = global_data.Core__String,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Http$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js$0);
   caml_call1(Ppx_expect_runtime[1][1], "src/http.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_async_js$0, "http.ml");
   var
    Response_type = [0],
    Response = [0],
    Post_body = [0],
    Method_with_args = [0],
    _a_ = [0, cst_status_text],
    _b_ = [0, cst_code],
    cst_No_response_returned_despi =
      "No response returned despite successful request",
    _c_ = [0, cst_status_text],
    _d_ = [0, cst_code],
    cst_Request_failed = "Request failed",
    cst_Timeout = "Timeout",
    cst_Network_error = "Network error",
    cst_async_js = cst_async_js$0,
    cst_Async_js_Http = cst_Async_js_Http$0;
   function request
   (opt,
    on_progress,
    on_upload_progress,
    url,
    response_type,
    method_with_args){
    if(opt) var sth = opt[1], headers = sth; else var headers = 0;
    if(0 === method_with_args[0])
     var
      args = method_with_args[1],
      _j_ = caml_call1(Js_of_ocaml_Url[6], args),
      _i_ = caml_call2(Core_String[53], url, 63),
      _k_ = caml_call1(Core_Option[62], _i_) ? cst : cst$0,
      _l_ = caml_call2(Core[18], _k_, _j_),
      method_string$1 = method_string,
      url$0 = caml_call2(Core[18], url, _l_);
    else
     var method_string$1 = method_string$0, url$0 = url;
    var req = caml_call1(Js_of_ocaml_XmlHttpRequest[1], 0);
    req.open
     (caml_jsstring_of_string(method_string$1),
      caml_jsstring_of_string(url$0),
      Js_of_ocaml_Js[7]);
    switch(response_type){
      case 0:
       req.responseType = "arraybuffer"; break;
      case 1:
       req.responseType = "blob"; break;
      case 2:
       req.responseType = "document"; break;
      case 3:
       req.responseType = "json"; break;
      case 4:
       req.responseType = "text"; break;
      default: req.responseType = "";
    }
    function _m_(param){
     var value = param[2], name = param[1];
     return req.setRequestHeader
             (caml_jsstring_of_string(name), caml_jsstring_of_string(value));
    }
    caml_call2(Core_List[19], headers, _m_);
    var response = caml_call1(Async_kernel_Ivar[12], 0);
    function _n_(param){
     var _J_ = caml_call1(Core_Or_error[46], cst_Network_error);
     caml_call2(Async_kernel_Ivar[16], response, _J_);
     return Js_of_ocaml_Js[7];
    }
    var t19 = caml_call1(Js_of_ocaml_Dom[10], _n_);
    req.onerror = t19;
    function _o_(param){
     var _I_ = caml_call1(Core_Or_error[46], cst_Timeout);
     caml_call2(Async_kernel_Ivar[16], response, _I_);
     return Js_of_ocaml_Js[7];
    }
    var t21 = caml_call1(Js_of_ocaml_Dom[10], _o_);
    req.ontimeout = t21;
    var
     t38 =
       runtime.caml_js_wrap_callback
        (function(param){
          if(4 > req.readyState) return 0;
          a:
          {
           if
            (caml_call2(Core[88], req.status, 200)
             && caml_call2(Core[92], req.status, 300)){
            var
             _u_ =
               function(content){
                function get_header(s){
                 function _F_(v){return [0, caml_string_of_jsstring(v)];}
                 function _G_(param){return 0;}
                 var
                  _H_ =
                    req.getResponseHeader(runtime.caml_jsbytes_of_string(s));
                 return caml_call3(Js_of_ocaml_Js[5][7], _H_, _G_, _F_);
                }
                return [0, [0, req.status, get_header, content]];
               },
             get_text_contents_or_error =
               function(param){
                var _A_ = Core_Result[28];
                function _B_(param){
                 var
                  _C_ =
                    [0,
                     [1,
                      [0,
                       _a_,
                       [0,
                        caml_call1
                         (Core[558], caml_string_of_jsstring(req.statusText)),
                        0]]],
                     0],
                  _D_ =
                    [0,
                     [1,
                      [0,
                       [1, [0, _b_, [0, caml_call1(Core[389], req.status), 0]]],
                       _C_]],
                     0],
                  _E_ =
                    [1,
                     [0,
                      caml_call1
                       (Sexplib0_Sexp_conv[7], cst_No_response_returned_despi),
                      _D_]];
                 return caml_call1(Core[245], _E_);
                }
                return caml_call3
                        (Js_of_ocaml_Js[5][7], req.responseText, _B_, _A_);
               };
            switch(response_type){
              case 0:
               var
                _v_ = [0, caml_call1(Js_of_ocaml_File[3][5], req.response)];
               break;
              case 1:
               var
                _v_ = [0, caml_call1(Js_of_ocaml_File[3][2], req.response)];
               break;
              case 2:
               var
                _v_ = [0, caml_call1(Js_of_ocaml_File[3][1], req.response)];
               break;
              case 3:
               var
                _v_ = [0, caml_call1(Js_of_ocaml_File[3][3], req.response)];
               break;
              case 4:
               var _v_ = get_text_contents_or_error(0); break;
              default:
               var
                _w_ = get_text_contents_or_error(0),
                _v_ =
                  caml_call2(Core_Or_error[53], _w_, caml_string_of_jsstring);
            }
            var res = caml_call2(Base_Or_error[28][4][2], _v_, _u_);
            break a;
           }
           var
            _x_ =
              [0,
               [1,
                [0,
                 _c_,
                 [0,
                  caml_call1
                   (Core[558], caml_string_of_jsstring(req.statusText)),
                  0]]],
               0],
            _y_ =
              [0,
               [1,
                [0,
                 [1, [0, _d_, [0, caml_call1(Core[389], req.status), 0]]],
                 _x_]],
               0],
            _z_ =
              [1,
               [0, caml_call1(Sexplib0_Sexp_conv[7], cst_Request_failed), _y_]],
            res = caml_call1(Core_Or_error[45], _z_);
          }
          return caml_call2(Async_kernel_Ivar[16], response, res);
         });
    req.onreadystatechange = t38;
    function _p_(on_progress){
     function _t_(t41){
      caml_call2(on_progress, t41.loaded, t41.total);
      return Js_of_ocaml_Js[7];
     }
     var t42 = caml_call1(Js_of_ocaml_Dom[10], _t_);
     return req.onprogress = t42;
    }
    caml_call2(Core_Option[46], on_progress, _p_);
    function _q_(upload){
     function _r_(on_upload_progress){
      function _s_(t46){
       caml_call2(on_upload_progress, t46.loaded, t46.total);
       return Js_of_ocaml_Js[7];
      }
      var t47 = caml_call1(Js_of_ocaml_Dom[10], _s_);
      return upload.onprogress = t47;
     }
     return caml_call2(Core_Option[46], on_upload_progress, _r_);
    }
    caml_call2(Js_of_ocaml_Js[6][6], req.upload, _q_);
    if(0 === method_with_args[0])
     req.send(Js_of_ocaml_Js[1]);
    else{
     var body = method_with_args[1];
     if(body){
      var body$0 = body[1];
      switch(body$0[0]){
        case 0:
         var b = body$0[1]; req.send(b); break;
        case 1:
         var d = body$0[1]; req.send(d); break;
        case 2:
         var s = body$0[1];
         req.send(caml_call1(Js_of_ocaml_Js[2], caml_jsstring_of_string(s)));
         break;
        default: var fd = body$0[1]; req.send(fd);
      }
     }
     else
      req.send(Js_of_ocaml_Js[1]);
    }
    return caml_call1(Async_kernel_Ivar[19], response);
   }
   function get(opt, url){
    if(opt) var sth = opt[1], arguments$0 = sth; else var arguments$0 = 0;
    function _g_(resp){return resp[3];}
    var _h_ = request(0, 0, 0, url, 5, [0, arguments$0]);
    return caml_call2(Async_kernel_Deferred_or_error[14], _h_, _g_);
   }
   function post(body, url){
    function _e_(resp){return resp[3];}
    var _f_ = request(0, 0, 0, url, 5, [1, body]);
    return caml_call2(Async_kernel_Deferred_or_error[14], _f_, _e_);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_async_js);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Http);
   var
    Async_js_Http =
      [0,
       Response_type,
       Post_body,
       Method_with_args,
       Response,
       request,
       get,
       post];
   runtime.caml_register_global(82, Async_js_Http, cst_Async_js_Http$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Async_js0
//# unitInfo: Requires: Async_kernel__Clock_ns, Async_kernel__Deferred, Async_kernel__Ivar, Async_kernel__Monitor, Async_kernel__Scheduler, Base__Exn, Core, Core__Float, Core__List, Core__Option, Core__Stack, Core__Time_ns, Js_of_ocaml__Dom, Js_of_ocaml__Dom_html, Js_of_ocaml__Firebug, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js_Async_js0$0 = "Async_js__Async_js0",
    cst_async_js$0 = "async_js",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    undef = undefined,
    global_data = runtime.caml_get_global_data(),
    ready_state_change = "readystatechange",
    complete = "complete",
    Base_Exn = global_data.Base__Exn,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Async_kernel_Ivar = global_data.Async_kernel__Ivar,
    Async_kernel_Deferred = global_data.Async_kernel__Deferred,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Core = global_data.Core,
    Async_kernel_Scheduler = global_data.Async_kernel__Scheduler,
    Async_kernel_Monitor = global_data.Async_kernel__Monitor,
    Core_Time_ns = global_data.Core__Time_ns,
    Core_Float = global_data.Core__Float,
    Core_Option = global_data.Core__Option,
    Core_Stack = global_data.Core__Stack,
    Js_of_ocaml_Firebug = global_data.Js_of_ocaml__Firebug,
    Core_List = global_data.Core__List,
    Async_kernel_Clock_ns = global_data.Async_kernel__Clock_ns,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Async_js0$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js$0);
   caml_call1(Ppx_expect_runtime[1][1], "src/async_js0.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_async_js$0, "async_js0.ml");
   var
    cst_Async_kernel_Monitor_try_w = "Async_kernel: Monitor.try_with",
    cst_Async_kernel_Unhandled_exc = "Async_kernel: Unhandled exception",
    cst_Error = "Error:",
    cst_async_js = cst_async_js$0,
    cst_Async_js_Async_js0 = cst_Async_js_Async_js0$0;
   function sleep(d){
    var _E_ = caml_call1(Core_Time_ns[1][82], d);
    return caml_call1(Async_kernel_Clock_ns[4], _E_);
   }
   function yield$0(param){
    var _D_ = caml_call1(Async_kernel_Scheduler[2], 0);
    return caml_call1(Async_kernel_Scheduler[69], _D_);
   }
   function extract_js_error(exn){
    if(exn[1] === Base_Exn[4]){
     var exn$0 = exn[3], msg = exn[2], match = extract_js_error(exn$0);
     if(! match) return 0;
     var match$0 = match[1], js_error = match$0[2], messages = match$0[1];
     return [0, [0, [0, msg, messages], js_error]];
    }
    var match$1 = caml_call1(Js_of_ocaml_Js[37][7], exn);
    if(! match$1) return 0;
    var js_error$0 = match$1[1];
    return [0, [0, 0, js_error$0]];
   }
   function pretty_print_exception(name, exn){
    var exn$0 = caml_call1(Async_kernel_Monitor[13], exn);
    if(exn$0[1] === Js_of_ocaml_Js[37][8])
     var err = exn$0[2], classification = [0, 16617, err];
    else{
     var match$0 = extract_js_error(exn$0);
     if(match$0)
      var err$2 = match$0[1], _C_ = [0, 566177629, [0, exn$0, err$2]];
     else
      var _C_ = [0, 3458171, exn$0];
     var classification = _C_;
    }
    var _x_ = classification[1];
    if(3458171 === _x_){
     var
      exn$1 = classification[2],
      _y_ = caml_jsstring_of_string(caml_call1(Base_Exn[10], exn$1));
     return Js_of_ocaml_Firebug[1].error(caml_jsstring_of_string(name), _y_);
    }
    if(566177629 > _x_){
     var err$1 = classification[2];
     return Js_of_ocaml_Firebug[1].error(caml_jsstring_of_string(name), err$1);
    }
    var
     _z_ = classification[2],
     match = _z_[2],
     err$0 = match[2],
     messages = match[1],
     exn$2 = _z_[1];
    if(messages){
     var rest = messages[2], hd = messages[1];
     Js_of_ocaml_Firebug[1].group(caml_jsstring_of_string(hd));
     Js_of_ocaml_Firebug[1].log(caml_jsstring_of_string(name));
     var
      _A_ =
        function(message){
         return Js_of_ocaml_Firebug[1].error(caml_jsstring_of_string(message));
        };
     caml_call2(Core_List[19], rest, _A_);
    }
    else
     Js_of_ocaml_Firebug[1].group(caml_jsstring_of_string(name));
    Js_of_ocaml_Firebug[1].groupCollapsed("OCaml Exception");
    var _B_ = caml_jsstring_of_string(caml_call1(Base_Exn[10], exn$2));
    Js_of_ocaml_Firebug[1].log(_B_);
    Js_of_ocaml_Firebug[1].groupEnd();
    Js_of_ocaml_Firebug[1].error(err$0);
    return Js_of_ocaml_Firebug[1].groupEnd();
   }
   var state = [0, 0], timeouts = caml_call1(Core_Stack[23], 0);
   function run_after(f, ms){
    caml_call2(Js_of_ocaml_Dom_html[118], f, ms);
    return 0;
   }
   function loop(param){
    var t = caml_call1(Async_kernel_Scheduler[2], 0), match = state[1];
    if(! caml_call1(Async_kernel_Scheduler[20], t) && 1 !== match){
     state[1] = 1;
     caml_call1(Async_kernel_Scheduler[14], t);
     if(caml_call1(Async_kernel_Scheduler[45], t))
      var next_wakeup = 1;
     else{
      var match$0 = caml_call1(Async_kernel_Scheduler[17], t);
      if(match$0)
       var
        next = match$0[1],
        now = caml_call1(Core_Time_ns[66], 0),
        d = caml_call2(Core_Time_ns[73], next, now),
        d_ms$0 = caml_call1(Core_Time_ns[1][88], d),
        _v_ = caml_call2(Core_Float[127], d_ms$0, 0.) ? 1 : [0, next, d_ms$0],
        _w_ = _v_;
      else
       var _w_ = 0;
      var next_wakeup = _w_;
     }
     var
      _q_ =
        function(param){
         var
          exn = param[1],
          exn$0 = caml_call1(Async_kernel_Monitor[13], exn);
         if(exn$0[1] === Js_of_ocaml_Js[37][8]){
          var err = exn$0[2];
          return caml_call1(Js_of_ocaml_Js[37][5], err);
         }
         var match = caml_call1(Js_of_ocaml_Js[37][7], exn$0);
         if(! match) throw caml_maybe_attach_backtrace(exn$0, 0);
         var err$0 = match[1];
         pretty_print_exception(cst_Error, exn$0);
         return caml_call1(Js_of_ocaml_Js[37][5], err$0);
        },
      _r_ = caml_call1(Async_kernel_Scheduler[21], t);
     caml_call2(Core_Option[46], _r_, _q_);
     if(typeof next_wakeup === "number")
      return next_wakeup
              ? (state[1] = 2, run_after(loop, 0.))
              : (state[1] = 0, 0);
     var d_ms = next_wakeup[2], at = next_wakeup[1];
     state[1] = 0;
     var _s_ = caml_call1(Core_Stack[7], timeouts);
     if(_s_)
      var _t_ = _s_;
     else
      var
       _u_ = caml_call1(Core_Stack[29], timeouts),
       _t_ = caml_call2(Core_Time_ns[19], at, _u_);
     return _t_
             ? (caml_call2
                (Core_Stack[25], timeouts, at),
               run_after(run_timeout, d_ms))
             : _t_;
    }
    return 0;
   }
   function run_timeout(param){
    caml_call1(Core_Stack[27], timeouts);
    return loop(0);
   }
   function run(param){
    return state[1] ? 0 : (run_after(loop, 0.), state[1] = 2, 0);
   }
   var
    initialized_ref = [0, 0],
    initialization =
      [246,
       function(param){
        var t = caml_call1(Async_kernel_Scheduler[2], 0);
        initialized_ref[1] = 1;
        function _k_(param){return run(0);}
        caml_call2(Async_kernel_Scheduler[52], t, _k_);
        function _l_(param){return run(0);}
        caml_call2(Async_kernel_Scheduler[53], t, _l_);
        caml_call2(Async_kernel_Scheduler[51], t, run);
        function _m_(_p_){
         return pretty_print_exception(cst_Async_kernel_Monitor_try_w, _p_);
        }
        Async_kernel_Monitor[25][1][1] = _m_;
        function _n_(_o_){
         return pretty_print_exception(cst_Async_kernel_Unhandled_exc, _o_);
        }
        caml_call2(Async_kernel_Monitor[7], Async_kernel_Monitor[24], _n_);
        return run(0);
       }];
   function init(param){return caml_call1(Core[248], initialization);}
   function initialized(param){return initialized_ref[1];}
   function js_string_compare(s){
    var _i_ = caml_jsstring_of_string(s);
    return function(_j_){return _i_ === _j_ ? 1 : 0;};
   }
   var
    readystatechange_ev =
      caml_call1(Js_of_ocaml_Dom[14][1], ready_state_change);
   function add_event(target, evt, handler){
    caml_call4
     (Js_of_ocaml_Dom_html[17], target, evt, handler, Js_of_ocaml_Js[8]);
    return;
   }
   function document_loaded(param){
    var t22 = Js_of_ocaml_Dom_html[2], _a_ = t22.readyState;
    if(js_string_compare(complete)(_a_)) return Async_kernel_Deferred[18];
    var loaded = caml_call1(Async_kernel_Ivar[12], 0);
    function handler(evt){
     var _e_ = evt.type, _f_ = 1 - js_string_compare(ready_state_change)(_e_);
     if(_f_)
      var _g_ = _f_;
     else
      var
       t24 = Js_of_ocaml_Dom_html[2],
       _h_ = t24.readyState,
       _g_ = js_string_compare(complete)(_h_);
     if(_g_) caml_call2(Async_kernel_Ivar[16], loaded, 0);
     return Js_of_ocaml_Js[7];
    }
    var _b_ = caml_call1(Js_of_ocaml_Dom[10], handler);
    add_event(Js_of_ocaml_Dom_html[2], Js_of_ocaml_Dom_html[15][54], _b_);
    var _c_ = caml_call1(Js_of_ocaml_Dom[10], handler);
    add_event(Js_of_ocaml_Dom_html[2], readystatechange_ev, _c_);
    var _d_ = caml_call1(Js_of_ocaml_Dom[10], handler);
    add_event(Js_of_ocaml_Dom_html[8], Js_of_ocaml_Dom_html[15][36], _d_);
    return caml_call1(Async_kernel_Ivar[19], loaded);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_async_js);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Async_js0);
   var
    Async_js_Async_js0 =
      [0, sleep, yield$0, init, initialized, document_loaded];
   runtime.caml_register_global
    (50, Async_js_Async_js0, cst_Async_js_Async_js0$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js
//# unitInfo: Requires: Async_js__Async_js0, Async_js__Debug, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js = "Async_js",
    cst_async_js = "async_js";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Async_js_Async_js0 = global_data.Async_js__Async_js0,
    Async_js_Debug = global_data.Async_js__Debug;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js);
   caml_call1(Ppx_expect_runtime[1][1], "src/async_js.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_async_js, "async_js.ml");
   var
    sleep = Async_js_Async_js0[1],
    yield$0 = Async_js_Async_js0[2],
    init = Async_js_Async_js0[3],
    initialized = Async_js_Async_js0[4],
    document_loaded = Async_js_Async_js0[5],
    log_s = Async_js_Debug[1],
    log_s_as_string = Async_js_Debug[2];
   caml_call1(Ppx_inline_test_lib[7], cst_async_js);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js);
   var
    Async_js =
      [0,
       sleep,
       yield$0,
       init,
       initialized,
       document_loaded,
       log_s,
       log_s_as_string];
   runtime.caml_register_global(13, Async_js, cst_Async_js);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJhc3luY19qcy5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsiaXNfdmFsaWRfZmllbGRfbmFtZSIsInNlZW4iLCJuYW1lIiwiYW55X29mX3NleHAiLCJzIiwibGlzdCQwIiwidiQwIiwibmFtZSQxIiwic2VlbiQyIiwicmV2X2FjYyIsImxpc3QiLCJyZXN0IiwicmV2X2FjYyQwIiwic2VlbiQwIiwicmVzdCQwIiwidiIsIm5hbWUkMCIsInJldl9hY2MkMSIsInNlZW4kMSIsImwiLCJsb2dfcyIsInNleHAiLCJsb2dfc19hc19zdHJpbmciLCJzZXhwX29mX3QiLCJmaWVsZDJfMDE2IiwiZmllbGQxXzAxNCIsImFyZ18wMTciLCJibmRzXzAxMyIsInNvbWVfbmFtZV8wMDUiLCJhcmdfMDA2IiwiYm5kc18wMDQiLCJhcmdfMDE1IiwiYm5kc18wMTMkMCIsInRvX3N0cmluZyIsImFueSIsInNleHBfd2l0aF9kdXBsaWNhdGVfa2V5cyIsImkiLCJ4XzAyMiIsImFyZzFfMDE5IiwiYXJnMF8wMTgiLCJyZXMwXzAyMCIsInJlczFfMDIxIiwiY29tcGFyZV9jbG9zZV9ldmVudF9jb2RlIiwic2V4cF9vZl9jbG9zZV9ldmVudF9jb2RlIiwiYWxsX29mX2Nsb3NlX2V2ZW50X2NvZGUiLCJjb21wYXJlIiwiYV8wMDQiLCJiXzAwNSIsImFfMDA2IiwiYl8wMDciLCJhXzAwOCIsImJfMDA5IiwiYWNjIiwibCQwIiwiZW51bWVyYXRlXzAxMSIsImFjYyQwIiwibCQxIiwiYWNjJDEiLCJsJDIiLCJlbnVtZXJhdGVfMDEwIiwiYWNjJDIiLCJhbGwiLCJub3JtYWxfY2xvc3VyZSIsIm9mX2ludCIsImNvZGUiLCJ0b19pbnQiLCJjb2RlJDAiLCJ4XzAzMSIsInhfMDMwIiwiY2xpZW50Iiwib3B0IiwiaGVhcnRiZWF0X2NvbmZpZyIsImRlc2NyaXB0aW9uIiwiaW1wbGVtZW50YXRpb25zIiwic3RoIiwidXJpIiwic2NoZW1lIiwicG9ydCIsInBvcnQkMCIsImhvc3QiLCJtYXRjaCQxIiwicmVzIiwiaCIsImRlc2NyaXB0aW9uJDAiLCJmcm9tX3NlcnZlcl93IiwiZnJvbV9zZXJ2ZXJfciIsInRvX3NlcnZlcl93IiwidG9fc2VydmVyX3IiLCJlcnJvciIsInRyYW5zcG9ydCIsImNvbm5lY3Rpb24iLCJleG4iLCJjcmVhdGUiLCJjb25uZWN0aW9uX3N0YXRlIiwiaW1wbGVtZW50YXRpb25zJDAiLCJleG4kMSIsImV4biQwIiwiY29ubmVjdGVkX2l2YXIiLCJjbGVhbnVwIiwicmVhc29uIiwicmVhc29uJDAiLCJjbG9zZSIsIm9uY2xvc2UiLCJjbG9zZV9ldmVudCIsIndoYXRfaGFwcGVuZWQiLCJjdXN0b21fcHJpbnRmXzAzNCIsImFyZzBfMDI2IiwicmVzMF8wMjciLCJhcmcwXzAyOCIsInJlczBfMDI5Iiwib25tZXNzYWdlIiwiZGF0YSIsImNvbm5lY3RlZCIsImNvbm5lY3RlZF9kZWZlcnJlZCIsImJ1ZmZlciIsImNsZWFudXBfd2hlbl9hX3BpcGVfaXNfY2xvc2VkIiwiY2xpZW50X2V4biIsImNyZWF0ZV9mcm9tX3VyaSIsImVxdWFsJDAiLCJhXzAwMSIsImJfMDAyIiwiYV8wMDMiLCJiXzAwNCIsInNleHBfb2ZfdCQxIiwieF8wMDciLCJjcmVhdGVfZnJvbV91cmlfb3B0aW9uIiwibWV0aG9kX3N0cmluZyQwIiwicmVxdWVzdCIsIm9uX3Byb2dyZXNzIiwib25fdXBsb2FkX3Byb2dyZXNzIiwidXJsIiwicmVzcG9uc2VfdHlwZSIsIm1ldGhvZF93aXRoX2FyZ3MiLCJoZWFkZXJzIiwiYXJncyIsIm1ldGhvZF9zdHJpbmckMSIsInVybCQwIiwidmFsdWUiLCJyZXNwb25zZSIsImNvbnRlbnQiLCJnZXRfaGVhZGVyIiwiZ2V0X3RleHRfY29udGVudHNfb3JfZXJyb3IiLCJib2R5IiwiYm9keSQwIiwiYiIsImQiLCJmZCIsImdldCIsImFyZ3VtZW50cyQwIiwicmVzcCIsInBvc3QiLCJyZWFkeV9zdGF0ZV9jaGFuZ2UiLCJjb21wbGV0ZSIsInNsZWVwIiwieWllbGQkMCIsImV4dHJhY3RfanNfZXJyb3IiLCJtc2ciLCJqc19lcnJvciIsIm1lc3NhZ2VzIiwianNfZXJyb3IkMCIsInByZXR0eV9wcmludF9leGNlcHRpb24iLCJlcnIiLCJjbGFzc2lmaWNhdGlvbiIsImVyciQyIiwiZXJyJDEiLCJlcnIkMCIsImV4biQyIiwiaGQiLCJtZXNzYWdlIiwic3RhdGUiLCJ0aW1lb3V0cyIsInJ1bl9hZnRlciIsImYiLCJtcyIsImxvb3AiLCJ0IiwibmV4dF93YWtldXAiLCJuZXh0Iiwibm93IiwiZF9tcyQwIiwiZF9tcyIsImF0IiwicnVuX3RpbWVvdXQiLCJydW4iLCJpbml0aWFsaXplZF9yZWYiLCJpbml0aWFsaXphdGlvbiIsImluaXQiLCJpbml0aWFsaXplZCIsImpzX3N0cmluZ19jb21wYXJlIiwicmVhZHlzdGF0ZWNoYW5nZV9ldiIsImFkZF9ldmVudCIsInRhcmdldCIsImV2dCIsImhhbmRsZXIiLCJkb2N1bWVudF9sb2FkZWQiLCJsb2FkZWQiXSwic291cmNlcyI6WyIvVXNlcnMvdHlsYW5tb3Jhbi8ub3BhbS81LjEuMS9saWIvYXN5bmNfanMvYXN5bmNfanNfXy5tbCIsIi9Vc2Vycy90eWxhbm1vcmFuLy5vcGFtLzUuMS4xL2xpYi9hc3luY19qcy9kZWJ1Zy5tbCIsIi9Vc2Vycy90eWxhbm1vcmFuLy5vcGFtLzUuMS4xL2xpYi9hc3luY19qcy9ycGMubWwiLCIvVXNlcnMvdHlsYW5tb3Jhbi8ub3BhbS81LjEuMS9saWIvYXN5bmNfanMvcGVyc2lzdGVudF9jb25uZWN0aW9uLm1sIiwiL1VzZXJzL3R5bGFubW9yYW4vLm9wYW0vNS4xLjEvbGliL2FzeW5jX2pzL2h0dHAubWwiLCIvVXNlcnMvdHlsYW5tb3Jhbi8ub3BhbS81LjEuMS9saWIvYXN5bmNfanMvYXN5bmNfanMwLm1sIiwiL1VzZXJzL3R5bGFubW9yYW4vLm9wYW0vNS4xLjEvbGliL2FzeW5jX2pzL2FzeW5jX2pzLm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0dBaUJvQjs7SUFBQTs7OztFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lDRmhCQSxvQkFBcUJDLE1BQUtDO0lBQU87TUFYaEMsNkJBV3lCQTtnQkFScEIsd0JBUW9CQTs7O0tBTHhCO01BQUE7O1NBQW9COzs7Ozs7Ozs7Ozs7O1VBRVg7O1NBRHlDO1FBQ25DO2FBRkssNEJBS0lBO0lBQU8sc0JBQXdCLHlCQUFwQ0QsTUFBS0M7SUFBK0I7R0FBbUI7WUFnQnhFQztJQUFjLHVCQUNSQyxjQUFzQixPQUFBLHdCQUF0QkE7UUFFQUM7T0FBQUE7Z0JBQUFBOztpQkFBQUE7O1dBRGFDLGVBQU5DO09BQWEsT0FBQSx1QkFBYkEsUUFGYkosWUFFbUJHOzs7OztLQWhCRkU7S0FBQVAsT0FBQU87S0FBTUM7S0FBUUMsT0FpQnpCTDtJQWhCWjtRQURxQ0s7a0JBQUFBOztXQUFBQyxPQUFBRCxTQUc5QlI7T0FBa0IsR0FMdkJGLG9CQUVxQkMsTUFHaEJDO1FBQ1M7U0FKYVUsb0JBR3RCVixVQUhzQk87U0FBTkksU0FLVix5QkFMVVosTUFHaEJDO1NBSGdCRCxPQUFBWTtTQUFNSixVQUFBRztTQUFRRixPQUFBQzs7Ozs7Ozs7Ozs7Y0FBQUcsU0FBQUosU0FPakJLLGFBQU5DO1VBQXVCLEdBVG5DaEIsb0JBRXFCQyxNQU9UZTtXQUNFO1lBUmFDLG9CQU9mRCxZQUFNRCxLQVBTTjtZQUFOUyxTQVNWLHlCQVRVakIsTUFPVGU7WUFQU2YsT0FBQWlCO1lBQU1ULFVBQUFRO1lBQVFQLE9BQUFJOzs7Ozs7Ozs7O3dCQUV4QiwwQkFGZ0JMOztNQW1CaEIsV0FBQSwwQkFGREosUUFITkY7TUFLTyxPQUFBLG1CQUFBOztTQUVIZ0I7VUFBQUEsR0FETSxPQUFBO0tBR1I7OztTQUFjLHNCQUVWakI7cUJBQWMsV0FBZEE7YUFEV2E7U0FBSyxXQUNoQmIsTUFYTkMsWUFVaUJZO1FBQ2tDO01BRmpELE9BQUEsMEJBRkVJO0tBQ0wsT0FBQSxlQUNFOztHQUdtQjtZQUd4QkMsTUFBTUM7SUFBNEIsV0FmOUJsQixZQWVFa0I7O0dBQThDO1lBQ3BEQyxnQkFBZ0JEO0lBQTRCLFVBQUEsd0JBQVcsNkJBQXZDQTs7R0FBaUU7O0lBb0JuRjs7Ozs7aUJBZEVFO1NBQUEsWUFDRTtTQUdNO1VBQUFDO1VBREFDO1VBQ0FDLFVBQUEsaUNBQUFGO1VBRk5HLGdDQUVNRDtVQU5HRSxnQkFLSEg7VUFMR0ksVUFBQSxzQkFBQUQ7VUFBWEUsZ0NBQVdEO1VBS0hFLGNBTFJEO1VBSUVFLGtDQUNNRCxlQUROSjtTQUFBLG9CQUFBSztRQUllO2lCQUdmQyxVQUNFQztTQUFPLE9BQUEsd0JBQWMsNkJBQXJCQTtRQUFpRTtRQUd6RCxVQUpWRCxVQS9CRTlCLFlBc0JKb0I7UUFhRjtRQUNBLFVBQUE7UUFBQTtRQUVFLFVBUEVVLFVBL0JFOUIsWUFzQkpvQjtRQWVGO1FBS0EsVUFBQTtRQUFBLE9BQUE7T0FBcUY7S0FOckY7T0FBQTs7Ozs7O0tBTUE7T0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFTQTs7Ozs7UUFMQTtTQUdJWSwyQkFBMkI7U0FGekJELE1BL0NBL0IsWUFpREZnQztTQUZTLE1BQUEsd0JBQWMsNkJBQXJCRDtRQUdOO1FBQ0EsVUFBQTtRQUFBLE9BQUE7T0FBcUM7S0FBckM7T0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFRQTs7Ozs7UUFKQSxhQUFpQ0UsR0FBSyxXQUFBLDJCQUFMQSxJQUFBQSxHQUF1QjtRQUFoRCxJQUNjQyxRQURkOzs7VUFDZUM7VUFBQUM7VUFBQUMsaUNBQUFEO1VBQUFFLGlDQUFBSDt3QkFBQUUsY0FBQUM7O1FBQ2YsSUFESnBCLGtDQUFrQmdCLFFBQ2QsS0F6REZsQyxZQXdERmtCO1FBRUo7UUFDQSxVQUFBO1FBQUEsT0FBQTtPQUFtQjtLQUFuQjtPQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0QkE1Q0VELE9BQ0FFLGlCQWhCSW5COzs7RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0NISjs7O0lBcEJFb0I7SUFvQkZtQjtJQUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUlBQztZQUFBQyxRQUFBQyxPQUFBQztJQUFBLEdBQUFELFVBQUFDLE9BQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzRCQUFBRDs0QkFBQUE7d0JBZ0JFRSxRQWhCRkY7OEJBQUFDOzhCQUFBQSxVQWdCRTt5QkFBQUUsUUFoQkZGO3FCQWdCZ0MsT0FBQSxXQXBCaENMLDBCQW9CRU0sT0FBQUM7OzJCQWhCRkY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3dCQWlCRUcsUUFqQkZKOzhCQUFBQzs4QkFBQUEsVUFnQkU7eUJBQ0FJLFFBakJGSjtxQkFpQmdDLE9BQUEsV0FyQmhDTCwwQkFxQkVRLE9BQUFDOzsyQkFqQkZKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O21CQWVFOzt5QkFmRkQ7OytCQUFBQyx3QkFBQUEsT0FDRTtxQkFBQTs7K0JBREZBOytCQUFBQSxPQUVFOzJCQUZGQTs7cUJBRUU7OytCQUZGQSwwQkFBQUE7NkJBQUFBOzt5QkFHRTs7Ozs7cUJBQUE7OytCQUhGQTs2QkFBQUE7O3lCQUlFOzs7Ozs7OztxQkFBQTs7K0JBSkZBOzZCQUFBQTs7eUJBS0U7Ozs7Ozs7Ozs7cUJBQUE7OytCQUxGQTs2QkFBQUE7O3lCQU1FOzs7Ozs7Ozs7Ozs7cUJBQUE7OytCQU5GQTs2QkFBQUE7O3lCQU9FOzs7Ozs7Ozs7Ozs7OztxQkFBQTs7K0JBUEZBOzZCQUFBQTs7eUJBUUU7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQUE7OytCQVJGQTs2QkFBQUE7O3lCQVNFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQUE7OytCQVRGQTs2QkFBQUE7O3lCQVVFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxQkFBQTs7K0JBVkZBOzZCQUFBQTs7eUJBV0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQUE7OytCQVhGQTs2QkFBQUE7O3lCQVlFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQUE7OytCQVpGQTs2QkFBQUE7O3lCQWFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxQkFBQTs7K0JBYkZBOzZCQUFBQTs7eUJBY0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQUE7OytCQWRGQSxvQkFlRTs0QkFmRkE7O3dCQWVFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7aUJBREE7O2dCQURBOztlQURBOztjQURBOzthQURBOztZQURBOztXQURBOztVQURBOztTQURBOztRQURBOztPQURBOztNQURBOztLQURBOztJQURBO0dBaUJtQztPQWxCckM1QixJQUFBeUIseUJBQUFRO0dBQUE7U0FBQWpDO0lBQUE7S0FBQWtDLE1BQUFsQztLQUFBbUMsZ0JBQUFuQztLQUFBb0MsZ0JBQUFELGdCQUFBRjtLQUFBakMsSUFBQWtDO0tBQUFELE1BQUFHOztHQUFBO0lBQUFDLE1BQUFaO0lBQUFhO0lBQUEsTUFBQSw0QkFBQUw7R0FBQTtTQUFBSTtJQUFBO0tBQUFFLE1BQUFGO0tBQUFHLGdCQUFBSDtLQUFBSSxnQkFBQUQsZ0JBQUFGO0tBQUFELE1BQUFFO0tBQUFELFFBQUFHOztHQUFBO0lBQUEsTUFBQSw0QkFBQUg7SUFBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzttQ0FBQTtJQW9CSUM7WUFFQUMsT0FnQkFDO0lBaEJTLGVBZ0JUQTs7OztRQWZROztRQUNBOztRQUNBOztRQUNBOzs7UUFDQTs7UUFDQTs7UUFDQTs7UUFDQTs7UUFDQTs7UUFDQTs7UUFDQTs7UUFDQTs7UUFDQTs7UUFDQTtnQkFDQTs7SUFFVyxHQUFoQixxQkFESEEsZUFDbUIscUJBRG5CQTtLQUVLLFdBRkxBO0lBR0ssV0FITEE7R0FHa0M7WUFLbENDO0lBQVM7OztRQUNTOztRQUNKOztRQUNJOztRQUNFOztRQUNFOztRQUNGOztRQUNVOztRQUNWOztRQUNEOztRQUNFOztRQUNIOztRQUNDOztRQUNBOztRQUNKO2dCQUNFOzsyQkFDUUQsaUJBQVEsT0FBUkE7UUFDQUU7SUFBUSxPQUFSQTtHQUFZOztrQkFJYUM7S0FBekI7TUFBeUJDLFFBN0NsREwsT0F3QkFFLE9BcUJrREU7bUJBbkV0RHRCLFFBbUVzRHVCLE9BQUFEO0tBQWxCO0tBQVAsTUFBQTtJQUFrRDtJQUE3RSwwQkFuRUZOO0lBbUVFOzs7Ozs7Ozs7Ozs7WUFtSUFRLE9BQVNDLEtBQXVCQyxrQkFBa0JDLGFBQWFDO0lBQ2pFLEdBRFdIO1NBQU1JLE1BQU5KLFFBL0dTSyxNQStHSEQ7O0tBYkQ7TUFBWkU7UUFBWTs7O01BQ2hCOztVQUVTQyxtQkFGTEMsU0FFS0Q7O01BRUY7T0FKSEM7U0FJRzs7O0tBSVA7TUFBSUM7TUEzR2dCSjtRQTRHcEIscUJBVklDLGdCQVNBRyxXQVJBRDs7UUFlVUUsMENBak9aekQsV0ErR2tCb0Q7T0ErR2dDSDs7TUFHdEN6RCxJQUhzQ3lEOzBEQUd0Q3pELFVBQUFpRTs7ZUFBQUE7UUFBQUM7T0FBQUEsc0JBQUFBLGVBQUFDLElBQUFELGNBQUFDO0lBRFo7S0FERUMsZ0JBQ0Y7S0FnQmlDLFVBQUE7S0FqSVZDO0tBaUlyQkM7S0FDMkIsVUFBQTtLQUFkQztLQWxJcUJDOzs7OztpQkFzSXBDQztTLFNBQUFBLFVBQW9CLE9BQUEsNkJBQXBCQTtTQUdFO1VBckJnQkM7WUFxQmhCOzs7Y0FSQUo7Y0FDYUM7O1U7ZUFhVEk7V0FBcUIsT0FBQSxpQ0FBckJBOztjQUNHQzs7V0FFQyxXQUFBLGlDQUZEQTtXQUVDLE9BQUE7VUFBcUI7VUFEZCxXQUFBLDBDQTdCQ0Y7OztrQkFDZEc7Y0FBdURuQiw0QkFBbEJvQjtVQUN2QyxPQUFBOzt1QkFEeURwQjs7bUJBQWxCb0I7O21CQU5UdEI7O3VCQUM5Qlk7OzttQkFJZ0JNOztTQVNsQixHQWQrRGhCOztXQWdCeERxQixvQkFoQndEckI7a0JBTTNEbUIsT0FVR0U7O3FCQVZIRixPQVNhOzs7S0E3SG5CO01BQWtDO09BQUEsTUFBQSx3QkFBVyx5QkFEekJqQjtPQUNkOztXQU1Nb0I7VUFBQUosMEJBQUFJO1NBQUFKO09BRG9CO1FBSlBLLFFBS2JMO1FBRG9CLE1BQUEsa0NBSlBLO1FBSWhCLE1BQUE7Y0FBQTs7O01BQ2lCO09BQUEsTUFBQSxpQ0FBZEw7YUFBYzs7O0tBRUg7TUFBakJNLGlCQUFpQjtNQUNqQkM7aUJBQVNDO1NBR1gsa0NBSkVGLG9CQUNTRTtTQUtYLGtDQWZxQmY7U0FnQnJCLGtDQWhCa0NHO1NBaUJSLElBakM0QmEsV0FpQzVCLDJCQVBmRDtrQkF4QlhFLE1BQU1GO1VBR1I7bUJBOUJFbEMsT0ExQkFILGlCQTBEQSx3QkFMTXFDO1NBS1k7U0FFdEIsSUFQSUUsTUFGc0REO29CQWF4RCxPQVhFQztTQVFJO1FBdUJrRDtNQUVwREM7aUJBQVNDO1NBUVg7VUFDTUM7WUFDSSxrQ0FwQlJQOzs7VUFwRDRCLE1BdEI5QmxDLE9Bb0ZXd0M7Ozs7Ozs7Ozs7O2lDQWVORTtrQkFBQSxVQUFBQTswQkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0NBQUFBO21CQXpHUDtvQkFBQUMsV0F5R09EO29CQXpHUEUsV0FBQSxXQXBCRmhFLDBCQW9CRStEOzJDQUFBQzs7bUJBQ0E7b0JBQUFDLFdBd0dPSDtvQkF4R1BJLFdBQUEsV0FyQkZsRSwwQkFxQkVpRTsyQ0FBQUM7a0JBd0dPLE9BQUE7aUJBQXFDOzs7VUFQdENWLFNBTUYsMkJBTElLO1NBbEJKTixRQTRCYywyQkFYWkM7U0FXSjtRQUNTO01BRVBXOztTQUNTLElBQVBDLE9BQU87U0FDWCxrQ0EzQ3FCM0IsZUEwQ2pCMkI7U0FDSjtRQUNTO01BRVBDOztTQUFlLE9BQUEsa0NBckNmZjtRQXFDd0Q7Ozs7TUFBeERlOztNQXBDQWQsUUFpRGU7O01BTlg7NkJBUEpjLGNBUU0seUJBQ1M7T0FGWCxNQUFBOzs7S0FjSDs7O1NBQ0U7OztTQUFBO1NBQUE7UUFDUztNQUZYLE1BQUE7O0tBR29CLFVBQUEsZ0NBN0JyQkY7O0tBOEJtQixVQUFBLGdDQXBEbkJSOztLQXFEcUI7TUFBckJXLHFCQUFxQixrQ0EvRHJCaEI7OztTLG1CQWtFd0IsT0FBQTtzQkFFc0JjO1VBQzNDOztXQUtlLElBQVRHLFNBQVMsMkNBTjRCSDtXQU96QyxJQUFLLFVBQUEsZUFEREcsU0FDQztpQkFDRmxCO1lBQ3FEO2FBRHJETCwwQkFBQUs7YUFDcUQsTUFBQSw4QkFEckRMO2FBQ1ksTUFBQTtZQUFBLE9BQUE7OztvQkFMSzs7Ozs7U0FLd0Q7U0FUeEMsT0FBQSwyQ0E3RVRKOzs0Q0F3RWhDMEI7S0FDSjtLQWdCc0I7OztTQUVwQixPQWpGRWY7a0JBaUZjO1FBQW1EO2dCQUZ0QixrQ0F6RnhCZDtNQXlGRCxVQUFFLGtDQXpGWUc7TUF5RmhDLE1BQUE7TUFGQTRCOztLQU1KLDRCQU5JQTtlQWZBRjs7O0dBMEU0QjtZQUdoQ0c7SUFBWXpDLEtBQUtKLGtCQUFrQkMsYUFBYUM7SUFDbEQ7S0FBQTtLQUFBLE1BdkNFSixPQXNDWU0sS0FBS0osa0JBQWtCQyxhQUFhQztJQUNsRCxPQUFBO0dBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztRQXZDaEZKO1FBc0NBK0M7OztFOzs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lDclFFbkYsVUFBVTdCLEdBQUksT0FBQSxzQkFBSkEsR0FBbUI7R0FVcUM7MERBVmxFNkI7Ozs7Ozs7Ozs7Ozs7Ozs7SUFVa0U7WUFBcEVvRjs7SUFBa0I7S0FBa0QsT0FBQTs7O1lBTWhFQyxRQUFBQyxPQUFBQztpQkFBU0MsT0FBQUMsT0FBQSxPQUFBLGtCQUFBRCxPQUFBQyxPQUFLO0lBQUMsT0FBQSwyQkFBZkgsT0FBQUM7R0FBcUI7WUFBckJHLFlBQUFDO0lBQUEsT0FBQSxpQ0FBQUE7R0FBOEM7R0FEeEMsY0FDTk4sU0FBQUs7WUFKSkU7O0lBQ0Y7S0FFWSxPQUFBOztHQVJIOzs7Ozs7Ozs7Ozs7Ozs7T0FHUFI7T0FFQVE7Ozs7Ozs7Ozs7O0U7Ozs7Ozs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7OztJQ3FDS0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbERZO0lBQUE7SUFVTDtJQVFDO0lBUU87Ozs7Ozs7Ozs7OztZQWV0QkM7SUFDQXpEO0lBQ0QwRDtJQUNBQztJQUNBQztJQUVDQztJQUNEQztJQUVELEdBUkU5RCxTQUFVSSxNQUFWSixRQUFBK0QsVUFBVTNELGNBQVYyRDthQU1ERDtLQUttRDtNQUQ1Q0UsT0FKUEY7TUFLbUQsTUFBQSwrQkFENUNFO01BYjRCLE1BQUEsNEJBTW5DSjtNQVFhLE1BZHNCO01BYzFCLE1BQUE7TUFIREs7TUFBTEMsUUFHQSxxQkFSSE47O1NBS1FLLGtCQUFBVCxpQkFBTFUsUUFMSE47SUFXUyxVQUFBO0lBQ1Y7TUFBVyx3QkFQRks7TUFPNEIsd0JBUGpDQzs7V0FIRkw7Ozs7Ozs7Ozs7Ozs7O0tBbUJtQixJQUFZTSxrQkFBTnZJOztjQUNILHdCQURHQSxPQUNjLHdCQURSdUk7SUFDMEI7SUFEM0QsMEJBeEJFSjtJQTBCaUQsSUFBL0NLLFdBQStDOztLQUdoQixVQUFBO0tBQTVCLGtDQUhIQTtLQUdHO0lBQ1E7SUFGVixVQUFBOzs7S0FLOEIsVUFBQTtLQUE1QixrQ0FQSEE7S0FPRztJQUNRO0lBRlYsVUFBQTs7SUFJQTs7T0FBQTs7VUFDRSx1QkFpRE87OztXQTlDdUI7YUFBdkI7Z0JBQXVCOzs7d0JBRU5DO3lCQTRCZEMsV0FBV3hJO2lCQUNiLGFBR09XLEdBQUssV0FBSyx3QkFBVkEsSUFBMEI7cUNBRHBCLFNBQUk7aUJBRGY7O29CQUFBLHNCQUF3QiwrQkFGYlg7aUJBSVgsT0FBQTtnQkFBZ0M7Z0JBRXBDLDJCQU5Jd0ksWUE1QmNEO2VBa0NzQzthQWpDbERFOztnQkFDRjs7aUJBU0k7Ozs7Ozs7O3FDQUl1Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0JBQ2Y7Z0JBZFosT0FBQTs7ZUFlZTtZQUVqQixPQXhEYlY7OzswQkEwRGlDOzs7OzBCQUNQOzs7OzBCQUNJOzs7OzBCQUNKOzs7eUJBdkJUVTs7ZUF5QnNCO2dCQUFBLE1BekJ0QkE7O2tCQXlCUzs7Z0JBN0JmNUQ7Ozs7Ozs7Ozs7OytCQTJDdUI7Ozs7Ozs7Ozs7Ozs7WUEzQ3ZCQSxNQXVDQTs7VUFPSixPQUFBLGtDQTNETHlELFVBYVN6RDtTQStDRzs7aUJBQ2dCK0M7O01BR3ZCLFdBSHVCQTtNQUd2QjtLQUNRO0tBRlYsVUFBQTs7SUFFVztJQUpsQiw0QkF0RkNBOztrQkE0RndDQzs7T0FHOUIsV0FIOEJBO09BRzlCO01BQ1E7TUFGVixVQUFBOztLQUVXO0tBSmdCLE9BQUEsNEJBM0ZuQ0E7SUErRm9CO0lBTHJCO2FBdEZDRztLQTZGVzs7U0FDSlUsT0E5RlBWO0tBK0ZFLEdBREtVO1VBR0dDLFNBSEhEO01BSUYsT0FES0M7O2FBRUdDLElBRkhELFdBRVEsU0FBTEM7O2FBQ0lDLElBSFBGLFdBR1ksU0FBTEU7O2FBQ0Y3SSxJQUpMMkk7U0FJVSxTQUFVLDhCQUFTLHdCQUF4QjNJOztxQkFDRzhJLEtBTFJILFdBS2MsU0FBTkc7Ozs7TUFOTDs7SUFPZCxPQUFBLGtDQW5GSVI7R0FtRmM7WUFHaEJTLElBQU03RSxLQUFnQjREO0lBQ3hCLEdBRFE1RCxTQUFZSSxNQUFaSixRQUFBOEUsY0FBWTFFLGNBQVowRTtJQUNSLGFBQ1VDLE1BQVEsT0FBUkEsUUFBb0I7SUFDNUIsVUFwSEF0QixpQkFpSHNCRyxZQUFoQmtCO0lBRUgsT0FBQTtHQUNrRDtZQUdyREUsS0FBTVIsTUFBS1o7SUFDYixhQUNVbUIsTUFBUSxPQUFSQSxRQUFvQjtJQUM1QixVQTFIQXRCLGlCQXVIV0csWUFBTFk7SUFFSCxPQUFBO0dBQzhDOzs7Ozs7Ozs7Ozs7T0ExSGpEZjtPQWlIQW9CO09BTUFHOzs7RTs7Ozs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7SUNmRUM7SUFDQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBbEpGQyxNQUFNUjtJQUFtQixVQUFBLGdDQUFuQkE7SUFBbUIsT0FBQTtHQUF1QjtZQUNoRFM7SUFBMkIsVUFBQTtJQUFBLE9BQUE7R0FBZ0I7WUFFdkNDLGlCQU1KaEU7SUFMRixHQUtFQTtLQUhPLElBRFlLLFFBSW5CTCxRQUpjaUUsTUFJZGpFLFFBSE8sUUFISGdFLGlCQUVlM0Q7aUJBR1I7NkJBRFE2RCx1QkFBVkM7S0FBdUIsbUJBRmxCRixLQUVMRSxXQUFVRDs7SUFHWixjQUFBLGtDQURQbEU7a0JBR1c7UUFESG9FO0lBQVksa0JBQVpBO0dBQ1E7WUFHaEJDLHVCQUF1QjlKLE1BQUt5RjtJQUNwQixJQUlOSyxRQUpNLHFDQURvQkw7T0FLMUJLO1NBRGFpRSxNQUNiakUsVUFIQWtFLDRCQUVhRDs7S0FFTixjQWxCTE4saUJBaUJGM0Q7O1VBR1FtRSw2Q0FIUm5FLE9BR1FtRTs7NkJBSFJuRTtTQUhBa0U7O0lBUUosVUFSSUE7O0tBVW9EO01BQWpEbkUsUUFWSG1FO01BVW9ELE1BQUEsd0JBQVcseUJBQTVEbkU7eUNBQWdDLHdCQVpkN0Y7OztTQVduQmtLLFFBVEZGO3lDQVNrQyx3QkFYYmhLLE9BV25Ca0s7OztXQVRGRjs7S0FXMkJHO0tBQVZQO0tBQU5RO0lBQ2IsR0FEbUJSO1NBR1ZuSixPQUhVbUosYUFHaEJTLEtBSGdCVDtLQUloQiw2QkFBdUIsd0JBRHZCUztLQUVBLDJCQUFxQix3QkFsQkRySztLQWtCcEI7O2lCQUN1QnNLO1NBQVcsb0NBQXVCLHdCQUFsQ0E7UUFBcUQ7S0FBNUUsMEJBSE03Sjs7O0tBREEsNkJBQXVCLHdCQWZUVDtJQXFCdkI7SUFDcUIsVUFBQSx3QkFBVyx5QkFUbkJvSztJQVNiO0lBQ0E7SUFDQSw2QkFYNkJEOztHQVlKO0dBa0JmLElBQVJJLGdCQUNBQyxXQUFXO0dBQ2YsU0FBSUMsVUFBV0MsR0FBR0M7SUFBYSxzQ0FBaEJELEdBQUdDO0lBQWE7R0FBb0Q7WUFDM0VDO0lBQ04sSUFBSUMsSUFBSSwwQ0FDUixRQUxFTjtTQUtZLHVDQURWTTtLQUpGTjtLQVNBLHVDQUxFTTtLQU9HLEdBQUEsdUNBUEhBO1VBTUVDOztNQUlNLGNBQUEsdUNBVlJEOztPQWFjO1FBRExFO1FBQ0RDLE1BQU07UUFDTmpDLElBQUksNkJBRkhnQyxNQUNEQztRQUVBQyxTQUFPLGdDQURQbEM7UUFFRCxNQUFBLDRCQURDa0Msc0JBSENGLE1BR0RFOzs7O1VBVE5IOztLQVlKO01BQUE7O1NBQW9EO1VBQU1yRjtVQUd0REssUUFGSSxxQ0FEa0RMO1lBR3RESztjQURhaUUsTUFDYmpFO1VBRG9CLE9BQUEsa0NBQVBpRTs7U0FFTixZQUFBLGtDQURQakU7cUJBRVcsTUFBQSw0QkFGWEE7YUFHUXFFO1NBdkVkTCxrQ0FvRU1oRTtTQUtHLE9BQUEsa0NBRktxRTtRQU9nQjtNQWJoQixNQUFBLHVDQWxCVlU7S0FrQkY7ZUFaSUM7YUFBQUE7aUJBVkpQLGNBRUFFLFVBQ0lHO2lCQUhKTDtTQXlDV1csT0EvQlBKLGdCQStCR0ssS0EvQkhMO0tBVkpQO0tBMkNNLFVBQUEsMEJBMUNOQztLQTBDTTs7O01BQTRDO09BQUEsTUFBQSwyQkExQ2xEQTthQTBDaUMsNkJBRjFCVztLQUUwQjtnQkFFNUI7aUNBNUNMWCxVQXdDT1c7ZUF2Q1BWLFVBNkNBVyxhQU5XRjs7O0lBbkN3QjtHQXdDSztZQUN4Q0U7SUFJTSwyQkFsRE5aO0lBbURGLE9BakRNSTtHQWlEQztZQW5FUFM7SUFzRUEsT0F2REVkLGdCQUVBRSxVQUNJRyxXQUhKTDtHQTJEeUM7R0FHekI7SUFBbEJlO0lBRUFDOzs7UUFFUyxJQUFKVixJQUFJO1FBSlRTOzRCQU0yQyxPQW5GM0NELE9BbUZpRDtRQUFoRCx1Q0FGSVI7NEJBR3VDLE9BcEY1Q1EsT0FvRmtEO1FBQWpELHVDQUhJUjtRQUlKLHVDQUpJQSxHQWpGTFE7UUF1Rk07UyxPQW5ITnZCOzs7UUFzSE07UyxPQXRITkE7O1FBb0hDO1FBQUEsT0F4RkR1Qjs7WUE4RkFHLFlBQVUsT0FiVixzQkFGQUQsZ0JBZThCO1lBQzlCRSxtQkFBaUIsT0FsQmpCSCxtQkFrQmlDO1lBRy9CSSxrQkFBa0J4TDtJQUU4QixVQUFBLHdCQUY5QkE7SUFFOEIscUI7R0FBYTtHQUl2QztJQUF0QnlMO01BQXNCLG1DQUZ0QnRDO0dBR0osU0FBSXVDLFVBQVVDLFFBQU9DLEtBQUlDO0lBRXBCO2dDQUZTRixRQUFPQyxLQUFJQztJQUVwQjtHQUErRTtZQVZsRkM7SUFhQTtJQUFHLEdBWkROLGtCQUtBcEMsZ0JBUUc7SUFFVSxJQUFUMkMsU0FBUzthQUNURjtLQUNGLG9CQUFRLFVBakJWTCxrQkFJQXJDO0tBYVU7Ozs7OzthQWpCVnFDLGtCQUtBcEM7S0FhUSxRQUNELGtDQUpIMkM7S0FJRztJQUNHO0lBRWtELFVBQUEsZ0NBTnhERjtJQVRKSDtJQWdCZ0QsVUFBQSxnQ0FQNUNHO0lBVEpILG1DQURBRDtJQWtCOEMsVUFBQSxnQ0FSMUNJO0lBVEpIO0lBaUJBLE9BQUEsa0NBVElLO0dBVTBCOzs7Ozs7O1VBdEtoQzFDLE9BQ0FDLFNBd0lBZ0MsTUFDQUMsYUFFQU87Ozs7RTs7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQzVJQTlLO0lBQ0FFOzs7Ozs7Ozs7Ozs7O09BREFGO09BQ0FFOzs7RSIsInNvdXJjZXNDb250ZW50IjpbIigqIGdlbmVyYXRlZCBieSBkdW5lICopXG5cbigqKiBAY2Fub25pY2FsIEFzeW5jX2pzLkFzeW5jX2pzMCAqKVxubW9kdWxlIEFzeW5jX2pzMCA9IEFzeW5jX2pzX19Bc3luY19qczBcblxuKCoqIEBjYW5vbmljYWwgQXN5bmNfanMuRGVidWcgKilcbm1vZHVsZSBEZWJ1ZyA9IEFzeW5jX2pzX19EZWJ1Z1xuXG4oKiogQGNhbm9uaWNhbCBBc3luY19qcy5IdHRwICopXG5tb2R1bGUgSHR0cCA9IEFzeW5jX2pzX19IdHRwXG5cbigqKiBAY2Fub25pY2FsIEFzeW5jX2pzLlBlcnNpc3RlbnRfY29ubmVjdGlvbiAqKVxubW9kdWxlIFBlcnNpc3RlbnRfY29ubmVjdGlvbiA9IEFzeW5jX2pzX19QZXJzaXN0ZW50X2Nvbm5lY3Rpb25cblxuKCoqIEBjYW5vbmljYWwgQXN5bmNfanMuUnBjICopXG5tb2R1bGUgUnBjID0gQXN5bmNfanNfX1JwY1xuXG5tb2R1bGUgQXN5bmNfanNfXyA9IHN0cnVjdCBlbmRcbltAQGRlcHJlY2F0ZWQgXCJ0aGlzIG1vZHVsZSBpcyBzaGFkb3dlZFwiXVxuIiwib3BlbiBKc19vZl9vY2FtbFxub3BlbiBDb3JlXG5cbmxldCBpc192YWxpZF9pZCBzID1cbiAgaWYgU3RyaW5nLmVxdWFsIHMgXCJcIlxuICB0aGVuIGZhbHNlXG4gIGVsc2UgKFxuICAgIG1hdGNoIHMuWzBdIHdpdGhcbiAgICB8ICcwJyAuLiAnOScgLT4gZmFsc2VcbiAgICB8IF8gLT5cbiAgICAgIFN0cmluZy5mb3JfYWxsIHMgfmY6KGZ1bmN0aW9uXG4gICAgICAgIHwgJ2EnIC4uICd6JyB8ICdBJyAuLiAnWicgfCAnXycgfCAnMCcgLi4gJzknIC0+IHRydWVcbiAgICAgICAgfCBfIC0+IGZhbHNlKSlcbjs7XG5cbmxldCBpc192YWxpZF9maWVsZF9uYW1lIH5zZWVuIG5hbWUgPSBpc192YWxpZF9pZCBuYW1lICYmIG5vdCAoU2V0Lm1lbSBzZWVuIG5hbWUpXG5cbmxldCByZWMga2V5X3ZhbHVlX3NoYXBlIH5zZWVuIH5yZXZfYWNjIGxpc3QgPVxuICBtYXRjaCAobGlzdCA6IFNleHAudCBsaXN0KSB3aXRoXG4gIHwgW10gLT4gU29tZSAoTGlzdC5yZXYgcmV2X2FjYylcbiAgfCBBdG9tIG5hbWUgOjogcmVzdCB3aGVuIGlzX3ZhbGlkX2ZpZWxkX25hbWUgfnNlZW4gbmFtZSAtPlxuICAgIGxldCByZXZfYWNjID0gKG5hbWUsIE5vbmUpIDo6IHJldl9hY2MgaW5cbiAgICBsZXQgc2VlbiA9IFNldC5hZGQgc2VlbiBuYW1lIGluXG4gICAga2V5X3ZhbHVlX3NoYXBlIH5zZWVuIH5yZXZfYWNjIHJlc3RcbiAgfCBMaXN0IFsgQXRvbSBuYW1lOyB2IF0gOjogcmVzdCB3aGVuIGlzX3ZhbGlkX2ZpZWxkX25hbWUgfnNlZW4gbmFtZSAtPlxuICAgIGxldCByZXZfYWNjID0gKG5hbWUsIFNvbWUgdikgOjogcmV2X2FjYyBpblxuICAgIGxldCBzZWVuID0gU2V0LmFkZCBzZWVuIG5hbWUgaW5cbiAgICBrZXlfdmFsdWVfc2hhcGUgfnNlZW4gfnJldl9hY2MgcmVzdFxuICB8IF8gLT4gTm9uZVxuOztcblxubGV0IHJlYyBhbnlfb2Zfc2V4cCA9IGZ1bmN0aW9uXG4gIHwgU2V4cC5BdG9tIHMgLT4gSnMuVW5zYWZlLmluamVjdCAoSnMuc3RyaW5nIHMpXG4gIHwgU2V4cC5MaXN0IFsgQXRvbSBuYW1lOyB2IF0gLT4gSnMuVW5zYWZlLm9iaiBbfCBuYW1lLCBhbnlfb2Zfc2V4cCB2IHxdXG4gIHwgU2V4cC5MaXN0IGwgLT5cbiAgICAobWF0Y2gga2V5X3ZhbHVlX3NoYXBlIH5zZWVuOlN0cmluZy5TZXQuZW1wdHkgfnJldl9hY2M6W10gbCB3aXRoXG4gICAgIHwgTm9uZSAtPiBMaXN0Lm1hcCBsIH5mOmFueV9vZl9zZXhwIHw+IEFycmF5Lm9mX2xpc3QgfD4gSnMuYXJyYXkgfD4gSnMuVW5zYWZlLmluamVjdFxuICAgICB8IFNvbWUgW10gLT4gSnMuYXJyYXkgW3x8XSB8PiBKcy5VbnNhZmUuaW5qZWN0XG4gICAgIHwgU29tZSBsIC0+XG4gICAgICAgSnMuVW5zYWZlLm9ialxuICAgICAgICAgKExpc3QubWFwIGwgfmY6KGZ1bmN0aW9uXG4gICAgICAgICAgICB8IG5hbWUsIFNvbWUgdiAtPiBuYW1lLCBhbnlfb2Zfc2V4cCB2XG4gICAgICAgICAgICB8IG5hbWUsIE5vbmUgLT4gbmFtZSwgSnMuVW5zYWZlLmluamVjdCBKcy5udWxsKVxuICAgICAgICAgIHw+IEFycmF5Lm9mX2xpc3QpKVxuOztcblxubGV0IGxvZ19zIHNleHAgPSBGaXJlYnVnLmNvbnNvbGUjI2xvZyAoYW55X29mX3NleHAgc2V4cClcbmxldCBsb2dfc19hc19zdHJpbmcgc2V4cCA9IEZpcmVidWcuY29uc29sZSMjbG9nIChKcy5zdHJpbmcgKFNleHAudG9fc3RyaW5nX2h1bSBzZXhwKSlcblxubGV0JWV4cGVjdF90ZXN0IF8gPVxuICBsZXQgbW9kdWxlIE0gPSBzdHJ1Y3RcbiAgICB0eXBlIHUgPSB7IHNvbWVfbmFtZSA6IHN0cmluZyB9IFtAQGRlcml2aW5nIHNleHBdXG5cbiAgICB0eXBlIHQgPVxuICAgICAgfCBGb29cbiAgICAgIHwgQmFyIG9mXG4gICAgICAgICAgeyBmaWVsZDEgOiB1XG4gICAgICAgICAgOyBmaWVsZDIgOiBzdHJpbmcgb3B0aW9uXG4gICAgICAgICAgfVxuICAgIFtAQGRlcml2aW5nIHNleHBdXG4gIGVuZFxuICBpblxuICBsZXQgdG9fc3RyaW5nIDogSnMuVW5zYWZlLmFueSAtPiBzdHJpbmcgPVxuICAgIGZ1biBhbnkgLT4gSnMudG9fc3RyaW5nIChKcy5fSlNPTiMjc3RyaW5naWZ5IGFueSA6IEpzLmpzX3N0cmluZyBKcy50KVxuICBpblxuICBsZXQgb3BlbiBNIGluXG4gIHByaW50X2VuZGxpbmUgKHRvX3N0cmluZyAoYW55X29mX3NleHAgKHNleHBfb2ZfdCBGb28pKSk7XG4gIFslZXhwZWN0IHt8IFwiRm9vXCIgfH1dO1xuICBwcmludF9lbmRsaW5lXG4gICAgKHRvX3N0cmluZ1xuICAgICAgIChhbnlfb2Zfc2V4cFxuICAgICAgICAgIChzZXhwX29mX3RcbiAgICAgICAgICAgICAoQmFyIHsgZmllbGQxID0geyBzb21lX25hbWUgPSBcImRlYnVnXCIgfTsgZmllbGQyID0gU29tZSBcIm90aGVyIHN0cmluZ1wiIH0pKSkpO1xuICBbJWV4cGVjdCB7fCB7XCJCYXJcIjpudWxsLFwiZmllbGQxXCI6e1wic29tZV9uYW1lXCI6XCJkZWJ1Z1wifSxcImZpZWxkMlwiOltcIm90aGVyIHN0cmluZ1wiXX0gfH1dXG47O1xuXG5sZXQlZXhwZWN0X3Rlc3QgXCJkdXBsaWNhdGUga2V5cyBhcmUgZGlzcGxheWVkIGNvcnJlY3RseVwiID1cbiAgbGV0IHRvX3N0cmluZyA6IEpzLlVuc2FmZS5hbnkgLT4gc3RyaW5nID1cbiAgICBmdW4gYW55IC0+IEpzLnRvX3N0cmluZyAoSnMuX0pTT04jI3N0cmluZ2lmeSBhbnkgOiBKcy5qc19zdHJpbmcgSnMudClcbiAgaW5cbiAgbGV0IHNleHBfd2l0aF9kdXBsaWNhdGVfa2V5cyA9IHt8ICgoQSBCKSAoQSBDKSkgfH0gfD4gU2V4cC5vZl9zdHJpbmcgaW5cbiAgcHJpbnRfZW5kbGluZSAodG9fc3RyaW5nIChhbnlfb2Zfc2V4cCBzZXhwX3dpdGhfZHVwbGljYXRlX2tleXMpKTtcbiAgWyVleHBlY3Qge3wgW3tcIkFcIjpcIkJcIn0se1wiQVwiOlwiQ1wifV0gfH1dXG47O1xuXG5sZXQlZXhwZWN0X3Rlc3QgXCJubyBzdGFjayBvdmVyZmxvd1wiID1cbiAgbGV0IGEgPSBBcnJheS5pbml0IDEwMDAwIH5mOihmdW4gaSAtPiBzcHJpbnRmIFwiZiVkXCIgaSwgaSkgaW5cbiAgbGV0IHNleHAgPSBbJXNleHBfb2Y6IChzdHJpbmcgKiBpbnQpIGFycmF5XSBhIGluXG4gIGxldCB4ID0gYW55X29mX3NleHAgc2V4cCBpblxuICBwcmludGYgXCIlZFwiIChKcy5VbnNhZmUuY29lcmNlIHgpIyMuZjk5OTtcbiAgWyVleHBlY3Qge3wgOTk5IHx9XVxuOztcbiIsIm1vZHVsZSBBc3luY19qc19kZWJ1ZyA9IERlYnVnXG5vcGVuIENvcmVcbm9wZW4gQXN5bmNfa2VybmVsXG5vcGVuIEpzX29mX29jYW1sXG5cbm1vZHVsZSBVcmkgPSBzdHJ1Y3RcbiAgaW5jbHVkZSBVcmlcblxuICBsZXQgc2V4cF9vZl90ID0gVXJpX3NleHAuc2V4cF9vZl90XG5lbmRcblxubW9kdWxlIFdlYnNvY2tldF9jb25uZWN0aW9uID0gc3RydWN0XG4gIG1vZHVsZSBUID0gQXN5bmNfcnBjX2tlcm5lbC5ScGMuQ29ubmVjdGlvblxuXG4gIHR5cGUgJ3Jlc3QgY2xpZW50X3QgPVxuICAgID91cmk6VXJpLnRcbiAgICAtPiA/aGVhcnRiZWF0X2NvbmZpZzpULkhlYXJ0YmVhdF9jb25maWcudFxuICAgIC0+ID9kZXNjcmlwdGlvbjpJbmZvLnRcbiAgICAtPiA/aW1wbGVtZW50YXRpb25zOlQuQ2xpZW50X2ltcGxlbWVudGF0aW9ucy50XG4gICAgLT4gJ3Jlc3RcblxuICBtb2R1bGUgQ2xvc2VfY29kZSA6IHNpZ1xuICAgIHR5cGUgdCBbQEBkZXJpdmluZyBzZXhwXVxuXG4gICAgdmFsIHRvX2ludCA6IHQgLT4gaW50XG4gICAgdmFsIG9mX2V2ZW50IDogXyBXZWJTb2NrZXRzLmNsb3NlRXZlbnQgSnMudCAtPiB0XG4gICAgdmFsIG5vcm1hbF9jbG9zdXJlIDogdFxuICBlbmQgPSBzdHJ1Y3RcbiAgICB0eXBlIGNsb3NlX2V2ZW50X2NvZGUgPSBpbnQgW0BAZGVyaXZpbmcgY29tcGFyZSwgc2V4cF1cblxuICAgIGxldCBhbGxfb2ZfY2xvc2VfZXZlbnRfY29kZSA9IFtdXG5cbiAgICB0eXBlIHQgPVxuICAgICAgfCBOb3JtYWxfY2xvc3VyZVxuICAgICAgfCBHb2luZ19hd2F5XG4gICAgICB8IFByb3RvY29sX2Vycm9yXG4gICAgICB8IFVuc3VwcG9ydGVkX2RhdGFcbiAgICAgIHwgTm9fc3RhdHVzX1JlY2VpdmVkXG4gICAgICB8IEFibm9ybWFsX2Nsb3N1cmVcbiAgICAgIHwgSW52YWxpZF9mcmFtZV9wYXlsb2FkX2RhdGFcbiAgICAgIHwgUG9saWN5X3Zpb2xhdGlvblxuICAgICAgfCBNZXNzYWdlX3Rvb19iaWdcbiAgICAgIHwgTWlzc2luZ19leHRlbnNpb25cbiAgICAgIHwgSW50ZXJuYWxfZXJyb3JcbiAgICAgIHwgU2VydmljZV9yZXN0YXJ0XG4gICAgICB8IFRyeV9hZ2Fpbl9sYXRlclxuICAgICAgfCBCYWRfZ2F0ZXdheVxuICAgICAgfCBUTFNfaGFuZHNoYWtlXG4gICAgICB8IFVua25vd25fY2xvc2VfZXZlbnRfY29kZSBvZiBjbG9zZV9ldmVudF9jb2RlXG4gICAgICB8IEludmFsaWRfY2xvc2VfZXZlbnRfY29kZSBvZiBjbG9zZV9ldmVudF9jb2RlXG4gICAgW0BAZGVyaXZpbmcgY29tcGFyZSwgZW51bWVyYXRlLCBzZXhwXVxuXG4gICAgbGV0IG5vcm1hbF9jbG9zdXJlID0gTm9ybWFsX2Nsb3N1cmVcblxuICAgIGxldCBvZl9pbnQgPSBmdW5jdGlvblxuICAgICAgfCAxMDAwIC0+IE5vcm1hbF9jbG9zdXJlXG4gICAgICB8IDEwMDEgLT4gR29pbmdfYXdheVxuICAgICAgfCAxMDAyIC0+IFByb3RvY29sX2Vycm9yXG4gICAgICB8IDEwMDMgLT4gVW5zdXBwb3J0ZWRfZGF0YVxuICAgICAgfCAxMDA1IC0+IE5vX3N0YXR1c19SZWNlaXZlZFxuICAgICAgfCAxMDA2IC0+IEFibm9ybWFsX2Nsb3N1cmVcbiAgICAgIHwgMTAwNyAtPiBJbnZhbGlkX2ZyYW1lX3BheWxvYWRfZGF0YVxuICAgICAgfCAxMDA4IC0+IFBvbGljeV92aW9sYXRpb25cbiAgICAgIHwgMTAwOSAtPiBNZXNzYWdlX3Rvb19iaWdcbiAgICAgIHwgMTAxMCAtPiBNaXNzaW5nX2V4dGVuc2lvblxuICAgICAgfCAxMDExIC0+IEludGVybmFsX2Vycm9yXG4gICAgICB8IDEwMTIgLT4gU2VydmljZV9yZXN0YXJ0XG4gICAgICB8IDEwMTMgLT4gVHJ5X2FnYWluX2xhdGVyXG4gICAgICB8IDEwMTQgLT4gQmFkX2dhdGV3YXlcbiAgICAgIHwgMTAxNSAtPiBUTFNfaGFuZHNoYWtlXG4gICAgICB8IGNvZGUgLT5cbiAgICAgICAgaWYgY29kZSA+PSAzMDAwICYmIGNvZGUgPD0gNDk5OVxuICAgICAgICB0aGVuIFVua25vd25fY2xvc2VfZXZlbnRfY29kZSBjb2RlXG4gICAgICAgIGVsc2UgSW52YWxpZF9jbG9zZV9ldmVudF9jb2RlIGNvZGVcbiAgICA7O1xuXG4gICAgbGV0IG9mX2V2ZW50IGNsb3NlX2V2ZW50ID0gb2ZfaW50IGNsb3NlX2V2ZW50IyMuY29kZVxuXG4gICAgbGV0IHRvX2ludCA9IGZ1bmN0aW9uXG4gICAgICB8IE5vcm1hbF9jbG9zdXJlIC0+IDEwMDBcbiAgICAgIHwgR29pbmdfYXdheSAtPiAxMDAxXG4gICAgICB8IFByb3RvY29sX2Vycm9yIC0+IDEwMDJcbiAgICAgIHwgVW5zdXBwb3J0ZWRfZGF0YSAtPiAxMDAzXG4gICAgICB8IE5vX3N0YXR1c19SZWNlaXZlZCAtPiAxMDA1XG4gICAgICB8IEFibm9ybWFsX2Nsb3N1cmUgLT4gMTAwNlxuICAgICAgfCBJbnZhbGlkX2ZyYW1lX3BheWxvYWRfZGF0YSAtPiAxMDA3XG4gICAgICB8IFBvbGljeV92aW9sYXRpb24gLT4gMTAwOFxuICAgICAgfCBNZXNzYWdlX3Rvb19iaWcgLT4gMTAwOVxuICAgICAgfCBNaXNzaW5nX2V4dGVuc2lvbiAtPiAxMDEwXG4gICAgICB8IEludGVybmFsX2Vycm9yIC0+IDEwMTFcbiAgICAgIHwgU2VydmljZV9yZXN0YXJ0IC0+IDEwMTJcbiAgICAgIHwgVHJ5X2FnYWluX2xhdGVyIC0+IDEwMTNcbiAgICAgIHwgQmFkX2dhdGV3YXkgLT4gMTAxNFxuICAgICAgfCBUTFNfaGFuZHNoYWtlIC0+IDEwMTVcbiAgICAgIHwgVW5rbm93bl9jbG9zZV9ldmVudF9jb2RlIGNvZGUgLT4gY29kZVxuICAgICAgfCBJbnZhbGlkX2Nsb3NlX2V2ZW50X2NvZGUgY29kZSAtPiBjb2RlXG4gICAgOztcblxuICAgIGxldCV0ZXN0X3VuaXQgXCJ0b19pbnQgLT4gb2ZfaW50IHJvdW5kLXRyaXBcIiA9XG4gICAgICBMaXN0Lml0ZXIgYWxsIH5mOihmdW4gdCAtPiBhc3NlcnQgKFslY29tcGFyZS5lcXVhbDogdF0gKG9mX2ludCAodG9faW50IHQpKSB0KSlcbiAgICA7O1xuICBlbmRcblxuICBsZXQgY2xvc2Vfd2Vic29ja2V0ICh3ZWJzb2NrZXQgOiBXZWJTb2NrZXRzLndlYlNvY2tldCBKcy50KSByZWFzb24gPVxuICAgICgqIFtjbG9zZV93aXRoQ29kZUFuZFJlYXNvbl0gZG9lcyBub3RoaW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGFscmVhZHkgQ2xvc2VkLiAqKVxuICAgIGxldCBjbG9zZSByZWFzb24gPVxuICAgICAgKCogVGhlIGNvZGUgbXVzdCBiZSBlaXRoZXIgMTAwMCAoTm9ybWFsX2Nsb3N1cmUpLCBvciBiZXR3ZWVuIDMwMDAgYW5kIDQ5OTlcbiAgICAgICAgIChVbmtub3duX2Nsb3NlX2V2ZW50X2NvZGUpLiAqKVxuICAgICAgd2Vic29ja2V0IyNjbG9zZV93aXRoQ29kZUFuZFJlYXNvblxuICAgICAgICBDbG9zZV9jb2RlLih0b19pbnQgbm9ybWFsX2Nsb3N1cmUpXG4gICAgICAgIChKcy5zdHJpbmcgcmVhc29uKVxuICAgIGluXG4gICAgbWF0Y2ggY2xvc2UgcmVhc29uIHdpdGhcbiAgICB8ICgpIC0+ICgpXG4gICAgfCBleGNlcHRpb24gKF8gOiBFeG4udCkgLT5cbiAgICAgICgqIHRoaXMgY2FuIGZhaWwgaWYgW3JlYXNvbl0gaXMgdG9vIGxvbmcgb3IgY29udGFpbnMgaW52YWxpZCBVVEY4ICopXG4gICAgICBjbG9zZSBcImNsb3NlLXJlYXNvbi13YXMtdG9vLWxvbmctb3ItY29udGFpbnMtaW52YWxpZC11dGY4XCJcbiAgOztcblxuICBsZXQgY29ubmVjdF93ZWJzb2NrZXQgdXJsIH5mcm9tX3NlcnZlciB+dG9fc2VydmVyID1cbiAgICBtYXRjaCBuZXclanMgV2ViU29ja2V0cy53ZWJTb2NrZXQgKEpzLnN0cmluZyAoVXJpLnRvX3N0cmluZyB1cmwpKSB3aXRoXG4gICAgfCBleGNlcHRpb24gSnNfZXJyb3IuRXhuIGV4biAtPlxuICAgICAgKCogZS5nLiBTRUNVUklUWV9FUlIsIHRob3VnaCBub3RlIHRoYXQgZS5nLiBjb25uZWN0aW5nIHRvIHdzOi8vIGZyb20gYSBodHRwczovLyBwYWdlXG4gICAgICAgICBpbiBjaHJvbWUgc2VlbXMgdG8gbWFuaWZlc3QgYXMgc3VjY2Vzc2Z1bCBjb25zdHJ1Y3Rpb24gYnV0IGltbWVkaWF0ZSBjbG9zdXJlXG4gICAgICAgICAoc2VlIGJlbG93KS4gICopXG4gICAgICByZXR1cm4gKE9yX2Vycm9yLmVycm9yX3N0cmluZyAoSnNfZXJyb3IubWVzc2FnZSBleG4pKVxuICAgIHwgZXhjZXB0aW9uIGV4biAtPiByZXR1cm4gKE9yX2Vycm9yLm9mX2V4biBleG4pXG4gICAgfCB3ZWJzb2NrZXQgLT5cbiAgICAgIGxldCBjb25uZWN0ZWRfaXZhciA9IEl2YXIuY3JlYXRlICgpIGluXG4gICAgICBsZXQgY2xlYW51cCB+cmVhc29uID1cbiAgICAgICAgKCogSWYgd2UgaGF2ZW4ndCBjb25uZWN0ZWQgeWV0LCB0aGVuIGNvbm5lY3RpbmcganVzdCBmYWlsZWQuIE90aGVyd2lzZSBpdCB3YXMgdGhlXG4gICAgICAgICAgIGNsb3N1cmUgb2YgYW4gZXhpc3RpbmcgY29ubmVjdGlvbi4gKilcbiAgICAgICAgSXZhci5maWxsX2lmX2VtcHR5IGNvbm5lY3RlZF9pdmFyIChFcnJvciByZWFzb24pO1xuICAgICAgICAoKiBbUGlwZS5jbG9zZV0gYW5kIFtXZWJTb2NrZXQuY2xvc2VdIGFyZSBhbGwgaWRlbXBvdGVudC4gKilcbiAgICAgICAgUGlwZS5jbG9zZSBmcm9tX3NlcnZlcjtcbiAgICAgICAgUGlwZS5jbG9zZV9yZWFkIHRvX3NlcnZlcjtcbiAgICAgICAgY2xvc2Vfd2Vic29ja2V0IHdlYnNvY2tldCAoRXJyb3IudG9fc3RyaW5nX2h1bSByZWFzb24pXG4gICAgICBpblxuICAgICAgbGV0IG9uY2xvc2UgKGNsb3NlX2V2ZW50IDogXyBXZWJTb2NrZXRzLmNsb3NlRXZlbnQgSnMudCkgPVxuICAgICAgICAoKiBUaGUgUlBDIEFQSSBkb2Vzbid0IGdpdmUgdXMgYSBnb29kIHBsYWNlIHRvIHB1dCBkZXRhaWxzIGFib3V0IF93aHlfIHRoZVxuICAgICAgICAgICBjb25uZWN0aW9uIGNsb3NlZC5cblxuICAgICAgICAgICBOb3RlIHRoYXQgaW4gQ2hyb21lIFtjbG9zZV9ldmVudCMjLnJlYXNvbl0gaXMgdHlwaWNhbGx5IGVtcHR5IGFuZFxuICAgICAgICAgICBbY2xvc2VfZXZlbnQjIy5jb2RlXSBkb2Vzbid0IGFjdHVhbGx5IHByb3ZpZGUgdGhhdCBtdWNoIGluc2lnaHQgaW50byB3aHkgdGhlXG4gICAgICAgICAgIGNvbm5lY3Rpb24gZmFpbGVkIChpdCdzIGF2YWlsYWJsZSBpbiB0aGUgaW5zcGVjdG9yIGNvbnNvbGUsIGJ1dCBhcyBmYXIgYXMgSSBjYW5cbiAgICAgICAgICAgdGVsbCwgbm90IGF2YWlsYWJsZSB0byB1cykuIFNvIGl0J3Mgbm90IGxpa2Ugd2UncmUgbG9zaW5nIG11Y2ggYW55d2F5LiAqKVxuICAgICAgICBsZXQgcmVhc29uID1cbiAgICAgICAgICBsZXQgd2hhdF9oYXBwZW5lZCA9XG4gICAgICAgICAgICBtYXRjaCBJdmFyLmlzX2Z1bGwgY29ubmVjdGVkX2l2YXIgd2l0aFxuICAgICAgICAgICAgfCBmYWxzZSAtPiBcImNvbm5lY3Rpb24gZmFpbGVkXCJcbiAgICAgICAgICAgIHwgdHJ1ZSAtPiBcImNsb3NlZFwiXG4gICAgICAgICAgaW5cbiAgICAgICAgICBzcHJpbnRmXG4gICAgICAgICAgICAhXCJXZWJTb2NrZXQgJXMgKCV7c2V4cDpDbG9zZV9jb2RlLnR9KVwiXG4gICAgICAgICAgICB3aGF0X2hhcHBlbmVkXG4gICAgICAgICAgICAoQ2xvc2VfY29kZS5vZl9ldmVudCBjbG9zZV9ldmVudClcbiAgICAgICAgaW5cbiAgICAgICAgY2xlYW51cCB+cmVhc29uOihFcnJvci5vZl9zdHJpbmcgcmVhc29uKTtcbiAgICAgICAgSnMuX2ZhbHNlXG4gICAgICBpblxuICAgICAgbGV0IG9ubWVzc2FnZSAoZXZlbnQgOiBfIFdlYlNvY2tldHMubWVzc2FnZUV2ZW50IEpzLnQpID1cbiAgICAgICAgbGV0IGRhdGEgPSBUeXBlZF9hcnJheS5CaWdzdHJpbmcub2ZfYXJyYXlCdWZmZXIgZXZlbnQjIy5kYXRhX2J1ZmZlciBpblxuICAgICAgICBQaXBlLndyaXRlX3dpdGhvdXRfcHVzaGJhY2tfaWZfb3BlbiBmcm9tX3NlcnZlciBkYXRhO1xuICAgICAgICBKcy5fZmFsc2VcbiAgICAgIGluXG4gICAgICBsZXQgY29ubmVjdGVkICgpID0gSXZhci5maWxsX2lmX2VtcHR5IGNvbm5lY3RlZF9pdmFyIChPayAoKSkgaW5cbiAgICAgIHdlYnNvY2tldCMjLmJpbmFyeVR5cGUgOj0gSnMuc3RyaW5nIFwiYXJyYXlidWZmZXJcIjtcbiAgICAgICgqIGlmIHRoZSB3ZWJzb2NrZXQgaXMgYWxyZWFkeSBjbG9zZWQsIFtvbmNsb3NlXSB3b24ndCBiZSByZS1maXJlZCB3aGVuIHdlIGFkZCBvdXJcbiAgICAgICAgIGhhbmRsZXIuICopXG4gICAgICAobWF0Y2ggd2Vic29ja2V0IyMucmVhZHlTdGF0ZSB3aXRoXG4gICAgICAgfCBDT05ORUNUSU5HIC0+XG4gICAgICAgICB3ZWJzb2NrZXQjIy5vbm9wZW5cbiAgICAgICAgICAgOj0gRG9tLmhhbmRsZXIgKGZ1biAoXyA6IF8gRG9tLmV2ZW50IEpzLnQpIC0+XG4gICAgICAgICAgICAgICAgY29ubmVjdGVkICgpO1xuICAgICAgICAgICAgICAgIEpzLl9mYWxzZSlcbiAgICAgICB8IE9QRU4gLT4gY29ubmVjdGVkICgpXG4gICAgICAgfCBDTE9TSU5HIHwgQ0xPU0VEIC0+XG4gICAgICAgICAoKiBlLmcuLCBSZWZ1c2VkIHRvIGNvbm5lY3QgdG8gd3M6IGJlY2F1c2UgaXQgdmlvbGF0ZXMgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgKilcbiAgICAgICAgIGNsZWFudXAgfnJlYXNvbjooRXJyb3Iub2Zfc3RyaW5nIFwiV2ViU29ja2V0IGZhaWxlZCBpbW1lZGlhdGVseSAoaWxsZWdhbCBVUkk/KVwiKSk7XG4gICAgICAoKiBVcG9uIGFuIGVycm9yLCBbb25lcnJvcl0gZmlyZXMgYW5kIHRoZW4gW29uY2xvc2VdIGZpcmVzIChpdCdzIHBvc3NpYmxlIGZvciBhXG4gICAgICAgICBncmFjZWZ1bCBjbG9zdXJlIHRvIGNhbGwgW29uY2xvc2VdIG9ubHkpLiBTaW5jZSBBc3luY19SUEMgaGFzIG5vIG5vdGlvbiBvZlxuICAgICAgICAgZ3JhY2VmdWwgY2xvc3VyZSwgd2Ugb25seSBuZWVkIHRvIGhhbmRsZSBbb25jbG9zZV0gYW55d2F5LiBGdXJ0aGVyLCB0aGUgZXZlbnRcbiAgICAgICAgIHBhc3NlZCB0byBbb25lcnJvcl0gY29udGFpbnMgbm8gZXh0cmEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLiAgTm90ZSB0aGF0IHdlXG4gICAgICAgICBzdGlsbCBsaXN0ZW4gdG8gW29uZXJyb3JdIHRvIHByZXZlbnQgdGhlIGVycm9yIGZyb20gbGVha2luZyB0byB1bmNvbnRyb2xsZWRcbiAgICAgICAgIGNvbnRleHQgKilcbiAgICAgIHdlYnNvY2tldCMjLm9uZXJyb3JcbiAgICAgICAgOj0gRG9tLmhhbmRsZXIgKGZ1biAoXyA6IF8gRG9tLmV2ZW50IEpzLnQpIC0+XG4gICAgICAgICAgICAgQXN5bmNfanNfZGVidWcubG9nX3MgWyVtZXNzYWdlIFwid2Vic29ja2V0IGVuY291bnRlcmVkIHVuZXhwZWN0ZWQgZXJyb3JcIl07XG4gICAgICAgICAgICAgSnMuX2ZhbHNlKTtcbiAgICAgIHdlYnNvY2tldCMjLm9ubWVzc2FnZSA6PSBEb20uaGFuZGxlciBvbm1lc3NhZ2U7XG4gICAgICB3ZWJzb2NrZXQjIy5vbmNsb3NlIDo9IERvbS5oYW5kbGVyIG9uY2xvc2U7XG4gICAgICBsZXQgY29ubmVjdGVkX2RlZmVycmVkID0gSXZhci5yZWFkIGNvbm5lY3RlZF9pdmFyIGluXG4gICAgICBkb24ndF93YWl0X2ZvclxuICAgICAgICAobWF0Y2glYmluZCBjb25uZWN0ZWRfZGVmZXJyZWQgd2l0aFxuICAgICAgICAgfCBFcnJvciAoXyA6IEVycm9yLnQpIC0+IHJldHVybiAoKVxuICAgICAgICAgfCBPayAoKSAtPlxuICAgICAgICAgICBQaXBlLml0ZXJfd2l0aG91dF9wdXNoYmFjayB0b19zZXJ2ZXIgfmY6KGZ1biBkYXRhIC0+XG4gICAgICAgICAgICAgbWF0Y2ggKHdlYnNvY2tldCMjLnJlYWR5U3RhdGUgOiBXZWJTb2NrZXRzLnJlYWR5U3RhdGUpIHdpdGhcbiAgICAgICAgICAgICB8IENPTk5FQ1RJTkcgLT5cbiAgICAgICAgICAgICAgIHJhaXNlX3MgWyVtZXNzYWdlIFwiQlVHOiBvbm9wZW4gY2FsbGVkIGJ1dCByZWFkeVN0YXRlIGlzIENPTk5FQ1RJTkdcIl1cbiAgICAgICAgICAgICB8IENMT1NJTkcgfCBDTE9TRUQgLT4gKClcbiAgICAgICAgICAgICB8IE9QRU4gLT5cbiAgICAgICAgICAgICAgIGxldCBidWZmZXIgPSBUeXBlZF9hcnJheS5CaWdzdHJpbmcudG9fYXJyYXlCdWZmZXIgZGF0YSBpblxuICAgICAgICAgICAgICAgKHRyeSB3ZWJzb2NrZXQjI3NlbmRfYnVmZmVyIGJ1ZmZlciB3aXRoXG4gICAgICAgICAgICAgICAgfCBleG4gLT5cbiAgICAgICAgICAgICAgICAgIEVycm9yLnJhaXNlIChFcnJvci50YWcgfnRhZzpcIndlYnNvY2tldCMjc2VuZF9idWZmZXJcIiAoRXJyb3Iub2ZfZXhuIGV4bikpKSkpO1xuICAgICAgbGV0IGNsZWFudXBfd2hlbl9hX3BpcGVfaXNfY2xvc2VkID1cbiAgICAgICAgbGV0JW1hcCAoKSA9XG4gICAgICAgICAgRGVmZXJyZWQuYW55X3VuaXQgWyBQaXBlLmNsb3NlZCB0b19zZXJ2ZXI7IFBpcGUuY2xvc2VkIGZyb21fc2VydmVyIF1cbiAgICAgICAgaW5cbiAgICAgICAgY2xlYW51cCB+cmVhc29uOihFcnJvci5vZl9zdHJpbmcgXCJSUEMgY29ubmVjdGlvbiBjbG9zZWQgYnkgY2xpZW50XCIpXG4gICAgICBpblxuICAgICAgZG9uJ3Rfd2FpdF9mb3IgY2xlYW51cF93aGVuX2FfcGlwZV9pc19jbG9zZWQ7XG4gICAgICBjb25uZWN0ZWRfZGVmZXJyZWRcbiAgOztcblxuICBsZXQgZGVmYXVsdF91cmkgKCkgPVxuICAgIGxldCBzY2hlbWUgPSBpZiBTdHJpbmcuZXF1YWwgVXJsLkN1cnJlbnQucHJvdG9jb2wgXCJodHRwczpcIiB0aGVuIFwid3NzXCIgZWxzZSBcIndzXCIgaW5cbiAgICBsZXQgcG9ydCA9XG4gICAgICBtYXRjaCBVcmwuQ3VycmVudC5wb3J0IHdpdGhcbiAgICAgIHwgU29tZSBwb3J0IC0+IHBvcnRcbiAgICAgIHwgTm9uZSAtPlxuICAgICAgICBpZiBTdHJpbmcuZXF1YWwgVXJsLkN1cnJlbnQucHJvdG9jb2wgXCJodHRwczpcIlxuICAgICAgICB0aGVuIFVybC5kZWZhdWx0X2h0dHBzX3BvcnRcbiAgICAgICAgZWxzZSBVcmwuZGVmYXVsdF9odHRwX3BvcnRcbiAgICBpblxuICAgIGxldCBob3N0ID0gVXJsLkN1cnJlbnQuaG9zdCBpblxuICAgIFVyaS5tYWtlIH5zY2hlbWUgfmhvc3QgfnBvcnQgKClcbiAgOztcblxuICBsZXQgY2xpZW50ID8odXJpID0gZGVmYXVsdF91cmkgKCkpID9oZWFydGJlYXRfY29uZmlnID9kZXNjcmlwdGlvbiA/aW1wbGVtZW50YXRpb25zICgpID1cbiAgICBsZXQgZGVzY3JpcHRpb24gPVxuICAgICAgSW5mby5jcmVhdGVfc1xuICAgICAgICBbJW1lc3NhZ2UgXCJ3ZWJzb2NrZXRcIiAoZGVzY3JpcHRpb24gOiAoSW5mby50IG9wdGlvbltAc2V4cC5vcHRpb25dKSkgKHVyaSA6IFVyaS50KV1cbiAgICBpblxuICAgIGxldCBtYWtlX2Nvbm5lY3Rpb24gdHJhbnNwb3J0ID1cbiAgICAgIGxldCBjcmVhdGUgKFQuQ2xpZW50X2ltcGxlbWVudGF0aW9ucy5UIHsgY29ubmVjdGlvbl9zdGF0ZTsgaW1wbGVtZW50YXRpb25zIH0pID1cbiAgICAgICAgVC5jcmVhdGVcbiAgICAgICAgICB0cmFuc3BvcnRcbiAgICAgICAgICA/aGVhcnRiZWF0X2NvbmZpZ1xuICAgICAgICAgIH5kZXNjcmlwdGlvblxuICAgICAgICAgIH5pbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgICB+Y29ubmVjdGlvbl9zdGF0ZVxuICAgICAgaW5cbiAgICAgIG1hdGNoIGltcGxlbWVudGF0aW9ucyB3aXRoXG4gICAgICB8IE5vbmUgLT4gY3JlYXRlIChULkNsaWVudF9pbXBsZW1lbnRhdGlvbnMubnVsbCAoKSlcbiAgICAgIHwgU29tZSBpbXBsZW1lbnRhdGlvbnMgLT4gY3JlYXRlIGltcGxlbWVudGF0aW9uc1xuICAgIGluXG4gICAgbGV0IGZyb21fc2VydmVyX3IsIGZyb21fc2VydmVyX3cgPSBQaXBlLmNyZWF0ZSAoKSBpblxuICAgIGxldCB0b19zZXJ2ZXJfciwgdG9fc2VydmVyX3cgPSBQaXBlLmNyZWF0ZSAoKSBpblxuICAgIG1hdGNoJWJpbmRcbiAgICAgIGNvbm5lY3Rfd2Vic29ja2V0IHVyaSB+ZnJvbV9zZXJ2ZXI6ZnJvbV9zZXJ2ZXJfdyB+dG9fc2VydmVyOnRvX3NlcnZlcl9yXG4gICAgd2l0aFxuICAgIHwgRXJyb3IgXyBhcyBlcnJvciAtPiByZXR1cm4gZXJyb3JcbiAgICB8IE9rICgpIC0+XG4gICAgICBsZXQgdHJhbnNwb3J0ID1cbiAgICAgICAgQXN5bmNfcnBjX2tlcm5lbC5QaXBlX3RyYW5zcG9ydC5jcmVhdGVcbiAgICAgICAgICBBc3luY19ycGNfa2VybmVsLlBpcGVfdHJhbnNwb3J0LktpbmQuYmlnc3RyaW5nXG4gICAgICAgICAgZnJvbV9zZXJ2ZXJfclxuICAgICAgICAgIHRvX3NlcnZlcl93XG4gICAgICBpblxuICAgICAgKG1hdGNoJWJpbmQgbWFrZV9jb25uZWN0aW9uIHRyYW5zcG9ydCB3aXRoXG4gICAgICAgfCBPayBjb25uZWN0aW9uIC0+IHJldHVybiAoT2sgY29ubmVjdGlvbilcbiAgICAgICB8IEVycm9yIGV4biAtPlxuICAgICAgICAgbGV0JWJpbmQgKCkgPSBBc3luY19ycGNfa2VybmVsLlJwYy5UcmFuc3BvcnQuY2xvc2UgdHJhbnNwb3J0IGluXG4gICAgICAgICByZXR1cm4gKE9yX2Vycm9yLm9mX2V4biBleG4pKVxuICA7O1xuXG4gIGxldCBjbGllbnRfZXhuID91cmkgP2hlYXJ0YmVhdF9jb25maWcgP2Rlc2NyaXB0aW9uID9pbXBsZW1lbnRhdGlvbnMgKCkgPVxuICAgIGNsaWVudCA/dXJpID9oZWFydGJlYXRfY29uZmlnID9kZXNjcmlwdGlvbiA/aW1wbGVtZW50YXRpb25zICgpID4+fCBPcl9lcnJvci5va19leG5cbiAgOztcbmVuZFxuXG5pbmNsdWRlIEFzeW5jX3JwY19rZXJuZWwuUnBjXG5cbm1vZHVsZSBDb25uZWN0aW9uID0gc3RydWN0XG4gIGluY2x1ZGUgQ29ubmVjdGlvblxuICBpbmNsdWRlIFdlYnNvY2tldF9jb25uZWN0aW9uXG5lbmRcbiIsIm9wZW4hIENvcmVcbm9wZW4hIEFzeW5jX3JwY19rZXJuZWxcblxubW9kdWxlIFVyaSA9IHN0cnVjdFxuICBtb2R1bGUgVCA9IHN0cnVjdFxuICAgIGluY2x1ZGUgVXJpXG5cbiAgICBsZXQgdG9fc3RyaW5nIHMgPSBVcmkudG9fc3RyaW5nIHNcbiAgZW5kXG5cbiAgaW5jbHVkZSBUXG4gIGluY2x1ZGUgU2V4cGFibGUuT2Zfc3RyaW5nYWJsZSAoVClcbmVuZFxuXG5tb2R1bGUgUnBjID0gc3RydWN0XG4gIGluY2x1ZGUgUGVyc2lzdGVudF9jb25uZWN0aW9uLlJwY1xuXG4gIGxldCBjcmVhdGVfZnJvbV91cmkgPSBQZXJzaXN0ZW50X2Nvbm5lY3Rpb24uUnBjLmNyZWF0ZSB+YWRkcmVzczoobW9kdWxlIFVyaSlcblxuICBsZXQgY3JlYXRlX2Zyb21fdXJpX29wdGlvbiA9XG4gICAgUGVyc2lzdGVudF9jb25uZWN0aW9uLlJwYy5jcmVhdGVcbiAgICAgIH5hZGRyZXNzOlxuICAgICAgICAobW9kdWxlIHN0cnVjdFxuICAgICAgICAgIHR5cGUgdCA9IFVyaS50IG9wdGlvbiBbQEBkZXJpdmluZyBlcXVhbCwgc2V4cF1cbiAgICAgICAgZW5kKVxuICA7O1xuZW5kXG5cbm1vZHVsZSBWZXJzaW9uZWRfcnBjID0gQXN5bmNfcnBjX2tlcm5lbC5QZXJzaXN0ZW50X2Nvbm5lY3Rpb24uVmVyc2lvbmVkX3JwY1xuIiwib3BlbiBDb3JlXG5vcGVuIEFzeW5jX2tlcm5lbFxub3BlbiBKc19vZl9vY2FtbFxubW9kdWxlIE9wdCA9IEpzLk9wdFxubW9kdWxlIE9wdGRlZiA9IEpzLk9wdGRlZlxuXG5tb2R1bGUgUmVzcG9uc2VfdHlwZSA9IHN0cnVjdFxuICB0eXBlICdhIHQgPSAnYSBYbWxIdHRwUmVxdWVzdC5yZXNwb25zZSA9XG4gICAgfCBBcnJheUJ1ZmZlciA6IFR5cGVkX2FycmF5LmFycmF5QnVmZmVyIEpzLnQgT3B0LnQgdFxuICAgIHwgQmxvYiA6ICNGaWxlLmJsb2IgSnMudCBKcy5PcHQudCB0XG4gICAgfCBEb2N1bWVudCA6IERvbS5lbGVtZW50IERvbS5kb2N1bWVudCBKcy50IE9wdC50IHRcbiAgICB8IEpTT04gOiAnYSBPcHQudCB0XG4gICAgfCBUZXh0IDogSnMuanNfc3RyaW5nIEpzLnQgdFxuICAgIHwgRGVmYXVsdCA6IHN0cmluZyB0XG5lbmRcblxubW9kdWxlIFJlc3BvbnNlID0gc3RydWN0XG4gIHR5cGUgJ3Jlc3BvbnNlIHQgPVxuICAgIHsgY29kZSA6IGludFxuICAgIDsgZ2V0X2hlYWRlciA6IHN0cmluZyAtPiBzdHJpbmcgb3B0aW9uXG4gICAgOyBjb250ZW50IDogJ3Jlc3BvbnNlXG4gICAgfVxuZW5kXG5cbm1vZHVsZSBQb3N0X2JvZHkgPSBzdHJ1Y3RcbiAgdHlwZSB0ID1cbiAgICB8IEJsb2Igb2YgRmlsZS5ibG9iIEpzLnRcbiAgICB8IERvY3VtZW50IG9mIERvbS5lbGVtZW50IERvbS5kb2N1bWVudCBKcy50XG4gICAgfCBTdHJpbmcgb2Ygc3RyaW5nXG4gICAgfCBGb3JtX2RhdGEgb2YgRm9ybS5mb3JtRGF0YSBKcy50XG5lbmRcblxubW9kdWxlIE1ldGhvZF93aXRoX2FyZ3MgPSBzdHJ1Y3RcbiAgdHlwZSB0ID1cbiAgICB8IEdldCBvZiAoc3RyaW5nICogc3RyaW5nKSBsaXN0XG4gICAgfCBQb3N0IG9mIFBvc3RfYm9keS50IG9wdGlvblxuZW5kXG5cbnR5cGUgJ2sgd2l0aF9yZXF1ZXN0X2FyZ3MgPVxuICA/aGVhZGVyczooc3RyaW5nICogc3RyaW5nKSBsaXN0XG4gIC0+ID9vbl9wcm9ncmVzczoobG9hZGVkOmludCAtPiB0b3RhbDppbnQgLT4gdW5pdClcbiAgLT4gP29uX3VwbG9hZF9wcm9ncmVzczoobG9hZGVkOmludCAtPiB0b3RhbDppbnQgLT4gdW5pdClcbiAgLT4gdXJsOnN0cmluZ1xuICAtPiAna1xuXG5sZXQgaGFzX2dldF9hcmdzIHVybCA9IE9wdGlvbi5pc19zb21lIChTdHJpbmcuaW5kZXggdXJsICc/JylcblxubGV0IHJlcXVlc3RcbiAgPyhoZWFkZXJzID0gW10pXG4gID9vbl9wcm9ncmVzc1xuICA/b25fdXBsb2FkX3Byb2dyZXNzXG4gIH51cmxcbiAgKHR5cGUgcmVzcClcbiAgfihyZXNwb25zZV90eXBlIDogcmVzcCBSZXNwb25zZV90eXBlLnQpXG4gIChtZXRob2Rfd2l0aF9hcmdzIDogTWV0aG9kX3dpdGhfYXJncy50KVxuICA9XG4gIGxldCB1cmwsIG1ldGhvZF9zdHJpbmcgPVxuICAgIG1hdGNoIG1ldGhvZF93aXRoX2FyZ3Mgd2l0aFxuICAgIHwgR2V0IGFyZ3MgLT5cbiAgICAgIHVybCBeIChpZiBoYXNfZ2V0X2FyZ3MgdXJsIHRoZW4gXCImXCIgZWxzZSBcIj9cIikgXiBVcmwuZW5jb2RlX2FyZ3VtZW50cyBhcmdzLCBcIkdFVFwiXG4gICAgfCBQb3N0IF9ib2R5IC0+IHVybCwgXCJQT1NUXCJcbiAgaW5cbiAgbGV0IHJlcSA9IFhtbEh0dHBSZXF1ZXN0LmNyZWF0ZSAoKSBpblxuICByZXEjI19vcGVuIChKcy5zdHJpbmcgbWV0aG9kX3N0cmluZykgKEpzLnN0cmluZyB1cmwpIEpzLl90cnVlO1xuICAobGV0IG9wZW4gUmVzcG9uc2VfdHlwZSBpblxuICAgbWF0Y2ggcmVzcG9uc2VfdHlwZSB3aXRoXG4gICB8IEFycmF5QnVmZmVyIC0+IHJlcSMjLnJlc3BvbnNlVHlwZSA6PSBKcy5zdHJpbmcgXCJhcnJheWJ1ZmZlclwiXG4gICB8IEJsb2IgLT4gcmVxIyMucmVzcG9uc2VUeXBlIDo9IEpzLnN0cmluZyBcImJsb2JcIlxuICAgfCBEb2N1bWVudCAtPiByZXEjIy5yZXNwb25zZVR5cGUgOj0gSnMuc3RyaW5nIFwiZG9jdW1lbnRcIlxuICAgfCBKU09OIC0+IHJlcSMjLnJlc3BvbnNlVHlwZSA6PSBKcy5zdHJpbmcgXCJqc29uXCJcbiAgIHwgVGV4dCAtPiByZXEjIy5yZXNwb25zZVR5cGUgOj0gSnMuc3RyaW5nIFwidGV4dFwiXG4gICB8IERlZmF1bHQgLT4gcmVxIyMucmVzcG9uc2VUeXBlIDo9IEpzLnN0cmluZyBcIlwiKTtcbiAgTGlzdC5pdGVyIGhlYWRlcnMgfmY6KGZ1biAobmFtZSwgdmFsdWUpIC0+XG4gICAgcmVxIyNzZXRSZXF1ZXN0SGVhZGVyIChKcy5zdHJpbmcgbmFtZSkgKEpzLnN0cmluZyB2YWx1ZSkpO1xuICBsZXQgcmVzcG9uc2UgOiByZXNwIFJlc3BvbnNlLnQgT3JfZXJyb3IudCBJdmFyLnQgPSBJdmFyLmNyZWF0ZSAoKSBpblxuICByZXEjIy5vbmVycm9yXG4gICAgOj0gRG9tLmhhbmRsZXIgKGZ1biBfIC0+XG4gICAgICAgICBJdmFyLmZpbGxfaWZfZW1wdHkgcmVzcG9uc2UgKE9yX2Vycm9yLmVycm9yX3N0cmluZyBcIk5ldHdvcmsgZXJyb3JcIik7XG4gICAgICAgICBKcy5fdHJ1ZSk7XG4gIHJlcSMjLm9udGltZW91dFxuICAgIDo9IERvbS5oYW5kbGVyIChmdW4gXyAtPlxuICAgICAgICAgSXZhci5maWxsX2lmX2VtcHR5IHJlc3BvbnNlIChPcl9lcnJvci5lcnJvcl9zdHJpbmcgXCJUaW1lb3V0XCIpO1xuICAgICAgICAgSnMuX3RydWUpO1xuICByZXEjIy5vbnJlYWR5c3RhdGVjaGFuZ2VcbiAgICA6PSBKcy53cmFwX2NhbGxiYWNrIChmdW4gXyAtPlxuICAgICAgICAgbWF0Y2ggcmVxIyMucmVhZHlTdGF0ZSB3aXRoXG4gICAgICAgICB8IERPTkUgLT5cbiAgICAgICAgICAgbGV0IHJlcyA9XG4gICAgICAgICAgICAgaWYgcmVxIyMuc3RhdHVzID49IDIwMCAmJiByZXEjIy5zdGF0dXMgPCAzMDBcbiAgICAgICAgICAgICB0aGVuIChcbiAgICAgICAgICAgICAgIGxldCViaW5kLk9yX2Vycm9yIGNvbnRlbnQgOiByZXNwIE9yX2Vycm9yLnQgPVxuICAgICAgICAgICAgICAgICBsZXQgZ2V0X3RleHRfY29udGVudHNfb3JfZXJyb3IgKCkgPVxuICAgICAgICAgICAgICAgICAgIE9wdC5jYXNlXG4gICAgICAgICAgICAgICAgICAgICByZXEjIy5yZXNwb25zZVRleHRcbiAgICAgICAgICAgICAgICAgICAgIChmdW4gKCkgLT5cbiAgICAgICAgICAgICAgICAgICAgICAgKCogVGhpcyBjYXNlIHNob3VsZCBub3QgYmUgZW50ZXJlZCBhcyBwZXIgdGhlIHNwZWNpZmljYXRpb24gb2ZcbiAgICAgICAgICAgICAgICAgICAgICBYTUxIdHRwUmVxdWVzdCBhdCBNRE4gd2ViIGRvY3MsIGJlY2F1c2UgaWYgYSByZXF1ZXN0IGlzIHN1Y2Nlc3NmdWwsXG4gICAgICAgICAgICAgICAgICAgICAgaW4gc3RhdGUgW0RPTkVdIGFuZCByZXNwb25zZV90eXBlIFtUZXh0XSBvciBbRGVmYXVsdF0sXG4gICAgICAgICAgICAgICAgICAgICAgW3Jlc3BvbnNlVGV4dF0gc2hvdWxkIG5vdCBiZSBbbnVsbF0uXG4gICAgICAgICAgICAgICAgICAgICAgU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9yZXNwb25zZVRleHRcbiAgICAgICAgICAgICAgICAgICAqKVxuICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9zXG4gICAgICAgICAgICAgICAgICAgICAgICAgWyVzZXhwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcIk5vIHJlc3BvbnNlIHJldHVybmVkIGRlc3BpdGUgc3VjY2Vzc2Z1bCByZXF1ZXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICwgeyBjb2RlID0gKHJlcSMjLnN0YXR1cyA6IGludClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOyBzdGF0dXNfdGV4dCA9IChKcy50b19zdHJpbmcgcmVxIyMuc3RhdHVzVGV4dCA6IHN0cmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0pXG4gICAgICAgICAgICAgICAgICAgICBSZXN1bHQucmV0dXJuXG4gICAgICAgICAgICAgICAgIGluXG4gICAgICAgICAgICAgICAgIGxldCBvcGVuIFJlc3BvbnNlX3R5cGUgaW5cbiAgICAgICAgICAgICAgICAgbWF0Y2ggcmVzcG9uc2VfdHlwZSB3aXRoXG4gICAgICAgICAgICAgICAgIHwgQXJyYXlCdWZmZXIgLT4gT2sgKEZpbGUuQ29lcmNlVG8uYXJyYXlCdWZmZXIgcmVxIyMucmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgIHwgQmxvYiAtPiBPayAoRmlsZS5Db2VyY2VUby5ibG9iIHJlcSMjLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICB8IERvY3VtZW50IC0+IE9rIChGaWxlLkNvZXJjZVRvLmRvY3VtZW50IHJlcSMjLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICB8IEpTT04gLT4gT2sgKEZpbGUuQ29lcmNlVG8uanNvbiByZXEjIy5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgfCBUZXh0IC0+IGdldF90ZXh0X2NvbnRlbnRzX29yX2Vycm9yICgpXG4gICAgICAgICAgICAgICAgIHwgRGVmYXVsdCAtPiBPcl9lcnJvci5tYXAgKGdldF90ZXh0X2NvbnRlbnRzX29yX2Vycm9yICgpKSB+ZjpKcy50b19zdHJpbmdcbiAgICAgICAgICAgICAgIGluXG4gICAgICAgICAgICAgICBsZXQgZ2V0X2hlYWRlciBzID1cbiAgICAgICAgICAgICAgICAgT3B0LmNhc2VcbiAgICAgICAgICAgICAgICAgICAocmVxIyNnZXRSZXNwb25zZUhlYWRlciAoSnMuYnl0ZXN0cmluZyBzKSlcbiAgICAgICAgICAgICAgICAgICAoZnVuICgpIC0+IE5vbmUpXG4gICAgICAgICAgICAgICAgICAgKGZ1biB2IC0+IFNvbWUgKEpzLnRvX3N0cmluZyB2KSlcbiAgICAgICAgICAgICAgIGluXG4gICAgICAgICAgICAgICBPayB7IFJlc3BvbnNlLmNvbnRlbnQ7IGNvZGUgPSByZXEjIy5zdGF0dXM7IGdldF9oZWFkZXIgfSlcbiAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICBPcl9lcnJvci5lcnJvcl9zXG4gICAgICAgICAgICAgICAgIFslc2V4cFxuICAgICAgICAgICAgICAgICAgIFwiUmVxdWVzdCBmYWlsZWRcIlxuICAgICAgICAgICAgICAgICAgICwgeyBjb2RlID0gKHJlcSMjLnN0YXR1cyA6IGludClcbiAgICAgICAgICAgICAgICAgICAgIDsgc3RhdHVzX3RleHQgPSAoSnMudG9fc3RyaW5nIHJlcSMjLnN0YXR1c1RleHQgOiBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICBpblxuICAgICAgICAgICBJdmFyLmZpbGxfaWZfZW1wdHkgcmVzcG9uc2UgcmVzXG4gICAgICAgICB8IF8gLT4gKCkpO1xuICBPcHRpb24uaXRlciBvbl9wcm9ncmVzcyB+ZjooZnVuIG9uX3Byb2dyZXNzIC0+XG4gICAgcmVxIyMub25wcm9ncmVzc1xuICAgICAgOj0gRG9tLmhhbmRsZXIgKGZ1biBlIC0+XG4gICAgICAgICAgIG9uX3Byb2dyZXNzIH5sb2FkZWQ6ZSMjLmxvYWRlZCB+dG90YWw6ZSMjLnRvdGFsO1xuICAgICAgICAgICBKcy5fdHJ1ZSkpO1xuICBPcHRkZWYuaXRlciByZXEjIy51cGxvYWQgKGZ1biB1cGxvYWQgLT5cbiAgICBPcHRpb24uaXRlciBvbl91cGxvYWRfcHJvZ3Jlc3MgfmY6KGZ1biBvbl91cGxvYWRfcHJvZ3Jlc3MgLT5cbiAgICAgIHVwbG9hZCMjLm9ucHJvZ3Jlc3NcbiAgICAgICAgOj0gRG9tLmhhbmRsZXIgKGZ1biBlIC0+XG4gICAgICAgICAgICAgb25fdXBsb2FkX3Byb2dyZXNzIH5sb2FkZWQ6ZSMjLmxvYWRlZCB+dG90YWw6ZSMjLnRvdGFsO1xuICAgICAgICAgICAgIEpzLl90cnVlKSkpO1xuICAobWF0Y2ggbWV0aG9kX3dpdGhfYXJncyB3aXRoXG4gICB8IEdldCBfIC0+IHJlcSMjc2VuZCBKcy5udWxsXG4gICB8IFBvc3QgYm9keSAtPlxuICAgICAobWF0Y2ggYm9keSB3aXRoXG4gICAgICB8IE5vbmUgLT4gcmVxIyNzZW5kIEpzLm51bGxcbiAgICAgIHwgU29tZSBib2R5IC0+XG4gICAgICAgIChtYXRjaCBib2R5IHdpdGhcbiAgICAgICAgIHwgQmxvYiBiIC0+IHJlcSMjc2VuZF9ibG9iIGJcbiAgICAgICAgIHwgRG9jdW1lbnQgZCAtPiByZXEjI3NlbmRfZG9jdW1lbnQgZFxuICAgICAgICAgfCBTdHJpbmcgcyAtPiByZXEjI3NlbmQgKEpzLnNvbWUgKEpzLnN0cmluZyBzKSlcbiAgICAgICAgIHwgRm9ybV9kYXRhIGZkIC0+IHJlcSMjc2VuZF9mb3JtRGF0YSBmZCkpKTtcbiAgSXZhci5yZWFkIHJlc3BvbnNlXG47O1xuXG5sZXQgZ2V0ID8oYXJndW1lbnRzID0gW10pIHVybCA9XG4gIERlZmVycmVkLk9yX2Vycm9yLm1hcFxuICAgIH5mOihmdW4gcmVzcCAtPiByZXNwLmNvbnRlbnQpXG4gICAgKHJlcXVlc3QgfnVybCB+cmVzcG9uc2VfdHlwZTpEZWZhdWx0IChHZXQgYXJndW1lbnRzKSlcbjs7XG5cbmxldCBwb3N0ID9ib2R5IHVybCA9XG4gIERlZmVycmVkLk9yX2Vycm9yLm1hcFxuICAgIH5mOihmdW4gcmVzcCAtPiByZXNwLmNvbnRlbnQpXG4gICAgKHJlcXVlc3QgfnVybCB+cmVzcG9uc2VfdHlwZTpEZWZhdWx0IChQb3N0IGJvZHkpKVxuOztcbiIsIm9wZW4gQ29yZVxubW9kdWxlIFRpbWVfbnMgPSBDb3JlLlRpbWVfbnNcbm1vZHVsZSBDbG9ja19ucyA9IEFzeW5jX2tlcm5lbC5DbG9ja19uc1xubW9kdWxlIFNjaGVkdWxlciA9IEFzeW5jX2tlcm5lbC5Bc3luY19rZXJuZWxfc2NoZWR1bGVyLlByaXZhdGVcbm9wZW4gSnNfb2Zfb2NhbWxcblxubGV0IHNsZWVwIGQgPSBDbG9ja19ucy5hZnRlciAoVGltZV9ucy5TcGFuLm9mX3NlYyBkKVxubGV0IHlpZWxkICgpID0gU2NoZWR1bGVyLnlpZWxkIChTY2hlZHVsZXIudCAoKSlcblxubGV0IHJlYyBleHRyYWN0X2pzX2Vycm9yIChleG4gOiBleG4pIDogKHN0cmluZyBsaXN0ICogSnNfZXJyb3IudCkgb3B0aW9uID1cbiAgbWF0Y2ggZXhuIHdpdGhcbiAgfCBFeG4uUmVyYWlzZWQgKG1zZywgZXhuKSAtPlxuICAgIChtYXRjaCBleHRyYWN0X2pzX2Vycm9yIGV4biB3aXRoXG4gICAgIHwgU29tZSAobWVzc2FnZXMsIGpzX2Vycm9yKSAtPiBTb21lIChtc2cgOjogbWVzc2FnZXMsIGpzX2Vycm9yKVxuICAgICB8IE5vbmUgLT4gTm9uZSlcbiAgfCBleG4gLT5cbiAgICAobWF0Y2ggSnNfZXJyb3Iub2ZfZXhuIGV4biB3aXRoXG4gICAgIHwgU29tZSBqc19lcnJvciAtPiBTb21lIChbXSwganNfZXJyb3IpXG4gICAgIHwgTm9uZSAtPiBOb25lKVxuOztcblxubGV0IHByZXR0eV9wcmludF9leGNlcHRpb24gbmFtZSBleG4gPVxuICBsZXQgZXhuID0gQXN5bmNfa2VybmVsLk1vbml0b3IuZXh0cmFjdF9leG4gZXhuIGluXG4gIGxldCBjbGFzc2lmaWNhdGlvbiA9XG4gICAgbWF0Y2ggZXhuIHdpdGhcbiAgICB8IEpzX2Vycm9yLkV4biBlcnIgLT4gYEpzIGVyclxuICAgIHwgZXhuIC0+XG4gICAgICAobWF0Y2ggZXh0cmFjdF9qc19lcnJvciBleG4gd2l0aFxuICAgICAgIHwgTm9uZSAtPiBgRXhuIGV4blxuICAgICAgIHwgU29tZSBlcnIgLT4gYEpzX2FuZF9leG4gKGV4biwgZXJyKSlcbiAgaW5cbiAgbWF0Y2ggY2xhc3NpZmljYXRpb24gd2l0aFxuICB8IGBKcyBlcnIgLT4gRmlyZWJ1Zy5jb25zb2xlIyNlcnJvcl8yIChKcy5zdHJpbmcgbmFtZSkgZXJyXG4gIHwgYEV4biBleG4gLT4gRmlyZWJ1Zy5jb25zb2xlIyNlcnJvcl8yIChKcy5zdHJpbmcgbmFtZSkgKEpzLnN0cmluZyAoRXhuLnRvX3N0cmluZyBleG4pKVxuICB8IGBKc19hbmRfZXhuIChleG4sIChtZXNzYWdlcywgZXJyKSkgLT5cbiAgICAobWF0Y2ggbWVzc2FnZXMgd2l0aFxuICAgICB8IFtdIC0+IEZpcmVidWcuY29uc29sZSMjZ3JvdXAgKEpzLnN0cmluZyBuYW1lKVxuICAgICB8IGhkIDo6IHJlc3QgLT5cbiAgICAgICBGaXJlYnVnLmNvbnNvbGUjI2dyb3VwIChKcy5zdHJpbmcgaGQpO1xuICAgICAgIEZpcmVidWcuY29uc29sZSMjbG9nIChKcy5zdHJpbmcgbmFtZSk7XG4gICAgICAgTGlzdC5pdGVyIHJlc3QgfmY6KGZ1biBtZXNzYWdlIC0+IEZpcmVidWcuY29uc29sZSMjZXJyb3IgKEpzLnN0cmluZyBtZXNzYWdlKSkpO1xuICAgICgqIFdlIGZpcnN0IG91dHB1dCB0aGUgc3RyaW5naWZpZWQgb2NhbWwgZXhjZXB0aW9uICopXG4gICAgRmlyZWJ1Zy5jb25zb2xlIyNncm91cENvbGxhcHNlZCAoSnMuc3RyaW5nIFwiT0NhbWwgRXhjZXB0aW9uXCIpO1xuICAgIEZpcmVidWcuY29uc29sZSMjbG9nIChKcy5zdHJpbmcgKEV4bi50b19zdHJpbmcgZXhuKSk7XG4gICAgRmlyZWJ1Zy5jb25zb2xlIyNncm91cEVuZDtcbiAgICBGaXJlYnVnLmNvbnNvbGUjI2Vycm9yIGVycjtcbiAgICBGaXJlYnVnLmNvbnNvbGUjI2dyb3VwRW5kXG47O1xuXG5sZXQgcnVuID1cbiAgbGV0IG1vZHVsZSBTdGF0ZSA9IHN0cnVjdFxuICAgIHR5cGUgdCA9XG4gICAgICB8IElkbGVcbiAgICAgIHwgUnVubmluZ1xuICAgICAgfCBXaWxsX3J1bl9zb29uXG4gIGVuZFxuICBpblxuICBsZXQgbW9kdWxlIE5leHRfd2FrZXVwID0gc3RydWN0XG4gICAgdHlwZSB0ID1cbiAgICAgIHwgQXQgb2YgVGltZV9ucy50ICogZmxvYXRcbiAgICAgIHwgTm9fd2FrZXVwXG4gICAgICB8IFNvb25cbiAgZW5kXG4gIGluXG4gIGxldCBzdGF0ZSA9IHJlZiBTdGF0ZS5JZGxlIGluXG4gIGxldCB0aW1lb3V0cyA9IFN0YWNrLmNyZWF0ZSAoKSBpblxuICBsZXQgcnVuX2FmdGVyIH5mIH5tcyA9IGlnbm9yZSAoRG9tX2h0bWwuc2V0VGltZW91dCBmIG1zIDogRG9tX2h0bWwudGltZW91dF9pZF9zYWZlKSBpblxuICBsZXQgcmVjIGxvb3AgKCkgPVxuICAgIGxldCB0ID0gU2NoZWR1bGVyLnQgKCkgaW5cbiAgICBtYXRjaCAhc3RhdGUsIFNjaGVkdWxlci51bmNhdWdodF9leG4gdCB3aXRoXG4gICAgfCBfLCBTb21lIF8gfCBTdGF0ZS5SdW5uaW5nLCBOb25lIC0+ICgpXG4gICAgfCAoU3RhdGUuSWRsZSB8IFN0YXRlLldpbGxfcnVuX3Nvb24pLCBOb25lIC0+XG4gICAgICBzdGF0ZSA6PSBTdGF0ZS5SdW5uaW5nO1xuICAgICAgU2NoZWR1bGVyLnJ1bl9jeWNsZSB0O1xuICAgICAgbGV0IG5leHRfd2FrZXVwIDogTmV4dF93YWtldXAudCA9XG4gICAgICAgIGlmIFNjaGVkdWxlci5jYW5fcnVuX2Ffam9iIHRcbiAgICAgICAgdGhlbiBTb29uXG4gICAgICAgIGVsc2UgKFxuICAgICAgICAgIG1hdGNoIFNjaGVkdWxlci5uZXh0X3VwY29taW5nX2V2ZW50IHQgd2l0aFxuICAgICAgICAgIHwgTm9uZSAtPiBOb193YWtldXBcbiAgICAgICAgICB8IFNvbWUgbmV4dCAtPlxuICAgICAgICAgICAgbGV0IG5vdyA9IFRpbWVfbnMubm93ICgpIGluXG4gICAgICAgICAgICBsZXQgZCA9IFRpbWVfbnMuZGlmZiBuZXh0IG5vdyBpblxuICAgICAgICAgICAgbGV0IGRfbXMgPSBUaW1lX25zLlNwYW4udG9fbXMgZCBpblxuICAgICAgICAgICAgaWYgRmxvYXQuKCA8PSApIGRfbXMgMC4gdGhlbiBTb29uIGVsc2UgQXQgKG5leHQsIGRfbXMpKVxuICAgICAgaW5cbiAgICAgIE9wdGlvbi5pdGVyIChTY2hlZHVsZXIudW5jYXVnaHRfZXhuX3Vud3JhcHBlZCB0KSB+ZjooZnVuIChleG4sIF9zZXhwKSAtPlxuICAgICAgICBtYXRjaCBBc3luY19rZXJuZWwuTW9uaXRvci5leHRyYWN0X2V4biBleG4gd2l0aFxuICAgICAgICB8IEpzX2Vycm9yLkV4biBlcnIgLT4gSnNfZXJyb3IucmFpc2VfIGVyclxuICAgICAgICB8IGV4biAtPlxuICAgICAgICAgIChtYXRjaCBKc19lcnJvci5vZl9leG4gZXhuIHdpdGhcbiAgICAgICAgICAgfCBOb25lIC0+IHJhaXNlIGV4blxuICAgICAgICAgICB8IFNvbWUgZXJyIC0+XG4gICAgICAgICAgICAgKCogSGFjayB0byBnZXQgYSBiZXR0ZXIgYmFja3RyYWNlICopXG4gICAgICAgICAgICAgcHJldHR5X3ByaW50X2V4Y2VwdGlvbiBcIkVycm9yOlwiIGV4bjtcbiAgICAgICAgICAgICAoKiBBbmQgdGhlbiByYWlzZSB0aGUgZW1iZWRkZWQgamF2YXNjcmlwdCBlcnJvciB0aGF0IHByb3ZpZGVzIGEgcHJvcGVyXG4gICAgICAgICAgICAgICAgYmFja3RyYWNlIHdpdGggZ29vZCBzb3VyY2VtYXAgc3VwcG9ydC5cbiAgICAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGlzIGphdmFzY3JpcHQgZXJyb3IgaXMgcHJvYmFibHkgbm90IG1lYW5pbmdmdWwgd2hpY2ggaXMgd2h5XG4gICAgICAgICAgICAgICAgd2UgZmlyc3Qgb3V0cHV0IHRoZSBzZXJpYWxpemF0aW9uIG9mIG9jYW1sIGV4Y2VwdGlvbi4gKilcbiAgICAgICAgICAgICBKc19lcnJvci5yYWlzZV8gZXJyKSk7XG4gICAgICAobWF0Y2ggbmV4dF93YWtldXAgd2l0aFxuICAgICAgIHwgTm9fd2FrZXVwIC0+IHN0YXRlIDo9IElkbGVcbiAgICAgICB8IFNvb24gLT5cbiAgICAgICAgIHN0YXRlIDo9IFdpbGxfcnVuX3Nvb247XG4gICAgICAgICBydW5fYWZ0ZXIgfmY6bG9vcCB+bXM6MC5cbiAgICAgICB8IEF0IChhdCwgZF9tcykgLT5cbiAgICAgICAgIHN0YXRlIDo9IElkbGU7XG4gICAgICAgICBpZiBTdGFjay5pc19lbXB0eSB0aW1lb3V0cyB8fCBUaW1lX25zLiggPCApIGF0IChTdGFjay50b3BfZXhuIHRpbWVvdXRzKVxuICAgICAgICAgdGhlbiAoXG4gICAgICAgICAgIFN0YWNrLnB1c2ggdGltZW91dHMgYXQ7XG4gICAgICAgICAgIHJ1bl9hZnRlciB+ZjpydW5fdGltZW91dCB+bXM6ZF9tcykpXG4gIGFuZCBydW5fdGltZW91dCAoKSA9XG4gICAgKCogRWFjaCBjYWxsIHRvIFtydW5fdGltZW91dF0gcmVtb3ZlcyBleGFjdGx5IG9uZSBlbGVtZW50IGZyb20gW3RpbWVvdXRzXS4gIFRoaXNcbiAgICAgICBtYWludGFpbnMgdGhlIGludmFyaWFudCB0aGF0IFtTdGFjay5sZW5ndGggdGltZW91dHNdIGlzIGV4YWN0bHkgdGhlIG51bWJlciBvZlxuICAgICAgIG91dHN0YW5kaW5nIHRpbWVvdXRzIHdlIGhhdmUgcmVnaXN0ZXJlZC4gKilcbiAgICBpZ25vcmUgKFN0YWNrLnBvcF9leG4gdGltZW91dHMgOiBUaW1lX25zLnQpO1xuICAgIGxvb3AgKClcbiAgaW5cbiAgZnVuICgpIC0+XG4gICAgbWF0Y2ggIXN0YXRlIHdpdGhcbiAgICB8IFN0YXRlLklkbGUgLT5cbiAgICAgIHJ1bl9hZnRlciB+Zjpsb29wIH5tczowLjtcbiAgICAgIHN0YXRlIDo9IFN0YXRlLldpbGxfcnVuX3Nvb25cbiAgICB8IFN0YXRlLlJ1bm5pbmcgfCBTdGF0ZS5XaWxsX3J1bl9zb29uIC0+ICgpXG47O1xuXG5sZXQgaW5pdGlhbGl6ZWRfcmVmID0gcmVmIGZhbHNlXG5cbmxldCBpbml0aWFsaXphdGlvbiA9XG4gIGxhenlcbiAgICAobGV0IHQgPSBTY2hlZHVsZXIudCAoKSBpblxuICAgICBpbml0aWFsaXplZF9yZWYgOj0gdHJ1ZTtcbiAgICAgU2NoZWR1bGVyLnNldF9qb2JfcXVldWVkX2hvb2sgdCAoZnVuIF8gLT4gcnVuICgpKTtcbiAgICAgU2NoZWR1bGVyLnNldF9ldmVudF9hZGRlZF9ob29rIHQgKGZ1biBfIC0+IHJ1biAoKSk7XG4gICAgIFNjaGVkdWxlci5zZXRfdGhyZWFkX3NhZmVfZXh0ZXJuYWxfam9iX2hvb2sgdCBydW47XG4gICAgIEFzeW5jX2tlcm5lbC5Nb25pdG9yLkV4cGVydC50cnlfd2l0aF9sb2dfZXhuXG4gICAgICAgOj0gcHJldHR5X3ByaW50X2V4Y2VwdGlvbiBcIkFzeW5jX2tlcm5lbDogTW9uaXRvci50cnlfd2l0aFwiO1xuICAgICBBc3luY19rZXJuZWwuTW9uaXRvci5kZXRhY2hfYW5kX2l0ZXJfZXJyb3JzXG4gICAgICAgQXN5bmNfa2VybmVsLk1vbml0b3IubWFpblxuICAgICAgIH5mOihwcmV0dHlfcHJpbnRfZXhjZXB0aW9uIFwiQXN5bmNfa2VybmVsOiBVbmhhbmRsZWQgZXhjZXB0aW9uXCIpO1xuICAgICBydW4gKCkpXG47O1xuXG5sZXQgaW5pdCAoKSA9IGZvcmNlIGluaXRpYWxpemF0aW9uXG5sZXQgaW5pdGlhbGl6ZWQgKCkgPSAhaW5pdGlhbGl6ZWRfcmVmXG5cbmxldCBkb2N1bWVudF9sb2FkZWQgPVxuICBsZXQganNfc3RyaW5nX2NvbXBhcmUgcyA9XG4gICAgbGV0IGNvbXBhcmVfdXNpbmdfamF2YXNjcmlwdF90cmlwbGVfZXF1YWxfZm9yX3N0cmluZ3MgPSBwaHlzX2VxdWFsIGluXG4gICAgY29tcGFyZV91c2luZ19qYXZhc2NyaXB0X3RyaXBsZV9lcXVhbF9mb3Jfc3RyaW5ncyAoSnMuc3RyaW5nIHMpXG4gIGluXG4gIGxldCByZWFkeV9zdGF0ZV9jaGFuZ2UgPSBcInJlYWR5c3RhdGVjaGFuZ2VcIiBpblxuICBsZXQgY29tcGxldGUgPSBcImNvbXBsZXRlXCIgaW5cbiAgbGV0IHJlYWR5c3RhdGVjaGFuZ2VfZXYgPSBEb20uRXZlbnQubWFrZSByZWFkeV9zdGF0ZV9jaGFuZ2UgaW5cbiAgbGV0IGFkZF9ldmVudCB0YXJnZXQgZXZ0IGhhbmRsZXIgPVxuICAgIGlnbm9yZVxuICAgICAgKERvbV9odG1sLmFkZEV2ZW50TGlzdGVuZXIgdGFyZ2V0IGV2dCBoYW5kbGVyIEpzLl9mYWxzZSA6IERvbS5ldmVudF9saXN0ZW5lcl9pZClcbiAgaW5cbiAgZnVuICgpIC0+XG4gICAgaWYganNfc3RyaW5nX2NvbXBhcmUgY29tcGxldGUgRG9tX2h0bWwuZG9jdW1lbnQjIy5yZWFkeVN0YXRlXG4gICAgdGhlbiBBc3luY19rZXJuZWwuRGVmZXJyZWQudW5pdFxuICAgIGVsc2UgKFxuICAgICAgbGV0IGxvYWRlZCA9IEFzeW5jX2tlcm5lbC5JdmFyLmNyZWF0ZSAoKSBpblxuICAgICAgbGV0IGhhbmRsZXIgZXZ0ID1cbiAgICAgICAgaWYgKG5vdCAoanNfc3RyaW5nX2NvbXBhcmUgcmVhZHlfc3RhdGVfY2hhbmdlIGV2dCMjLl90eXBlKSlcbiAgICAgICAgICAgfHwganNfc3RyaW5nX2NvbXBhcmUgY29tcGxldGUgRG9tX2h0bWwuZG9jdW1lbnQjIy5yZWFkeVN0YXRlXG4gICAgICAgIHRoZW4gQXN5bmNfa2VybmVsLkl2YXIuZmlsbF9pZl9lbXB0eSBsb2FkZWQgKCk7XG4gICAgICAgIEpzLl90cnVlXG4gICAgICBpblxuICAgICAgYWRkX2V2ZW50IERvbV9odG1sLmRvY3VtZW50IERvbV9odG1sLkV2ZW50LmRvbUNvbnRlbnRMb2FkZWQgKERvbS5oYW5kbGVyIGhhbmRsZXIpO1xuICAgICAgYWRkX2V2ZW50IERvbV9odG1sLmRvY3VtZW50IHJlYWR5c3RhdGVjaGFuZ2VfZXYgKERvbS5oYW5kbGVyIGhhbmRsZXIpO1xuICAgICAgYWRkX2V2ZW50IERvbV9odG1sLndpbmRvdyBEb21faHRtbC5FdmVudC5sb2FkIChEb20uaGFuZGxlciBoYW5kbGVyKTtcbiAgICAgIEFzeW5jX2tlcm5lbC5JdmFyLnJlYWQgbG9hZGVkKVxuOztcbiIsIm1vZHVsZSBScGMgPSBScGNcbm1vZHVsZSBIdHRwID0gSHR0cFxubW9kdWxlIERlYnVnID0gRGVidWdcbm1vZHVsZSBQZXJzaXN0ZW50X2Nvbm5lY3Rpb24gPSBQZXJzaXN0ZW50X2Nvbm5lY3Rpb25cbmluY2x1ZGUgQXN5bmNfanMwXG5cbmxldCBsb2dfcyA9IERlYnVnLmxvZ19zXG5sZXQgbG9nX3NfYXNfc3RyaW5nID0gRGVidWcubG9nX3NfYXNfc3RyaW5nXG4iXX0=
