// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Incr_dom__
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    Incr_dom = [0],
    Incr_dom$0 = [0, Incr_dom];
   runtime.caml_register_global(0, Incr_dom$0, "Incr_dom__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__Component
//# unitInfo: Requires: Core__Option, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Incr_dom_Component$0 = "Incr_dom__Component",
    cst_incr_dom$0 = "incr_dom";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Core_Option = global_data.Core__Option,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_Component$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom$0);
   caml_call1(Ppx_expect_runtime[1][1], "src/component.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom$0, "component.ml");
   var
    cst_incr_dom = cst_incr_dom$0,
    cst_Incr_dom_Component = cst_Incr_dom_Component$0;
   function extra(r){return r[5];}
   function on_display(r){return r[4];}
   function view(r){return r[3];}
   function update_visibility(r){return r[2];}
   function apply_action(r){return r[1];}
   function create_with_extra
   (apply_action, update_visibility, on_display, extra, model, view){
    function _g_(param, _l_, _k_){return model;}
    var apply_action$0 = caml_call2(Core_Option[39], apply_action, _g_);
    function _h_(param){return model;}
    var
     update_visibility$0 = caml_call2(Core_Option[39], update_visibility, _h_);
    function _i_(param, _j_){return 0;}
    var on_display$0 = caml_call2(Core_Option[39], on_display, _i_);
    return [0, apply_action$0, update_visibility$0, view, on_display$0, extra];
   }
   function create(_c_, _b_, _a_){
    var _d_ = 0;
    return function(_e_, _f_){
     return create_with_extra(_c_, _b_, _a_, _d_, _e_, _f_);};
   }
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_Component);
   var
    Incr_dom_Component =
      [0,
       apply_action,
       update_visibility,
       view,
       extra,
       on_display,
       create,
       create_with_extra];
   runtime.caml_register_global
    (12, Incr_dom_Component, cst_Incr_dom_Component$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__Incr
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Ui_incr
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Incr_dom_Incr = "Incr_dom__Incr",
    cst_incr_dom = "incr_dom";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Ui_incr = global_data.Ui_incr;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_Incr);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][1], "src/incr.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom, "incr.ml");
   var
    Incr = Ui_incr[1],
    clock = Ui_incr[2],
    sexp_of_state_witness = Ui_incr[3],
    State = Ui_incr[4],
    sexp_of_t = Ui_incr[5],
    invariant = Ui_incr[6],
    is_const = Ui_incr[7],
    is_valid = Ui_incr[8],
    is_necessary = Ui_incr[9],
    const$0 = Ui_incr[10],
    return$0 = Ui_incr[11],
    map = Ui_incr[12],
    symbol_map = Ui_incr[13],
    map2 = Ui_incr[14],
    map3 = Ui_incr[15],
    map4 = Ui_incr[16],
    map5 = Ui_incr[17],
    map6 = Ui_incr[18],
    map7 = Ui_incr[19],
    map8 = Ui_incr[20],
    map9 = Ui_incr[21],
    map10 = Ui_incr[22],
    map11 = Ui_incr[23],
    map12 = Ui_incr[24],
    map13 = Ui_incr[25],
    map14 = Ui_incr[26],
    map15 = Ui_incr[27],
    bind = Ui_incr[28],
    symbol_bind = Ui_incr[29],
    bind2 = Ui_incr[30],
    bind3 = Ui_incr[31],
    bind4 = Ui_incr[32],
    Infix = Ui_incr[33],
    join = Ui_incr[34],
    if$0 = Ui_incr[35],
    freeze = Ui_incr[36],
    depend_on = Ui_incr[37],
    necessary_if_alive = Ui_incr[38],
    for_all = Ui_incr[39],
    exists = Ui_incr[40],
    all = Ui_incr[41],
    both = Ui_incr[42],
    array_fold = Ui_incr[43],
    reduce_balanced = Ui_incr[44],
    Unordered_array_fold_update = Ui_incr[45],
    unordered_array_fold = Ui_incr[46],
    opt_unordered_array_fold = Ui_incr[47],
    sum = Ui_incr[48],
    opt_sum = Ui_incr[49],
    sum_int = Ui_incr[50],
    sum_float = Ui_incr[51],
    Scope = Ui_incr[52],
    Var = Ui_incr[53],
    Observer = Ui_incr[54],
    observe = Ui_incr[55],
    Update = Ui_incr[56],
    on_update = Ui_incr[57],
    stabilize = Ui_incr[58],
    am_stabilizing = Ui_incr[59],
    Cutoff = Ui_incr[60],
    set_cutoff = Ui_incr[61],
    get_cutoff = Ui_incr[62],
    lazy_from_fun = Ui_incr[63],
    default_hash_table_initial_siz = Ui_incr[64],
    memoize_fun = Ui_incr[65],
    memoize_fun_by_key = Ui_incr[66],
    weak_memoize_fun = Ui_incr[67],
    weak_memoize_fun_by_key = Ui_incr[68],
    user_info = Ui_incr[69],
    set_user_info = Ui_incr[70],
    append_user_info_graphviz = Ui_incr[71],
    Node_value = Ui_incr[72],
    node_value = Ui_incr[73],
    Packed = Ui_incr[74],
    pack = Ui_incr[75],
    save_dot = Ui_incr[76],
    save_dot_to_file = Ui_incr[77],
    Let_syntax = Ui_incr[78],
    Before_or_after = Ui_incr[79],
    Clock = Ui_incr[80],
    Expert = Ui_incr[81],
    Map = Ui_incr[82],
    Select = Ui_incr[83];
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_Incr);
   var
    Incr_dom_Incr =
      [0,
       Incr,
       clock,
       sexp_of_state_witness,
       State,
       sexp_of_t,
       invariant,
       is_const,
       is_valid,
       is_necessary,
       const$0,
       return$0,
       map,
       symbol_map,
       map2,
       map3,
       map4,
       map5,
       map6,
       map7,
       map8,
       map9,
       map10,
       map11,
       map12,
       map13,
       map14,
       map15,
       bind,
       symbol_bind,
       bind2,
       bind3,
       bind4,
       Infix,
       join,
       if$0,
       freeze,
       depend_on,
       necessary_if_alive,
       for_all,
       exists,
       all,
       both,
       array_fold,
       reduce_balanced,
       Unordered_array_fold_update,
       unordered_array_fold,
       opt_unordered_array_fold,
       sum,
       opt_sum,
       sum_int,
       sum_float,
       Scope,
       Var,
       Observer,
       observe,
       Update,
       on_update,
       stabilize,
       am_stabilizing,
       Cutoff,
       set_cutoff,
       get_cutoff,
       lazy_from_fun,
       default_hash_table_initial_siz,
       memoize_fun,
       memoize_fun_by_key,
       weak_memoize_fun,
       weak_memoize_fun_by_key,
       user_info,
       set_user_info,
       append_user_info_graphviz,
       Node_value,
       node_value,
       Packed,
       pack,
       save_dot,
       save_dot_to_file,
       Let_syntax,
       Before_or_after,
       Clock,
       Expert,
       Map,
       Select];
   runtime.caml_register_global(12, Incr_dom_Incr, cst_Incr_dom_Incr);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__App_intf
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Incr_dom_App_intf = "Incr_dom__App_intf",
    cst_incr_dom = "incr_dom";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_App_intf);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][1], "src/app_intf.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom, "app_intf.ml");
   var Private = [0];
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_App_intf);
   var Incr_dom_App_intf = [0, Private];
   runtime.caml_register_global(11, Incr_dom_App_intf, cst_Incr_dom_App_intf);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__Js_misc
//# unitInfo: Requires: Base__Binary_searchable, Bin_prot__Common, Bin_prot__Read, Bin_prot__Shape, Bin_prot__Write, Bin_shape, Core, Core__Float, Core__Option, Js_of_ocaml__Dom_html, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Sexplib0__Sexp_conv_error, Sexplib0__Sexp_conv_record
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Columns$1 = "Columns",
    cst_Incr_dom_Js_misc$0 = "Incr_dom__Js_misc",
    cst_Rows$1 = "Rows",
    cst_a$4 = "a",
    cst_bottom$1 = "bottom",
    cst_columns = "columns",
    cst_incr_dom$0 = "incr_dom",
    cst_left$1 = "left",
    cst_right$1 = "right",
    cst_rows = "rows",
    cst_rows_or_columns$1 = "rows_or_columns",
    cst_src_js_misc_ml_Rect_t$0 = "src/js_misc.ml.Rect.t",
    cst_src_js_misc_ml_rows_or_col$0 = "src/js_misc.ml.rows_or_columns",
    cst_t$1 = "t",
    cst_top$1 = "top",
    caml_string_notequal = runtime.caml_string_notequal;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    error_source_003 = cst_src_js_misc_ml_Rect_t$0,
    error_source_019 = cst_src_js_misc_ml_rows_or_col$0,
    descriptions = [0, [0, cst_Rows$1, 0], [0, [0, cst_Columns$1, 0], 0]],
    Core = global_data.Core,
    Core_Float = global_data.Core__Float,
    Core_Option = global_data.Core__Option,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Base_Binary_searchable = global_data.Base__Binary_searchable,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Bin_prot_Read = global_data.Bin_prot__Read,
    Bin_prot_Common = global_data.Bin_prot__Common,
    Bin_prot_Write = global_data.Bin_prot__Write,
    Sexplib0_Sexp_conv_error = global_data.Sexplib0__Sexp_conv_error,
    Bin_shape = global_data.Bin_shape,
    Bin_prot_Shape = global_data.Bin_prot__Shape,
    Sexplib0_Sexp_conv_record = global_data.Sexplib0__Sexp_conv_record,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_Js_misc$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom$0);
   caml_call1(Ppx_expect_runtime[1][1], "src/js_misc.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom$0, "js_misc.ml");
   var
    _E_ =
      [0,
       [11, "Element ", [2, 0, [11, " not found", 0]]],
       "Element %s not found"],
    cst_keep_in_view = "keep-in-view",
    cst_Columns$0 = cst_Columns$1,
    cst_Rows$0 = cst_Rows$1,
    _D_ = [0, 0],
    _C_ = [0, 0],
    _B_ = [1, cst_src_js_misc_ml_rows_or_col$0],
    cst_src_js_misc_ml_rows_or_col = cst_src_js_misc_ml_rows_or_col$0,
    _u_ = [0, cst_Columns$1],
    _v_ = [0, cst_Rows$1],
    cst_src_js_misc_ml_Rect_t = cst_src_js_misc_ml_Rect_t$0,
    cst_t$0 = cst_t$1,
    _a_ = [0, cst_right$1],
    _b_ = [0, cst_bottom$1],
    _c_ = [0, cst_left$1],
    _d_ = [0, cst_top$1],
    cst_right = cst_right$1,
    cst_bottom = cst_bottom$1,
    cst_left = cst_left$1,
    cst_top = cst_top$1,
    cst_a = cst_a$4,
    cst_src_js_misc_ml_9_14 = "src/js_misc.ml:9:14",
    cst_right$0 = cst_right$1,
    cst_a$0 = cst_a$4,
    cst_src_js_misc_ml_8_15 = "src/js_misc.ml:8:15",
    cst_bottom$0 = cst_bottom$1,
    cst_a$1 = cst_a$4,
    cst_src_js_misc_ml_7_13 = "src/js_misc.ml:7:13",
    cst_left$0 = cst_left$1,
    cst_a$2 = cst_a$4,
    cst_src_js_misc_ml_6_12 = "src/js_misc.ml:6:12",
    cst_top$0 = cst_top$1,
    cst_a$3 = cst_a$4,
    cst_t = cst_t$1,
    cst_src_js_misc_ml_5_2 = "src/js_misc.ml:5:2",
    _w_ = [0, [0, cst_Rows$1, 0], [0, [0, cst_Columns$1, 0], 0]],
    cst_rows_or_columns = cst_rows_or_columns$1,
    cst_src_js_misc_ml_25_0 = "src/js_misc.ml:25:0",
    cst_rows_or_columns$0 = cst_rows_or_columns$1,
    cst_Rows = cst_Rows$1,
    cst_Columns = cst_Columns$1,
    cst_incr_dom = cst_incr_dom$0,
    cst_Incr_dom_Js_misc = cst_Incr_dom_Js_misc$0;
   function t_of_sexp(of_a_001, x_004){
    function _an_(param){
     var
      _aq_ = param[2],
      _ar_ = _aq_[2],
      right = _ar_[2][1],
      bottom = _ar_[1],
      left = _aq_[1],
      top = param[1];
     return [0, top, left, bottom, right];
    }
    var _ao_ = 0;
    function _ap_(param){
     return caml_string_notequal(param, cst_bottom$1)
             ? caml_string_notequal
                (param, cst_left$1)
               ? caml_string_notequal
                  (param, cst_right$1)
                 ? caml_string_notequal(param, cst_top$1) ? -1 : 0
                 : 3
               : 1
             : 2;
    }
    return caml_call6
            (Sexplib0_Sexp_conv_record[3],
             error_source_003,
             [0,
              cst_top,
              1,
              of_a_001,
              [0,
               cst_left,
               1,
               of_a_001,
               [0, cst_bottom, 1, of_a_001, [0, cst_right, 1, of_a_001, 0]]]],
             _ap_,
             _ao_,
             _an_,
             x_004);
   }
   function sexp_of_t(of_a_005, param){
    var
     right_013 = param[4],
     bottom_011 = param[3],
     left_009 = param[2],
     top_007 = param[1],
     arg_014 = caml_call1(of_a_005, right_013),
     bnds_006 = [0, [1, [0, _a_, [0, arg_014, 0]]], 0],
     arg_012 = caml_call1(of_a_005, bottom_011),
     bnds_006$0 = [0, [1, [0, _b_, [0, arg_012, 0]]], bnds_006],
     arg_010 = caml_call1(of_a_005, left_009),
     bnds_006$1 = [0, [1, [0, _c_, [0, arg_010, 0]]], bnds_006$0],
     arg_008 = caml_call1(of_a_005, top_007),
     bnds_006$2 = [0, [1, [0, _d_, [0, arg_008, 0]]], bnds_006$1];
    return [1, bnds_006$2];
   }
   var
    _e_ = caml_call1(Bin_shape[3][1], cst_a),
    _f_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_9_14),
    _g_ = [0, [0, cst_right$0, caml_call2(Bin_prot_Shape[11], _f_, _e_)], 0],
    _h_ = caml_call1(Bin_shape[3][1], cst_a$0),
    _i_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_8_15),
    _j_ =
      [0, [0, cst_bottom$0, caml_call2(Bin_prot_Shape[11], _i_, _h_)], _g_],
    _k_ = caml_call1(Bin_shape[3][1], cst_a$1),
    _l_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_7_13),
    _m_ = [0, [0, cst_left$0, caml_call2(Bin_prot_Shape[11], _l_, _k_)], _j_],
    _n_ = caml_call1(Bin_shape[3][1], cst_a$2),
    _o_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_6_12),
    _p_ = [0, [0, cst_top$0, caml_call2(Bin_prot_Shape[11], _o_, _n_)], _m_],
    _q_ = caml_call1(Bin_prot_Shape[4], _p_),
    _r_ = [0, caml_call1(Bin_shape[3][1], cst_a$3), 0],
    _s_ = [0, [0, caml_call1(Bin_shape[2][1], cst_t), _r_, _q_], 0],
    _t_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_5_2),
    group = caml_call2(Bin_prot_Shape[2], _t_, _s_);
   function bin_shape_t(a){
    var _am_ = caml_call1(Bin_shape[2][1], cst_t$0);
    return caml_call1(caml_call2(Bin_prot_Shape[10], group, _am_), [0, a, 0]);
   }
   function bin_size_t(size_of_a, param){
    var
     v4 = param[4],
     v3 = param[3],
     v2 = param[2],
     v1 = param[1],
     _ai_ = caml_call1(size_of_a, v1),
     size = caml_call2(Bin_prot_Common[23], 0, _ai_),
     _aj_ = caml_call1(size_of_a, v2),
     size$0 = caml_call2(Bin_prot_Common[23], size, _aj_),
     _ak_ = caml_call1(size_of_a, v3),
     size$1 = caml_call2(Bin_prot_Common[23], size$0, _ak_),
     _al_ = caml_call1(size_of_a, v4);
    return caml_call2(Bin_prot_Common[23], size$1, _al_);
   }
   function bin_write_t(write_a, buf, pos, param){
    var
     v4 = param[4],
     v3 = param[3],
     v2 = param[2],
     v1 = param[1],
     pos$0 = caml_call3(write_a, buf, pos, v1),
     pos$1 = caml_call3(write_a, buf, pos$0, v2),
     pos$2 = caml_call3(write_a, buf, pos$1, v3);
    return caml_call3(write_a, buf, pos$2, v4);
   }
   function bin_writer_t(bin_writer_a){
    function _ae_(v){
     var _af_ = bin_writer_a[2];
     return function(_ag_, _ah_){return bin_write_t(_af_, v, _ag_, _ah_);};
    }
    return [0, function(v){return bin_size_t(bin_writer_a[1], v);}, _ae_];
   }
   function bin_read_t(of_a, buf, pos_ref, vint){
    return caml_call2
            (Bin_prot_Common[19], cst_src_js_misc_ml_Rect_t, pos_ref[1]);
   }
   function bin_read_t$0(of_a, buf, pos_ref){
    var
     v_top = caml_call2(of_a, buf, pos_ref),
     v_left = caml_call2(of_a, buf, pos_ref),
     v_bottom = caml_call2(of_a, buf, pos_ref),
     v_right = caml_call2(of_a, buf, pos_ref);
    return [0, v_top, v_left, v_bottom, v_right];
   }
   function bin_reader_t(bin_reader_a){
    function _ad_(buf, pos_ref, vtag){
     return bin_read_t(bin_reader_a[1], buf, pos_ref, vtag);
    }
    return [0,
            function(buf, pos_ref){
             return bin_read_t$0(bin_reader_a[1], buf, pos_ref);
            },
            _ad_];
   }
   function bin_t(bin_a){
    var _ab_ = bin_reader_t(bin_a[3]), _ac_ = bin_writer_t(bin_a[2]);
    return [0, bin_shape_t(bin_a[1]), _ac_, _ab_];
   }
   function compare(cmp_a, a_015, b_016){
    if(a_015 === b_016) return 0;
    var n = caml_call2(cmp_a, a_015[1], b_016[1]);
    if(0 !== n) return n;
    var n$0 = caml_call2(cmp_a, a_015[2], b_016[2]);
    if(0 !== n$0) return n$0;
    var n$1 = caml_call2(cmp_a, a_015[3], b_016[3]);
    return 0 === n$1 ? caml_call2(cmp_a, a_015[4], b_016[4]) : n$1;
   }
   function right(r){return r[4];}
   function bottom(r){return r[3];}
   function left(r){return r[2];}
   function top(r){return r[1];}
   function map(t, f){
    var
     ___ = caml_call1(f, t[4]),
     _$_ = caml_call1(f, t[3]),
     _aa_ = caml_call1(f, t[2]);
    return [0, caml_call1(f, t[1]), _aa_, _$_, ___];
   }
   function int_height(t){return t[3] - t[1] | 0;}
   function int_width(t){return t[4] - t[2] | 0;}
   function float_height(t){return t[3] - t[1];}
   function float_width(t){return t[4] - t[2];}
   function round_float_rect(opt){
    if(opt) var sth = opt[1], round = sth; else var round = Core_Float[53];
    return function(_Z_){return map(_Z_, round);};
   }
   function rows_or_columns_of_sexp(sexp_020){
    a:
    {
     if(0 === sexp_020[0]){
      var _V_ = sexp_020[1];
      b:
      if(caml_string_notequal(_V_, cst_Columns$1)){
       if(caml_string_notequal(_V_, cst_Rows$1)){
        if(! caml_string_notequal(_V_, cst_columns)) break b;
        if(caml_string_notequal(_V_, cst_rows)) break a;
       }
       return 0;
      }
      return 1;
     }
     var _W_ = sexp_020[1];
     if(! _W_)
      return caml_call2
              (Sexplib0_Sexp_conv_error[11], error_source_019, sexp_020);
     var _X_ = _W_[1];
     if(0 !== _X_[0])
      return caml_call2
              (Sexplib0_Sexp_conv_error[10], error_source_019, sexp_020);
     var _Y_ = _X_[1];
     b:
     if(caml_string_notequal(_Y_, cst_Columns$1)){
      if(caml_string_notequal(_Y_, cst_Rows$1)){
       if(! caml_string_notequal(_Y_, cst_columns)) break b;
       if(caml_string_notequal(_Y_, cst_rows)) break a;
      }
      return caml_call2
              (Sexplib0_Sexp_conv_error[7], error_source_019, sexp_020);
     }
     return caml_call2
             (Sexplib0_Sexp_conv_error[7], error_source_019, sexp_020);
    }
    return caml_call2
            (Sexplib0_Sexp_conv_error[12], error_source_019, sexp_020);
   }
   function sexp_of_rows_or_columns(param){return param ? _u_ : _v_;}
   var
    _x_ = caml_call1(Bin_prot_Shape[5], _w_),
    _y_ =
      [0, [0, caml_call1(Bin_shape[2][1], cst_rows_or_columns), 0, _x_], 0],
    _z_ = caml_call1(Bin_shape[4][1], cst_src_js_misc_ml_25_0),
    group$0 = caml_call2(Bin_prot_Shape[2], _z_, _y_),
    _A_ = caml_call1(Bin_shape[2][1], cst_rows_or_columns$0),
    bin_shape_rows_or_columns =
      caml_call1(caml_call2(Bin_prot_Shape[10], group$0, _A_), 0);
   function bin_size_rows_or_columns(param){return 1;}
   function bin_write_rows_or_columns(buf, pos, param){
    return param
            ? caml_call3(Bin_prot_Write[30], buf, pos, 1)
            : caml_call3(Bin_prot_Write[30], buf, pos, 0);
   }
   var
    bin_writer_rows_or_columns =
      [0, bin_size_rows_or_columns, bin_write_rows_or_columns];
   function bin_read_rows_or_columns(buf, pos_ref, vint){
    return caml_call2
            (Bin_prot_Common[19], cst_src_js_misc_ml_rows_or_col, pos_ref[1]);
   }
   function bin_read_rows_or_columns$0(buf, pos_ref){
    var match = caml_call2(Bin_prot_Read[29], buf, pos_ref);
    return 0 === match
            ? 0
            : 1
              === match
              ? 1
              : caml_call2(Bin_prot_Common[18], _B_, pos_ref[1]);
   }
   var
    bin_reader_rows_or_columns =
      [0, bin_read_rows_or_columns$0, bin_read_rows_or_columns],
    bin_rows_or_columns =
      [0,
       bin_shape_rows_or_columns,
       bin_writer_rows_or_columns,
       bin_reader_rows_or_columns],
    rows = 0,
    columns = 1;
   function is_rows(param){return param ? 0 : 1;}
   function is_columns(param){return param ? 1 : 0;}
   function rows_val(param){return param ? 0 : _C_;}
   function columns_val(param){return param ? _D_ : 0;}
   var
    rows$0 = [0, cst_Rows, 0, rows],
    columns$0 = [0, cst_Columns, 1, columns];
   function fold(init, rows_fun, columns_fun){
    return caml_call2
            (columns_fun, caml_call2(rows_fun, init, rows$0), columns$0);
   }
   function iter(rows_fun, columns_fun){
    caml_call1(rows_fun, rows$0);
    return caml_call1(columns_fun, columns$0);
   }
   function map$0(t, rows_fun, columns_fun){
    return t
            ? caml_call1(columns_fun, columns$0)
            : caml_call1(rows_fun, rows$0);
   }
   function make_matcher(rows_fun, columns_fun, compile_acc){
    var
     match = caml_call2(rows_fun, rows$0, compile_acc),
     compile_acc$0 = match[2],
     rows_gen = match[1],
     match$0 = caml_call2(columns_fun, columns$0, compile_acc$0),
     compile_acc$1 = match$0[2],
     columns_gen = match$0[1];
    function _S_(param){return caml_call1(rows_gen, 0);}
    function _T_(param){return caml_call1(columns_gen, 0);}
    return [0, function(_U_){return map$0(_U_, _S_, _T_);}, compile_acc$1];
   }
   function to_rank(param){return param ? 1 : 0;}
   function to_name(param){return param ? cst_Columns$0 : cst_Rows$0;}
   var
    Variants_of_rows_or_columns =
      [0,
       rows$0,
       columns$0,
       fold,
       iter,
       map$0,
       make_matcher,
       to_rank,
       to_name,
       descriptions],
    compare_rows_or_columns = runtime.caml_int_compare;
   function innerHeight(param){
    var t0 = Js_of_ocaml_Dom_html[8];
    return t0.innerHeight;
   }
   function innerWidth(param){
    var t1 = Js_of_ocaml_Dom_html[8];
    return t1.innerWidth;
   }
   function element_is_in_viewport(elt){
    var
     rect = elt.getBoundingClientRect(),
     _K_ = caml_call2(Core_Float[126], rect.top, 0.);
    if(_K_){
     var _L_ = caml_call2(Core_Float[126], rect.left, 0.);
     if(_L_){
      var
       _M_ = innerHeight(0),
       _N_ = caml_call1(Core_Float[33], _M_),
       _O_ = caml_call2(Core_Float[127], rect.bottom, _N_);
      if(_O_){
       var _P_ = innerWidth(0), _Q_ = caml_call1(Core_Float[33], _P_);
       return caml_call2(Core_Float[127], rect.right, _Q_);
      }
      var _R_ = _O_;
     }
     else
      var _R_ = _L_;
    }
    else
     var _R_ = _K_;
    return _R_;
   }
   function scroll(opt, param){
    if(opt) var sth = opt[1], id = sth; else var id = cst_keep_in_view;
    var match = caml_call1(Js_of_ocaml_Dom_html[3], id);
    if(! match) return 0;
    var elt = match[1], _J_ = 1 - element_is_in_viewport(elt);
    return _J_ ? elt.scrollIntoView(Js_of_ocaml_Js[7]) : _J_;
   }
   function viewport_rect_of_element(elt){
    var rect = elt.getBoundingClientRect();
    return [0, rect.top, rect.left, rect.bottom, rect.right];
   }
   function viewport_rect(param){
    var _I_ = innerWidth(0);
    return [0, 0, 0, innerHeight(0), _I_];
   }
   function client_rect_of_element(elt){
    var
     bounding_rect = viewport_rect_of_element(elt),
     _F_ = caml_call1(Core_Float[33], elt.clientWidth),
     _G_ = bounding_rect[2] + _F_,
     _H_ = caml_call1(Core_Float[33], elt.clientHeight);
    return [0,
            bounding_rect[1],
            bounding_rect[2],
            bounding_rect[1] + _H_,
            _G_];
   }
   function client_rect(param){
    var
     t18 = Js_of_ocaml_Dom_html[2],
     t19 = t18.documentElement,
     t16 = Js_of_ocaml_Dom_html[2],
     t17 = t16.documentElement;
    return [0, 0, 0, t17.clientHeight, t19.clientWidth];
   }
   function find_visible_range(length, nth_element_id, layout){
    if(caml_call2(Core[90], length, 0)) return 0;
    function element_search(search_by, mode, layout, x){
     function nth_element(n){
      var
       id = caml_call1(nth_element_id, n),
       match = caml_call1(Js_of_ocaml_Dom_html[3], id);
      if(! match) return caml_call3(Core[246], _E_, id, 0);
      var elt = match[1];
      return elt;
     }
     var
      first = viewport_rect_of_element(nth_element(0)),
      last = viewport_rect_of_element(nth_element(length - 1 | 0)),
      compare = Core_Float[133];
     function get(param, n){
      var
       is_ascending =
         layout
          ? caml_call2(Core_Float[127], first[2], last[2])
          : caml_call2(Core_Float[127], first[1], last[1]),
       n$0 = is_ascending ? n : (length - n | 0) - 1 | 0;
      return caml_call1(search_by, viewport_rect_of_element(nth_element(n$0)));
     }
     function length$0(param){return length;}
     return caml_call6
             (caml_call1(Base_Binary_searchable[1], [0, get, length$0])[1],
              0,
              0,
              0,
              compare,
              mode,
              x);
    }
    var viewport_rect$0 = viewport_rect(0);
    if(layout)
     var target = viewport_rect$0[2], search_by = right;
    else
     var target = viewport_rect$0[1], search_by = bottom;
    var
     first =
       element_search
        (search_by, -839473056, layout, caml_call1(Core_Float[33], target));
    if(layout)
     var target$0 = viewport_rect$0[4], search_by$0 = left;
    else
     var target$0 = viewport_rect$0[3], search_by$0 = top;
    var
     last =
       element_search
        (search_by$0, 200870407, layout, caml_call1(Core_Float[33], target$0));
    return caml_call2(Core_Option[23], first, last);
   }
   function get_scroll_container_js_expr(element){
    var
     doc = element.ownerDocument || document,
     win = doc.defaultView || window,
     re = /(auto|scroll)/;
    if(element === doc) return doc;
    var cur = element.parentNode;
    while(cur.parentNode){
     var style = win.getComputedStyle(cur);
     if(re.test(style.overflow + style.overflowY + style.overflowX))
      return cur;
     cur = cur.parentNode;
    }
    return doc;
   }
   function get_scroll_container(el){return get_scroll_container_js_expr(el);}
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_Js_misc);
   var
    Incr_dom_Js_misc =
      [0,
       [0,
        t_of_sexp,
        sexp_of_t,
        bin_shape_t,
        bin_size_t,
        bin_write_t,
        bin_read_t$0,
        bin_read_t,
        bin_writer_t,
        bin_reader_t,
        bin_t,
        compare,
        right,
        bottom,
        left,
        top,
        map,
        int_height,
        int_width,
        float_height,
        float_width],
       round_float_rect,
       viewport_rect,
       viewport_rect_of_element,
       client_rect,
       client_rect_of_element,
       element_is_in_viewport,
       scroll,
       sexp_of_rows_or_columns,
       rows_or_columns_of_sexp,
       bin_shape_rows_or_columns,
       bin_size_rows_or_columns,
       bin_write_rows_or_columns,
       bin_writer_rows_or_columns,
       bin_read_rows_or_columns$0,
       bin_read_rows_or_columns,
       bin_reader_rows_or_columns,
       bin_rows_or_columns,
       rows,
       columns,
       is_rows,
       is_columns,
       rows_val,
       columns_val,
       Variants_of_rows_or_columns,
       compare_rows_or_columns,
       find_visible_range,
       get_scroll_container];
   runtime.caml_register_global(102, Incr_dom_Js_misc, cst_Incr_dom_Js_misc$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom__Start_app
//# unitInfo: Requires: Async_js, Async_kernel, Async_kernel__Async_kernel_scheduler, Async_kernel__Deferred, Async_kernel__Ivar, CamlinternalLazy, CamlinternalOO, Core, Core__Blang, Core__Comparable, Core__Error, Core__Fn, Core__Hashtbl, Core__List, Core__Memo, Core__Option, Core__Or_error, Core__Queue, Core__Set, Core__Sexp, Core__String, Core__Time_ns, Css_gen, Incr_dom__Component, Incr_dom__Incr, Incr_dom__Js_misc, Javascript_profiling, Js_of_ocaml__Dom, Js_of_ocaml__Dom_html, Js_of_ocaml__Firebug, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Ppx_sexp_conv_lib, Sexplib0__Sexp_conv, Stdio__In_channel, Ui_effect, Ui_incr, Ui_time_source, Vdom_file_download, Virtual_dom__Effect, Virtual_dom__Node, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$3 = '"',
    cst_Incr_dom_Start_app$0 = "Incr_dom__Start_app",
    cst_apply_actions$1 = "apply actions",
    cst_before$1 = "before",
    cst_diff$1 = "diff",
    cst_incr_dom$0 = "incr_dom",
    cst_on_display$1 = "on_display",
    cst_patch$1 = "patch",
    cst_src_start_app_ml = "src/start_app.ml",
    cst_stabilize$5 = "stabilize",
    cst_stabilize_for_action$1 = "stabilize-for-action",
    cst_total$1 = "total",
    cst_update_visibility$1 = "update visibility",
    caml_js_wrap_callback = runtime.caml_js_wrap_callback,
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_string_of_jsstring = runtime.caml_string_of_jsstring;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    undef = undefined,
    global_data = runtime.caml_get_global_data(),
    cst$2 = ": ",
    filename = "current_incr_dom_dot_graph.dot",
    cst$1 = "  ",
    cst = cst$3,
    cst$0 = cst$3,
    Virtual_dom_Node = global_data.Virtual_dom__Node,
    CamlinternalLazy = global_data.CamlinternalLazy,
    Incr_dom_Component = global_data.Incr_dom__Component,
    Incr_dom_Incr = global_data.Incr_dom__Incr,
    Ui_time_source = global_data.Ui_time_source,
    Async_kernel_Deferred = global_data.Async_kernel__Deferred,
    Ui_effect = global_data.Ui_effect,
    Core_Queue = global_data.Core__Queue,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Core_Time_ns = global_data.Core__Time_ns,
    Core_String = global_data.Core__String,
    Core_Option = global_data.Core__Option,
    Js_of_ocaml_Firebug = global_data.Js_of_ocaml__Firebug,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Async_js = global_data.Async_js,
    Core = global_data.Core,
    Core_Blang = global_data.Core__Blang,
    Ppx_sexp_conv_lib = global_data.Ppx_sexp_conv_lib,
    Core_Hashtbl = global_data.Core__Hashtbl,
    Core_Error = global_data.Core__Error,
    Core_Or_error = global_data.Core__Or_error;
   global_data.CamlinternalOO;
   var
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Core_Memo = global_data.Core__Memo,
    Virtual_dom_Effect = global_data.Virtual_dom__Effect,
    Core_Fn = global_data.Core__Fn,
    Incr_dom_Js_misc = global_data.Incr_dom__Js_misc,
    Async_kernel = global_data.Async_kernel,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Css_gen = global_data.Css_gen,
    Core_Set = global_data.Core__Set,
    Ui_incr = global_data.Ui_incr,
    Stdio_In_channel = global_data.Stdio__In_channel,
    Vdom_file_download = global_data.Vdom_file_download,
    Core_Sexp = global_data.Core__Sexp,
    Core_List = global_data.Core__List,
    Async_kernel_Ivar = global_data.Async_kernel__Ivar,
    Async_kernel_Async_kernel_sche =
      global_data.Async_kernel__Async_kernel_scheduler,
    Javascript_profiling = global_data.Javascript_profiling,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Core_Comparable = global_data.Core__Comparable;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom_Start_app$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom$0);
   caml_call1(Ppx_expect_runtime[1][1], cst_src_start_app_ml);
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom$0, "start_app.ml");
   var
    cst_stabilize$1 = cst_stabilize$5,
    cst_stabilize$2 = cst_stabilize$5,
    cst_total = cst_total$1,
    cst_update_visibility = cst_update_visibility$1,
    cst_update_visibility$0 = cst_update_visibility$1,
    cst_apply_actions = cst_apply_actions$1,
    cst_apply_actions$0 = cst_apply_actions$1,
    cst_stabilize$3 = cst_stabilize$5,
    cst_stabilize$4 = cst_stabilize$5,
    cst_diff = cst_diff$1,
    cst_diff$0 = cst_diff$1,
    cst_patch = cst_patch$1,
    cst_patch$0 = cst_patch$1,
    cst_on_display = cst_on_display$1,
    cst_on_display$0 = cst_on_display$1,
    cst_total$0 = cst_total$1,
    cst_stabilize_for_action = cst_stabilize_for_action$1,
    cst_stabilize_for_action$0 = cst_stabilize_for_action$1,
    _k_ = [0, "action"],
    cst_Action = "Action",
    cst_custom_filter = "custom filter",
    cst_named_filter_blang_sexp_st =
      'named filter blang "%{sexp:string Blang.t}"',
    _i_ = [12, 34, 0],
    _j_ = [0, 0],
    cst_named_filter_blang = 'named filter blang "',
    cst_Exception_raised_by_s_Erro = "Exception raised by %s: %{Error#hum}",
    _h_ = [0, 0],
    cst_Exception_raised_by = "Exception raised by ",
    cst_stabilize = cst_stabilize$5,
    cst_stabilize$0 = cst_stabilize$5,
    cst_none = "none",
    cst_all = "all",
    _g_ = [0, [0, cst_src_start_app_ml, 461, 17163, 17204]],
    cst_scroll = "scroll",
    cst_resize = "resize",
    cst_disable_tab_index = "disable_tab_index",
    _e_ =
      [0,
       [11,
        'Available logging filters for "',
        [2, 0, [11, '":\n', [2, 0, 0]]]],
       'Available logging filters for "%s":\n%s'],
    cst_Debugging_prints_timing_in =
      "Debugging prints timing info to the console. It is disabled by default unless otherwise specified by the app.\nTo start debugging, type: startDebugging([app_id])\nTo stop debugging, type: stopDebugging([app_id])\n\n[app_id] is equal to the id of the element that the incr-dom app is bound to. If the page only has one app or you want to apply the action to all apps, you can pass in [null] (or for single-argument functions, omit it altogether).",
    cst_Profiling_is_disabled_by_d =
      "Profiling is disabled by default.\nTo start profiling, type: startProfiling([app_id])\nTo stop profiling, type: stopProfiling([app_id])",
    cst_Logging_prints_action_info =
      "Logging prints action info to the console. It is disabled by default. To start logging, type one of the following:\nstartLoggingAll([app_id]) - log all actions\nstartLogging(filter_name [, app_id]) - filter actions using a pre-defined named filter [filter_name]\nstartLogging(filter_name_blang [, app_id]) - filter actions using a blang of named filters [filter_name_blang]\nstartLoggingCustom(filter [, app_id]) - filter actions using a custom function [filter] from a string (the action sexp) to a bool\nTo stop logging, type: stopLogging([app_id])",
    cst_Action_Logging = "Action Logging",
    cst_Action_Profiling = "Action Profiling",
    cst_Debugging = "Debugging",
    cst_plain_text = "plain/text",
    _d_ =
      [0,
       [11,
        "Unable to find named filter(s): ",
        [2, 0, [11, ". Valid names are:\n", [2, 0, 0]]]],
       "Unable to find named filter(s): %s. Valid names are:\n%s"],
    _c_ =
      [0,
       [11,
        'Unable to find app with id "',
        [2, 0, [11, '". Valid app ids are: ', [2, 0, 0]]]],
       'Unable to find app with id "%s". Valid app ids are: %s'],
    cst_Incr_dom_Bonsai_Console = "Incr_dom / Bonsai Console",
    _b_ = [0, "\n"],
    _a_ = [0, ", "],
    cst_request_ids_already_set = "request_ids already set",
    cst_before$0 = cst_before$1,
    cst_after = "after",
    cst_before = cst_before$1,
    cst_incr_dom = cst_incr_dom$0,
    cst_Incr_dom_Start_app = cst_Incr_dom_Start_app$0;
   function print_errorf(fmt){
    function _a3_(s){
     return Js_of_ocaml_Firebug[1].error(caml_jsstring_of_string(s));
    }
    return caml_call2(Core[254], _a3_, fmt);
   }
   function request_animation_frame(callback){
    var
     current_context = caml_call1(Async_kernel_Async_kernel_sche[1], 0),
     request_ids = [0, 0];
    function callback$0(param){
     var _a1_ = request_ids[1];
     a:
     {
      if(typeof _a1_ === "number" && _a1_){var _a2_ = 1; break a;}
      var _a2_ = 0;
     }
     if(_a2_) return 0;
     var match = request_ids[1];
     if(typeof match === "number"){
      if(! match) request_ids[1] = 1;
     }
     else{
      var set_timeout_id = match[2], animation_frame_id = match[1];
      Js_of_ocaml_Dom_html[8].cancelAnimationFrame(animation_frame_id);
      Js_of_ocaml_Dom_html[8].clearTimeout(set_timeout_id);
      request_ids[1] = 1;
     }
     caml_call2(Async_kernel_Async_kernel_sche[2], current_context, callback);
     return 0;
    }
    var
     animation_callback =
       caml_js_wrap_callback(function(param){return callback$0(0);}),
     animation_frame_id =
       Js_of_ocaml_Dom_html[8].requestAnimationFrame(animation_callback),
     timeout_callback =
       caml_js_wrap_callback(function(param){return callback$0(0);}),
     set_timeout_id =
       Js_of_ocaml_Dom_html[8].setTimeout(timeout_callback, 1000.),
     _a0_ = request_ids[1];
    return typeof _a0_ === "number"
            ? _a0_
              ? (Js_of_ocaml_Dom_html
                  [8].cancelAnimationFrame
                 (animation_frame_id),
                Js_of_ocaml_Dom_html[8].clearTimeout(set_timeout_id))
              : (request_ids[1] = [0, animation_frame_id, set_timeout_id], 0)
            : caml_call1(Core[5], cst_request_ids_already_set);
   }
   function as_focusable(_aZ_){return _aZ_;}
   function mark_dirty(t){return caml_call2(Async_kernel_Ivar[16], t[1], 0);}
   function is_dirty(t){return caml_call1(Async_kernel_Ivar[18], t[1]);}
   function t_of_sexp(x_002){
    return caml_call2(Core_Blang[14], Core[559], x_002);
   }
   function sexp_of_t(x_003){
    return caml_call2(Core_Blang[15], Core[558], x_003);
   }
   function compare(a_004, b_005){
    function _aY_(a_006, b_007){return caml_call2(Core[551], a_006, b_007);}
    return caml_call3(Core_Blang[11], _aY_, a_004, b_005);
   }
   var
    include =
      caml_call1(Core_Comparable[12], [0, compare, t_of_sexp, sexp_of_t]),
    symbol = include[1],
    symbol$0 = include[2],
    symbol$1 = include[3],
    symbol$2 = include[4],
    symbol$3 = include[5],
    symbol$4 = include[6],
    equal = include[7],
    compare$0 = include[8],
    min = include[9],
    max = include[10],
    ascending = include[11],
    descending = include[12],
    between = include[13],
    clamp_exn = include[14],
    clamp = include[15],
    comparator = include[16],
    validate_lbound = include[17],
    validate_ubound = include[18],
    validate_bound = include[19],
    Replace_polymorphic_compare = include[20],
    Map = include[21],
    Set = include[22];
   function set_logging_filter(t, logging_filter){t[2][1] = logging_filter; return 0;
   }
   var
    global = Js_of_ocaml_Js[52][1],
    global_is_initialized = [0, 0],
    app_states = caml_call3(Core_String[164][5], 0, 0, 0);
   function single_line_string_list(strings){
    function _aV_(str){
     var _aX_ = caml_call2(Core[18], str, cst);
     return caml_call2(Core[18], cst$0, _aX_);
    }
    var _aW_ = caml_call2(Core_List[51], strings, _aV_);
    return caml_call2(Core_String[46], _a_, _aW_);
   }
   function multi_line_string_list(strings){
    function _aT_(str){return caml_call2(Core[18], cst$1, str);}
    var _aU_ = caml_call2(Core_List[51], strings, _aT_);
    return caml_call2(Core_String[46], _b_, _aU_);
   }
   function get_tag_name(node){
    var node$0 = node;
    for(;;){
     if(typeof node$0 !== "number")
      switch(node$0[0]){
        case 2:
         var e = node$0[1]; return [0, caml_call1(Virtual_dom_Node[1][1], e)];
        case 4:
         var t = node$0[2], _aS_ = runtime.caml_obj_tag(t);
         a:
         if(250 === _aS_)
          var node$1 = t[1];
         else{
          if(246 !== _aS_ && 244 !== _aS_){var node$1 = t; break a;}
          var node$1 = caml_call1(CamlinternalLazy[2], t);
         }
         var node$0 = node$1;
         continue;
      }
     return 0;
    }
   }
   var
    _f_ = caml_call1(Core_Time_ns[66], 0),
    time_source = caml_call1(Ui_time_source[1], _f_);
   function start_bonsai
   (opt, _s_, _r_, _q_, bind_to_element_with_id, initial_model, App){
    if(opt) var sth = opt[1], debug = sth; else var debug = 0;
    if(_s_)
     var sth$0 = _s_[1], stop = sth$0;
    else
     var stop = caml_call1(Async_kernel_Deferred[19], 0);
    if(_r_)
     var sth$1 = _r_[1], named_logging_filters = sth$1;
    else
     var named_logging_filters = 0;
    if(_q_)
     var sth$2 = _q_[1], simulate_body_focus_on_root_el = sth$2;
    else
     var simulate_body_focus_on_root_el = 1;
    caml_call1(Async_js[3], 0);
    function _t_(param){
     var
      model_v = caml_call2(Incr_dom_Incr[53][2], 0, initial_model),
      model = caml_call1(Incr_dom_Incr[53][4], model_v),
      model_from_last_display_v =
        caml_call2(Incr_dom_Incr[53][2], 0, initial_model),
      model_from_last_display =
        caml_call1(Incr_dom_Incr[53][4], model_from_last_display_v);
     function _y_(old_value, new_value){
      return caml_call2(App[1][1], old_value, new_value);
     }
     var cutoff = caml_call1(Incr_dom_Incr[60][3], _y_);
     caml_call2(Incr_dom_Incr[61], model, cutoff);
     caml_call2(Incr_dom_Incr[61], model_from_last_display, cutoff);
     var action_queue = caml_call2(Core_Queue[66], 0, 0);
     function handle(action){
      return caml_call2(Core_Queue[43], action_queue, action);
     }
     var
      Event = caml_call1(Ui_effect[19], [0, [0], handle]),
      visibility = [0, caml_call1(Async_kernel_Ivar[13], 0)];
     function viewport_changed(param){return mark_dirty(visibility);}
     caml_call1(Virtual_dom_Effect[22], [0, viewport_changed]);
     var
      _z_ = caml_call3(App[9], model, model_from_last_display, Event[1]),
      obs = caml_call2(Incr_dom_Incr[55], 0, _z_);
     function fetch(f, param){
      return caml_call1(f, caml_call1(Incr_dom_Incr[54][6], obs));
     }
     function _A_(param){var on_display = param[4]; return on_display;}
     function _B_(param){
      var update_visibility = param[3];
      return update_visibility;
     }
     function _C_(param){var apply_action = param[2]; return apply_action;}
     function _D_(param){var view = param[1]; return view;}
     function get_view(_aR_){return fetch(_D_, _aR_);}
     caml_call1(Incr_dom_Incr[58], 0);
     caml_call1(App[6], 0);
     var
      _E_ =
        [0, [0, cst_none, caml_call1(Core_Fn[1], 0)], named_logging_filters],
      _F_ = [0, [0, cst_all, caml_call1(Core_Fn[1], 1)], _E_],
      named_logging_filters$0 = caml_call3(Core_String[164][9], 0, 0, _F_),
      _G_ = caml_call1(Core_Hashtbl[67], named_logging_filters$0),
      filter_names = caml_call1(Core_String[160][8], _G_),
      _w_ = multi_line_string_list(caml_call1(Core_Set[39], filter_names)),
      app_init_message =
        caml_call3(Core[265], _e_, bind_to_element_with_id, _w_);
     if(global_is_initialized[1])
      Js_of_ocaml_Firebug[1].log(caml_jsstring_of_string(app_init_message));
     else{
      var
       with_app_id_opt =
         function(update_state, app_id_opt){
          var
           _aP_ = caml_call1(Js_of_ocaml_Js[5][10], app_id_opt),
           app_id_opt$0 =
             caml_call2(Core_Option[34], _aP_, caml_string_of_jsstring);
          if(! app_id_opt$0)
           return caml_call2(Core_Hashtbl[20], app_states, update_state);
          var
           app_id = app_id_opt$0[1],
           match = caml_call2(Core_Hashtbl[56], app_states, app_id);
          if(match){
           var state = match[1];
           return caml_call1(update_state, state);
          }
          var
           _aQ_ =
             single_line_string_list(caml_call1(Core_Hashtbl[67], app_states));
          return caml_call2(print_errorf(_c_), app_id, _aQ_);
         },
       update_logging_filter =
         function(logging_filter){
          function _aM_(_aO_){
           return set_logging_filter(_aO_, logging_filter);
          }
          return function(_aN_){return with_app_id_opt(_aM_, _aN_);};
         },
       update_should_profile =
         function(should_profile){
          function _aK_(t){t[3][1] = should_profile; return 0;}
          return function(_aL_){return with_app_id_opt(_aK_, _aL_);};
         },
       update_should_debug =
         function(should_debug){
          function _aI_(t){t[4][1] = should_debug; return 0;}
          return function(_aJ_){return with_app_id_opt(_aI_, _aJ_);};
         },
       t19 = caml_js_wrap_callback(update_logging_filter(0));
      global.startLoggingAll = t19;
      var
       t21 =
         caml_js_wrap_callback
          (function(blang_str){
            var blang_str$0 = caml_string_of_jsstring(blang_str);
            function _aC_(app_state){
             var
              _aE_ = caml_call1(Core_Sexp[76], blang_str$0),
              blang = caml_call2(Core_Blang[14], Core_String[134], _aE_);
             function _aF_(invalid_names, name){
              return caml_call2(Core_Set[11], app_state[1], name)
                      ? invalid_names
                      : caml_call2(Core_Set[12], invalid_names, name);
             }
             var
              invalid_names =
                caml_call3(Core_Blang[36], blang, Core_String[160][5], _aF_);
             if(caml_call1(Core_Set[10], invalid_names))
              return set_logging_filter(app_state, [0, blang]);
             var
              _aG_ =
                multi_line_string_list(caml_call1(Core_Set[39], app_state[1])),
              _aH_ =
                single_line_string_list
                 (caml_call1(Core_Set[39], invalid_names));
             return caml_call2(print_errorf(_d_), _aH_, _aG_);
            }
            return function(_aD_){return with_app_id_opt(_aC_, _aD_);};
           });
      global.startLogging = t21;
      var
       t23 =
         caml_js_wrap_callback
          (function(filter){
            function filter$0(action_sexp){
             return caml_call1
                     (filter,
                      caml_jsstring_of_string
                       (caml_call1(Core_Sexp[86], action_sexp)))
                    | 0;
            }
            return update_logging_filter([1, filter$0]);
           });
      global.startLoggingCustom = t23;
      var t25 = caml_js_wrap_callback(update_logging_filter(1));
      global.stopLogging = t25;
      var t27 = caml_js_wrap_callback(update_should_profile(1));
      global.startProfiling = t27;
      var t29 = caml_js_wrap_callback(update_should_profile(0));
      global.stopProfiling = t29;
      var t31 = caml_js_wrap_callback(update_should_debug(1));
      global.startDebugging = t31;
      var t33 = caml_js_wrap_callback(update_should_debug(0));
      global.stopDebugging = t33;
      var
       t35 =
         caml_js_wrap_callback
          (function(param){
            caml_call2(Ui_incr[77], 0, filename);
            var
             contents = caml_call1(Stdio_In_channel[25], filename),
             _aB_ =
               caml_call3
                (Vdom_file_download[2], filename, cst_plain_text, contents);
            return caml_call1(Vdom_file_download[3], _aB_);
           });
      global.saveIncrementalGraph = t35;
      var
       group =
         function(s, f){
          Js_of_ocaml_Firebug[1].groupCollapsed(caml_jsstring_of_string(s));
          caml_call1(f, 0);
          Js_of_ocaml_Firebug[1].groupEnd();
          return;
         },
       log =
         function(s){
          return Js_of_ocaml_Firebug[1].log(caml_jsstring_of_string(s));
         };
      group
       (cst_Incr_dom_Bonsai_Console,
        function(param){
         group
          (cst_Action_Logging,
           function(param){return log(cst_Logging_prints_action_info);});
         group
          (cst_Action_Profiling,
           function(param){return log(cst_Profiling_is_disabled_by_d);});
         group
          (cst_Debugging,
           function(param){return log(cst_Debugging_prints_timing_in);});
         return log(app_init_message);
        });
      global_is_initialized[1] = 1;
     }
     var
      logging_filter = [0, 1],
      should_profile = [0, 0],
      should_debug = [0, debug];
     caml_call3
      (Core_Hashtbl[37],
       app_states,
       bind_to_element_with_id,
       [0, filter_names, logging_filter, should_profile, should_debug]);
     function _x_(param){
      return caml_call2(Core_Hashtbl[32], app_states, bind_to_element_with_id);
     }
     caml_call2(Async_kernel[12], stop, _x_);
     function should_debug$0(param){return should_debug[1];}
     function should_profile$0(param){return should_profile[1];}
     var
      html = get_view(0),
      html_dom = caml_call1(Virtual_dom_Node[70], html),
      elem = caml_call1(Js_of_ocaml_Dom_html[4], bind_to_element_with_id),
      _H_ = caml_call1(Js_of_ocaml_Js[5][10], elem.parentNode),
      parent = caml_call4(Core_Option[40], _g_, 0, 0, _H_);
     caml_call3(Js_of_ocaml_Dom[3], parent, html_dom, elem);
     function call_viewport_changed_on_event(event_name, where){
      var _ax_ = Js_of_ocaml_Js[8];
      function _ay_(param){viewport_changed(0); return Js_of_ocaml_Js[7];}
      var
       _az_ = caml_call1(Js_of_ocaml_Dom[10], _ay_),
       _aA_ = caml_call1(Js_of_ocaml_Dom[14][1], event_name);
      caml_call4(Js_of_ocaml_Dom[16], where, _aA_, _az_, _ax_);
      return;
     }
     call_viewport_changed_on_event
      (cst_scroll, caml_call1(Incr_dom_Js_misc[28], html_dom));
     call_viewport_changed_on_event(cst_resize, Js_of_ocaml_Dom_html[8]);
     function _I_(state){
      var prev_html = [0, html], prev_elt = [0, html_dom];
      function refocus_root_element(param){
       var element = prev_elt[1];
       function _at_(element){
        return element.focus({preventScroll: Js_of_ocaml_Js[7]});
       }
       var
        _au_ = caml_call1(Js_of_ocaml_Dom_html[117][1], element),
        _av_ = caml_call1(Js_of_ocaml_Js[5][10], _au_),
        _aw_ = caml_call2(Core_Option[34], _av_, as_focusable);
       return caml_call2(Core_Option[46], _aw_, _at_);
      }
      function timer_start(s){
       var profile = should_profile$0(0), debug = should_debug$0(0);
       if(profile){
        var _as_ = caml_call2(Core[18], s, cst_before);
        caml_call1(Javascript_profiling[4][1], _as_);
       }
       if(! debug) return debug;
       Js_of_ocaml_Firebug[1].time(caml_jsstring_of_string(s));
       return;
      }
      function timer_stop(s){
       var profile = should_profile$0(0), debug = should_debug$0(0);
       if(profile){
        var
         before = caml_call2(Core[18], s, cst_before$0),
         after = caml_call2(Core[18], s, cst_after);
        caml_call1(Javascript_profiling[4][1], after);
        caml_call3(Javascript_profiling[4][2], s, before, after);
       }
       if(! debug) return debug;
       Js_of_ocaml_Firebug[1].timeEnd(caml_jsstring_of_string(s));
       return;
      }
      if(simulate_body_focus_on_root_el){
       var
        _N_ = Js_of_ocaml_Js[7],
        _O_ =
          function(t48){
           var related_target = t48.relatedTarget;
           if(1 - caml_call1(Js_of_ocaml_Js[5][5], related_target))
            refocus_root_element(0);
           return Js_of_ocaml_Js[7];
          },
        _P_ = caml_call1(Js_of_ocaml_Dom_html[10], _O_);
       caml_call4
        (Js_of_ocaml_Dom[16],
         Js_of_ocaml_Dom_html[8],
         Js_of_ocaml_Dom_html[15][35],
         _P_,
         _N_);
      }
      function safe_filter(name, filter, action){
       function _aq_(param){return caml_call1(filter, action);}
       var match = caml_call2(Core_Or_error[37], 0, _aq_);
       if(0 === match[0]){var should_log = match[1]; return should_log;}
       var err = match[1], _ar_ = 0;
       caml_call2
        (print_errorf
          ([0,
            [11,
             cst_Exception_raised_by,
             [2,
              0,
              [11,
               cst$2,
               [24,
                _h_,
                function(param, custom_printf_010){
                 return caml_call1(Core_Error[12], custom_printf_010);
                },
                _ar_]]]],
            cst_Exception_raised_by_s_Erro]),
         name,
         err);
       return 0;
      }
      function _Q_(blang){
       var filter = caml_call1(Core_Hashtbl[57], named_logging_filters$0);
       a:
       {
        if(typeof blang !== "number" && 4 === blang[0]){
         var name = blang[1], _ak_ = caml_call1(filter, name);
         break a;
        }
        var
         _ak_ =
           function(action){
            function _ap_(name){return caml_call2(filter, name, action);}
            return caml_call2(Core_Blang[64], blang, _ap_);
           };
       }
       var
        _al_ =
          [0,
           [11,
            cst_named_filter_blang,
            [24,
             _j_,
             function(param, custom_printf_012){
              var
               _ao_ = caml_call2(Core_Blang[15], Core[558], custom_printf_012);
              return caml_call2(Ppx_sexp_conv_lib[1][13], 0, _ao_);
             },
             _i_]],
           cst_named_filter_blang_sexp_st],
        _am_ = caml_call2(Core[265], _al_, blang);
       return function(_an_){return safe_filter(_am_, _ak_, _an_);};
      }
      var
       _R_ = Set[2],
       _S_ = Set[1],
       _T_ = Map[2],
       _U_ = Map[1],
       named_filter_blang_cache =
         caml_call2
          (Core_Memo[4],
           [0,
            symbol,
            symbol$0,
            symbol$1,
            symbol$2,
            symbol$3,
            symbol$4,
            equal,
            compare$0,
            min,
            max,
            ascending,
            descending,
            between,
            clamp_exn,
            clamp,
            comparator,
            validate_lbound,
            validate_ubound,
            validate_bound,
            Replace_polymorphic_compare,
            [0,
             [0, _U_[2], _U_[3]],
             Map[3],
             Map[4],
             Map[45],
             Map[5],
             Map[6],
             Map[7],
             Map[8],
             Map[9],
             Map[10],
             Map[11],
             Map[12],
             Map[13],
             Map[14],
             Map[15],
             Map[16],
             Map[17],
             Map[18],
             Map[19],
             Map[20],
             Map[21],
             Map[22],
             Map[23],
             Map[24],
             Map[25],
             Map[26],
             Map[27],
             Map[28],
             Map[29],
             Map[30],
             Map[31],
             Map[32],
             Map[33],
             Map[34],
             Map[35],
             Map[36],
             Map[37],
             [0, _T_[2], _T_[3], _T_[4], _T_[5]],
             Map[38],
             Map[39],
             Map[40],
             Map[41],
             Map[42],
             Map[43]],
            [0,
             [0, _S_[2], _S_[3]],
             Set[3],
             Set[4],
             Set[28],
             [0, _R_[2], _R_[3], _R_[4], _R_[5]],
             Set[5],
             Set[6],
             Set[7],
             Set[8],
             Set[9],
             Set[10],
             Set[11],
             Set[12],
             Set[13],
             Set[14],
             Set[15],
             Set[16],
             Set[17],
             Set[18],
             Set[19],
             Set[20],
             Set[21],
             Set[22],
             Set[23],
             Set[24],
             Set[25],
             Set[26]]],
           _Q_);
      function perform_update(param){
       timer_start(cst_stabilize$1);
       var
        date = new Js_of_ocaml_Js[26],
        _aa_ = date.getTime(),
        _ab_ = caml_call1(Core_Time_ns[1][81], _aa_),
        now = caml_call1(Core_Time_ns[76], _ab_);
       caml_call2(Incr_dom_Incr[80][8], Incr_dom_Incr[2], now);
       caml_call1(App[8], now);
       caml_call1(Incr_dom_Incr[58], 0);
       timer_stop(cst_stabilize$2);
       caml_call1(App[6], 0);
       timer_start(cst_total);
       timer_start(cst_update_visibility);
       if(is_dirty(visibility)){
        if(is_dirty(visibility))
         visibility[1] = caml_call1(Async_kernel_Ivar[12], 0);
        var
         _X_ = Ui_effect[21][2],
         _Y_ = caml_call1(Incr_dom_Incr[53][6], model_v),
         new_model = caml_call2(fetch(_B_, 0), _Y_, _X_);
        caml_call2(Incr_dom_Incr[53][3], model_v, new_model);
        timer_start(cst_stabilize);
        caml_call1(Incr_dom_Incr[58], 0);
        timer_stop(cst_stabilize$0);
        caml_call1(App[6], 0);
       }
       timer_stop(cst_update_visibility$0);
       timer_start(cst_apply_actions);
       var
        model$0 = caml_call1(Incr_dom_Incr[53][5], model_v),
        model = model$0;
       for(;;){
        var match$0 = caml_call1(Core_Queue[45], action_queue);
        if(! match$0) break;
        var action = match$0[1], match = logging_filter[1];
        if(typeof match === "number")
         var should_log_action = 0 === match ? 1 : 0;
        else if(0 === match[0])
         var
          blang = match[1],
          should_log_action =
            caml_call2(named_filter_blang_cache, blang, action);
        else
         var
          filter = match[1],
          should_log_action =
            safe_filter
             (cst_custom_filter,
              function(filter){
                return function(action){
                 return caml_call1(filter, caml_call1(App[2][1], action));};
               }
               (filter),
              action);
        if(should_log_action){
         var
          _Z_ = [0, [1, [0, _k_, [0, caml_call1(App[2][1], action), 0]]], 0],
          ___ = [1, [0, caml_call1(Sexplib0_Sexp_conv[7], cst_Action), _Z_]];
         caml_call1(Async_js[7], ___);
        }
        if(caml_call1(App[4], action)){
         caml_call2(Incr_dom_Incr[53][3], model_v, model);
         timer_start(cst_stabilize_for_action);
         caml_call1(Incr_dom_Incr[58], 0);
         timer_stop(cst_stabilize_for_action$0);
         caml_call1(App[6], 0);
        }
        else if(should_debug$0(0))
         Js_of_ocaml_Firebug[1].debug("action applied without stabilizing");
        var
         _$_ = Ui_effect[21][2],
         new_model$0 = caml_call4(fetch(_C_, 0), state, _$_, model, action);
        caml_call1(App[5], action);
        var model = new_model$0;
       }
       caml_call2(Incr_dom_Incr[53][3], model_v, model);
       timer_stop(cst_apply_actions$0);
       timer_start(cst_stabilize$3);
       caml_call1(Incr_dom_Incr[58], 0);
       timer_stop(cst_stabilize$4);
       caml_call1(App[6], 0);
       var html = get_view(0);
       if(simulate_body_focus_on_root_el){
        a:
        {
         if(typeof html !== "number" && 2 === html[0]){
          var
           element = html[1],
           _W_ = caml_call1(Virtual_dom_Node[1][2], element);
          if
           (1
            -
             caml_call2
              (Virtual_dom_Vdom[1][101][1], cst_disable_tab_index, _W_)){
           var
            add_new_attrs =
              function(attrs){
               var
                _ag_ = caml_call1(Virtual_dom_Vdom[1][42], 0),
                _ah_ = caml_call2(Virtual_dom_Vdom[1][12], _ag_, attrs),
                _ai_ = caml_call4(Css_gen[89], 0, 0, 870530776, 0),
                _aj_ = caml_call1(Virtual_dom_Vdom[1][32], _ai_);
               return caml_call2(Virtual_dom_Vdom[1][12], _aj_, _ah_);
              },
            _ac_ =
              [2, caml_call2(Virtual_dom_Node[1][5], element, add_new_attrs)];
           break a;
          }
         }
         var _ac_ = html;
        }
        var html$0 = _ac_;
       }
       else
        var html$0 = html;
       timer_start(cst_diff);
       var patch = caml_call2(Virtual_dom_Node[74][1], prev_html[1], html$0);
       timer_stop(cst_diff$0);
       if(1 - caml_call1(Virtual_dom_Node[74][3], patch))
        mark_dirty(visibility);
       timer_start(cst_patch);
       var elt = caml_call2(Virtual_dom_Node[74][2], patch, prev_elt[1]);
       timer_stop(cst_patch$0);
       timer_start(cst_on_display);
       var _ad_ = Ui_effect[21][2];
       caml_call2(fetch(_A_, 0), state, _ad_);
       timer_stop(cst_on_display$0);
       var _ae_ = caml_call1(Incr_dom_Incr[53][5], model_v);
       caml_call2(Incr_dom_Incr[53][3], model_from_last_display_v, _ae_);
       var
        old_tag_name = get_tag_name(prev_html[1]),
        new_tag_name = get_tag_name(html$0),
        tags_the_same =
          caml_call3
           (Core_Option[18], Core_String[145], old_tag_name, new_tag_name);
       prev_html[1] = html$0;
       prev_elt[1] = elt;
       timer_stop(cst_total$0);
       if(should_debug$0(0)) Js_of_ocaml_Firebug[1].debug("-------");
       var _af_ = 1 - tags_the_same;
       return _af_ ? refocus_root_element(0) : _af_;
      }
      function callback(param){
       return caml_call1(Async_kernel_Deferred[7], stop)
               ? 0
               : (perform_update(0), request_animation_frame(callback));
      }
      perform_update(0);
      var
       t55 = Js_of_ocaml_Dom_html[2],
       match = caml_call1(Js_of_ocaml_Js[5][10], t55.activeElement);
      if(match){
       var el = match[1], _V_ = caml_call1(Js_of_ocaml_Dom_html[117][7], el);
       if(caml_call1(Js_of_ocaml_Js[5][5], _V_)) refocus_root_element(0);
      }
      else
       refocus_root_element(0);
      request_animation_frame(callback);
      return caml_call1(Async_kernel_Deferred[19], 0);
     }
     var _J_ = caml_call1(Incr_dom_Incr[53][5], model_v);
     function _K_(a){
      var _M_ = caml_call1(Event[1], a);
      return caml_call1(Ui_effect[21][2], _M_);
     }
     var _L_ = caml_call2(App[7], _K_, _J_);
     return caml_call2(Async_kernel[23][2], _L_, _I_);
    }
    var
     _u_ = caml_call1(Async_js[5], 0),
     _v_ = caml_call2(Async_kernel[23][2], _u_, _t_);
    return caml_call1(Async_kernel[6], _v_);
   }
   var Private = [0, start_bonsai, time_source];
   function start(opt, _m_, _l_, bind_to_element_with_id, initial_model, App){
    if(opt) var sth = opt[1], debug = sth; else var debug = 0;
    if(_m_)
     var sth$0 = _m_[1], stop = sth$0;
    else
     var stop = caml_call1(Async_kernel_Deferred[19], 0);
    if(_l_)
     var sth$1 = _l_[1], named_logging_filters = sth$1;
    else
     var named_logging_filters = 0;
    var
     Model = App[1],
     Action = App[2],
     State = App[3],
     on_startup = App[4],
     _n_ = App[5];
    function action_requires_stabilization(param){return 1;}
    function on_action_application(param){return 0;}
    function on_stabilize(param){return 0;}
    function advance_clock_to(to){
     caml_call2(Ui_time_source[4], time_source, to);
     return caml_call1(Ui_time_source[12][1], time_source);
    }
    function create(model, old_model, inject){
     function _o_(component){
      var view = caml_call1(Incr_dom_Component[3], component);
      function apply_action(state, schedule_event, model, action){
       function schedule_action(a){
        return caml_call1(schedule_event, caml_call1(inject, a));
       }
       return caml_call4
               (Incr_dom_Component[1],
                component,
                action,
                state,
                schedule_action);
      }
      function update_visibility(model, schedule_event){
       function schedule_action(a){
        return caml_call1(schedule_event, caml_call1(inject, a));
       }
       return caml_call2(Incr_dom_Component[2], component, schedule_action);
      }
      function on_display(state, schedule_event){
       function schedule_action(a){
        return caml_call1(schedule_event, caml_call1(inject, a));
       }
       return caml_call3
               (Incr_dom_Component[5], component, state, schedule_action);
      }
      return [0, view, apply_action, update_visibility, on_display];
     }
     var _p_ = caml_call3(_n_, model, old_model, inject);
     return caml_call2(Incr_dom_Incr[78][4][6], _p_, _o_);
    }
    return start_bonsai
            ([0, debug],
             [0, stop],
             [0, named_logging_filters],
             0,
             bind_to_element_with_id,
             initial_model,
             [0,
              Model,
              Action,
              State,
              action_requires_stabilization,
              on_action_application,
              on_stabilize,
              on_startup,
              advance_clock_to,
              create]);
   }
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom_Start_app);
   var Incr_dom_Start_app = [0, start, Private];
   runtime.caml_register_global
    (146, Incr_dom_Start_app, cst_Incr_dom_Start_app$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Incr_dom
//# unitInfo: Requires: Ppx_bench_lib__Benchmark_accumulator, Ppx_expect_runtime, Ppx_inline_test_lib, Ppx_module_timer_runtime, Virtual_dom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Incr_dom = "Incr_dom",
    cst_incr_dom = "incr_dom";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Ppx_expect_runtime = global_data.Ppx_expect_runtime,
    Ppx_inline_test_lib = global_data.Ppx_inline_test_lib,
    Virtual_dom = global_data.Virtual_dom;
   caml_call1(Ppx_module_timer_runtime[4], cst_Incr_dom);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][1], "src/incr_dom.ml");
   caml_call2(Ppx_inline_test_lib[6], cst_incr_dom, "incr_dom.ml");
   var Top_level_effects = Virtual_dom[1];
   caml_call1(Ppx_inline_test_lib[7], cst_incr_dom);
   caml_call1(Ppx_expect_runtime[1][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Incr_dom);
   var Incr_dom = [0, Top_level_effects];
   runtime.caml_register_global(12, Incr_dom, cst_Incr_dom);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJpbmNyX2RvbS5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsiZXh0cmEiLCJyIiwib25fZGlzcGxheSIsInZpZXciLCJ1cGRhdGVfdmlzaWJpbGl0eSIsImFwcGx5X2FjdGlvbiIsImNyZWF0ZV93aXRoX2V4dHJhIiwibW9kZWwiLCJhcHBseV9hY3Rpb24kMCIsInVwZGF0ZV92aXNpYmlsaXR5JDAiLCJvbl9kaXNwbGF5JDAiLCJjcmVhdGUiLCJlcnJvcl9zb3VyY2VfMDAzIiwiZXJyb3Jfc291cmNlXzAxOSIsImRlc2NyaXB0aW9ucyIsInRfb2Zfc2V4cCIsIm9mX2FfMDAxIiwieF8wMDQiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJ0b3AiLCJzZXhwX29mX3QiLCJvZl9hXzAwNSIsInJpZ2h0XzAxMyIsImJvdHRvbV8wMTEiLCJsZWZ0XzAwOSIsInRvcF8wMDciLCJhcmdfMDE0IiwiYm5kc18wMDYiLCJhcmdfMDEyIiwiYm5kc18wMDYkMCIsImFyZ18wMTAiLCJibmRzXzAwNiQxIiwiYXJnXzAwOCIsImJuZHNfMDA2JDIiLCJncm91cCIsImJpbl9zaGFwZV90IiwiYSIsImJpbl9zaXplX3QiLCJzaXplX29mX2EiLCJ2NCIsInYzIiwidjIiLCJ2MSIsInNpemUiLCJzaXplJDAiLCJzaXplJDEiLCJiaW5fd3JpdGVfdCIsIndyaXRlX2EiLCJidWYiLCJwb3MiLCJwb3MkMCIsInBvcyQxIiwicG9zJDIiLCJiaW5fd3JpdGVyX3QiLCJiaW5fd3JpdGVyX2EiLCJ2IiwiYmluX3JlYWRfdCIsIm9mX2EiLCJwb3NfcmVmIiwidmludCIsImJpbl9yZWFkX3QkMCIsInZfdG9wIiwidl9sZWZ0Iiwidl9ib3R0b20iLCJ2X3JpZ2h0IiwiYmluX3JlYWRlcl90IiwiYmluX3JlYWRlcl9hIiwidnRhZyIsImJpbl90IiwiYmluX2EiLCJjb21wYXJlIiwiY21wX2EiLCJhXzAxNSIsImJfMDE2IiwibiIsIm4kMCIsIm4kMSIsIm1hcCIsInQiLCJmIiwiaW50X2hlaWdodCIsImludF93aWR0aCIsImZsb2F0X2hlaWdodCIsImZsb2F0X3dpZHRoIiwicm91bmRfZmxvYXRfcmVjdCIsIm9wdCIsInN0aCIsInJvdW5kIiwicm93c19vcl9jb2x1bW5zX29mX3NleHAiLCJzZXhwXzAyMCIsInNleHBfb2Zfcm93c19vcl9jb2x1bW5zIiwiZ3JvdXAkMCIsImJpbl9zaGFwZV9yb3dzX29yX2NvbHVtbnMiLCJiaW5fc2l6ZV9yb3dzX29yX2NvbHVtbnMiLCJiaW5fd3JpdGVfcm93c19vcl9jb2x1bW5zIiwiYmluX3dyaXRlcl9yb3dzX29yX2NvbHVtbnMiLCJiaW5fcmVhZF9yb3dzX29yX2NvbHVtbnMiLCJiaW5fcmVhZF9yb3dzX29yX2NvbHVtbnMkMCIsImJpbl9yZWFkZXJfcm93c19vcl9jb2x1bW5zIiwiYmluX3Jvd3Nfb3JfY29sdW1ucyIsInJvd3MiLCJjb2x1bW5zIiwiaXNfcm93cyIsImlzX2NvbHVtbnMiLCJyb3dzX3ZhbCIsImNvbHVtbnNfdmFsIiwicm93cyQwIiwiY29sdW1ucyQwIiwiZm9sZCIsImluaXQiLCJyb3dzX2Z1biIsImNvbHVtbnNfZnVuIiwiaXRlciIsIm1hcCQwIiwibWFrZV9tYXRjaGVyIiwiY29tcGlsZV9hY2MiLCJjb21waWxlX2FjYyQwIiwicm93c19nZW4iLCJjb21waWxlX2FjYyQxIiwiY29sdW1uc19nZW4iLCJ0b19yYW5rIiwidG9fbmFtZSIsImNvbXBhcmVfcm93c19vcl9jb2x1bW5zIiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiZWxlbWVudF9pc19pbl92aWV3cG9ydCIsImVsdCIsInNjcm9sbCIsImlkIiwidmlld3BvcnRfcmVjdF9vZl9lbGVtZW50Iiwidmlld3BvcnRfcmVjdCIsImNsaWVudF9yZWN0X29mX2VsZW1lbnQiLCJib3VuZGluZ19yZWN0IiwiY2xpZW50X3JlY3QiLCJmaW5kX3Zpc2libGVfcmFuZ2UiLCJsZW5ndGgiLCJudGhfZWxlbWVudF9pZCIsImxheW91dCIsImVsZW1lbnRfc2VhcmNoIiwic2VhcmNoX2J5IiwibW9kZSIsIngiLCJudGhfZWxlbWVudCIsImZpcnN0IiwibGFzdCIsImdldCIsImlzX2FzY2VuZGluZyIsImxlbmd0aCQwIiwidmlld3BvcnRfcmVjdCQwIiwidGFyZ2V0IiwidGFyZ2V0JDAiLCJzZWFyY2hfYnkkMCIsImdldF9zY3JvbGxfY29udGFpbmVyX2pzX2V4cHIiLCJnZXRfc2Nyb2xsX2NvbnRhaW5lciIsImVsIiwiZmlsZW5hbWUiLCJwcmludF9lcnJvcmYiLCJmbXQiLCJzIiwicmVxdWVzdF9hbmltYXRpb25fZnJhbWUiLCJjYWxsYmFjayIsImN1cnJlbnRfY29udGV4dCIsInJlcXVlc3RfaWRzIiwiY2FsbGJhY2skMCIsInNldF90aW1lb3V0X2lkIiwiYW5pbWF0aW9uX2ZyYW1lX2lkIiwiYW5pbWF0aW9uX2NhbGxiYWNrIiwidGltZW91dF9jYWxsYmFjayIsImFzX2ZvY3VzYWJsZSIsIm1hcmtfZGlydHkiLCJpc19kaXJ0eSIsInhfMDAyIiwieF8wMDMiLCJhXzAwNCIsImJfMDA1IiwiYV8wMDYiLCJiXzAwNyIsInNldF9sb2dnaW5nX2ZpbHRlciIsImxvZ2dpbmdfZmlsdGVyIiwiZ2xvYmFsX2lzX2luaXRpYWxpemVkIiwiYXBwX3N0YXRlcyIsInNpbmdsZV9saW5lX3N0cmluZ19saXN0Iiwic3RyaW5ncyIsInN0ciIsIm11bHRpX2xpbmVfc3RyaW5nX2xpc3QiLCJnZXRfdGFnX25hbWUiLCJub2RlIiwibm9kZSQwIiwiZSIsIm5vZGUkMSIsInRpbWVfc291cmNlIiwic3RhcnRfYm9uc2FpIiwiYmluZF90b19lbGVtZW50X3dpdGhfaWQiLCJpbml0aWFsX21vZGVsIiwiQXBwIiwiZGVidWciLCJzdGgkMCIsInN0b3AiLCJzdGgkMSIsIm5hbWVkX2xvZ2dpbmdfZmlsdGVycyIsInN0aCQyIiwic2ltdWxhdGVfYm9keV9mb2N1c19vbl9yb290X2VsIiwibW9kZWxfdiIsIm1vZGVsX2Zyb21fbGFzdF9kaXNwbGF5X3YiLCJtb2RlbF9mcm9tX2xhc3RfZGlzcGxheSIsIm9sZF92YWx1ZSIsIm5ld192YWx1ZSIsImN1dG9mZiIsImFjdGlvbl9xdWV1ZSIsImhhbmRsZSIsImFjdGlvbiIsInZpc2liaWxpdHkiLCJ2aWV3cG9ydF9jaGFuZ2VkIiwib2JzIiwiZmV0Y2giLCJnZXRfdmlldyIsIm5hbWVkX2xvZ2dpbmdfZmlsdGVycyQwIiwiZmlsdGVyX25hbWVzIiwiYXBwX2luaXRfbWVzc2FnZSIsIndpdGhfYXBwX2lkX29wdCIsInVwZGF0ZV9zdGF0ZSIsImFwcF9pZF9vcHQiLCJhcHBfaWRfb3B0JDAiLCJhcHBfaWQiLCJzdGF0ZSIsInVwZGF0ZV9sb2dnaW5nX2ZpbHRlciIsInVwZGF0ZV9zaG91bGRfcHJvZmlsZSIsInNob3VsZF9wcm9maWxlIiwidXBkYXRlX3Nob3VsZF9kZWJ1ZyIsInNob3VsZF9kZWJ1ZyIsImJsYW5nX3N0ciIsImJsYW5nX3N0ciQwIiwiYXBwX3N0YXRlIiwiYmxhbmciLCJpbnZhbGlkX25hbWVzIiwibmFtZSIsImZpbHRlciIsImZpbHRlciQwIiwiYWN0aW9uX3NleHAiLCJjb250ZW50cyIsImxvZyIsInNob3VsZF9kZWJ1ZyQwIiwic2hvdWxkX3Byb2ZpbGUkMCIsImh0bWwiLCJodG1sX2RvbSIsInBhcmVudCIsImNhbGxfdmlld3BvcnRfY2hhbmdlZF9vbl9ldmVudCIsImV2ZW50X25hbWUiLCJ3aGVyZSIsInByZXZfaHRtbCIsInByZXZfZWx0IiwicmVmb2N1c19yb290X2VsZW1lbnQiLCJlbGVtZW50IiwidGltZXJfc3RhcnQiLCJwcm9maWxlIiwidGltZXJfc3RvcCIsImJlZm9yZSIsImFmdGVyIiwicmVsYXRlZF90YXJnZXQiLCJzYWZlX2ZpbHRlciIsInNob3VsZF9sb2ciLCJlcnIiLCJjdXN0b21fcHJpbnRmXzAxMCIsImN1c3RvbV9wcmludGZfMDEyIiwibmFtZWRfZmlsdGVyX2JsYW5nX2NhY2hlIiwicGVyZm9ybV91cGRhdGUiLCJkYXRlIiwibm93IiwibmV3X21vZGVsIiwibW9kZWwkMCIsInNob3VsZF9sb2dfYWN0aW9uIiwibmV3X21vZGVsJDAiLCJhZGRfbmV3X2F0dHJzIiwiYXR0cnMiLCJodG1sJDAiLCJwYXRjaCIsIm9sZF90YWdfbmFtZSIsIm5ld190YWdfbmFtZSIsInRhZ3NfdGhlX3NhbWUiLCJzdGFydCIsImFjdGlvbl9yZXF1aXJlc19zdGFiaWxpemF0aW9uIiwib25fYWN0aW9uX2FwcGxpY2F0aW9uIiwib25fc3RhYmlsaXplIiwiYWR2YW5jZV9jbG9ja190byIsInRvIiwib2xkX21vZGVsIiwiaW5qZWN0IiwiY29tcG9uZW50Iiwic2NoZWR1bGVfZXZlbnQiLCJzY2hlZHVsZV9hY3Rpb24iXSwic291cmNlcyI6WyIvVXNlcnMvdHlsYW5tb3Jhbi8ub3BhbS81LjEuMS9saWIvaW5jcl9kb20vaW5jcl9kb21fXy5tbCIsIi9Vc2Vycy90eWxhbm1vcmFuLy5vcGFtLzUuMS4xL2xpYi9pbmNyX2RvbS9jb21wb25lbnQubWwiLCIvVXNlcnMvdHlsYW5tb3Jhbi8ub3BhbS81LjEuMS9saWIvaW5jcl9kb20vYXBwX2ludGYubWwiLCIvVXNlcnMvdHlsYW5tb3Jhbi8ub3BhbS81LjEuMS9saWIvaW5jcl9kb20vanNfbWlzYy5tbCIsIi9Vc2Vycy90eWxhbm1vcmFuLy5vcGFtLzUuMS4xL2xpYi9pbmNyX2RvbS9zdGFydF9hcHAubWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7R0FpQm9COztJQUFBOzs7O0U7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQ2RwQixTQUtJQSxNQUFBQyxHQUFBLE9BQUFBLEtBQUs7WUFETEMsV0FBQUQsR0FBQSxPQUFBQSxLQUFVO1lBRFZFLEtBQUFGLEdBQUEsT0FBQUEsS0FBSTtZQURKRyxrQkFBQUgsR0FBQSxPQUFBQSxLQUFpQjtZQURqQkksYUFBQUosR0FBQSxPQUFBQSxLQUFZO1lBVVpLO0lBQW1CRCxjQUFjRCxtQkFBbUJGLFlBQVlGLE9BQU1PLE9BQU1KO2tDQUVWLE9BRklJLE1BRUM7SUFBdkUsSUFERUMsaUJBQ0YsNEJBRm1CSDtJQUlyQixvQkFDcUUsT0FMR0UsTUFL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QVpNMlAsV0FVTy9ELE9BQ1RpRTtNQUNpRDtNQUV2RCxXQWJJaFMsTUFDQUUsY0FJQUQsbUJBSUFGO0tBSWtFO0tBZGxELFVBQUEsZ0JBRlhLLE9BQU93UixXQUFXQzs7SUFnQjJDO0lBNUJsRSxPQWpUUi9GO2lCQW9TQUk7aUJBQ0FFO2lCQUNBRTs7YUFDRFA7YUFDQUM7Ozs7O2NBWU91RjtjQUNBQztjQUNBQzs7Y0FFQUM7Y0FLQWxSOzs7Ozs7Z0NBM0JOOFE7Ozs7RTs7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RSIsInNvdXJjZXNDb250ZW50IjpbIigqIGdlbmVyYXRlZCBieSBkdW5lICopXG5cbigqKiBAY2Fub25pY2FsIEluY3JfZG9tLkFwcF9pbnRmICopXG5tb2R1bGUgQXBwX2ludGYgPSBJbmNyX2RvbV9fQXBwX2ludGZcblxuKCoqIEBjYW5vbmljYWwgSW5jcl9kb20uQ29tcG9uZW50ICopXG5tb2R1bGUgQ29tcG9uZW50ID0gSW5jcl9kb21fX0NvbXBvbmVudFxuXG4oKiogQGNhbm9uaWNhbCBJbmNyX2RvbS5JbmNyICopXG5tb2R1bGUgSW5jciA9IEluY3JfZG9tX19JbmNyXG5cbigqKiBAY2Fub25pY2FsIEluY3JfZG9tLkpzX21pc2MgKilcbm1vZHVsZSBKc19taXNjID0gSW5jcl9kb21fX0pzX21pc2NcblxuKCoqIEBjYW5vbmljYWwgSW5jcl9kb20uU3RhcnRfYXBwICopXG5tb2R1bGUgU3RhcnRfYXBwID0gSW5jcl9kb21fX1N0YXJ0X2FwcFxuXG5tb2R1bGUgSW5jcl9kb21fXyA9IHN0cnVjdCBlbmRcbltAQGRlcHJlY2F0ZWQgXCJ0aGlzIG1vZHVsZSBpcyBzaGFkb3dlZFwiXVxuIiwib3BlbiBWaXJ0dWFsX2RvbVxub3BlbiBDb3JlXG5cbnR5cGUgKCdhY3Rpb24sICdtb2RlbCwgJ3N0YXRlLCAnZXh0cmEpIHdpdGhfZXh0cmEgPVxuICB7IGFwcGx5X2FjdGlvbiA6ICdhY3Rpb24gLT4gJ3N0YXRlIC0+IHNjaGVkdWxlX2FjdGlvbjooJ2FjdGlvbiAtPiB1bml0KSAtPiAnbW9kZWxcbiAgOyB1cGRhdGVfdmlzaWJpbGl0eSA6IHNjaGVkdWxlX2FjdGlvbjooJ2FjdGlvbiAtPiB1bml0KSAtPiAnbW9kZWxcbiAgOyB2aWV3IDogVmRvbS5Ob2RlLnRcbiAgOyBvbl9kaXNwbGF5IDogJ3N0YXRlIC0+IHNjaGVkdWxlX2FjdGlvbjooJ2FjdGlvbiAtPiB1bml0KSAtPiB1bml0XG4gIDsgZXh0cmEgOiAnZXh0cmFcbiAgfVxuW0BAZGVyaXZpbmcgZmllbGRzIH5nZXR0ZXJzXVxuXG50eXBlICgnYWN0aW9uLCAnc3RhdGUsICdtb2RlbCkgdCA9ICgnYWN0aW9uLCAnc3RhdGUsICdtb2RlbCwgdW5pdCkgd2l0aF9leHRyYVxuXG5sZXQgY3JlYXRlX3dpdGhfZXh0cmEgP2FwcGx5X2FjdGlvbiA/dXBkYXRlX3Zpc2liaWxpdHkgP29uX2Rpc3BsYXkgfmV4dHJhIG1vZGVsIHZpZXcgPVxuICBsZXQgYXBwbHlfYWN0aW9uID1cbiAgICBPcHRpb24udmFsdWUgYXBwbHlfYWN0aW9uIH5kZWZhdWx0OihmdW4gXyBfIH5zY2hlZHVsZV9hY3Rpb246XyAtPiBtb2RlbClcbiAgaW5cbiAgbGV0IHVwZGF0ZV92aXNpYmlsaXR5ID1cbiAgICBPcHRpb24udmFsdWUgdXBkYXRlX3Zpc2liaWxpdHkgfmRlZmF1bHQ6KGZ1biB+c2NoZWR1bGVfYWN0aW9uOl8gLT4gbW9kZWwpXG4gIGluXG4gIGxldCBvbl9kaXNwbGF5ID0gT3B0aW9uLnZhbHVlIG9uX2Rpc3BsYXkgfmRlZmF1bHQ6KGZ1biBfIH5zY2hlZHVsZV9hY3Rpb246XyAtPiAoKSkgaW5cbiAgeyBhcHBseV9hY3Rpb247IHVwZGF0ZV92aXNpYmlsaXR5OyBvbl9kaXNwbGF5OyBleHRyYTsgdmlldyB9XG47O1xuXG5sZXQgY3JlYXRlID0gY3JlYXRlX3dpdGhfZXh0cmEgfmV4dHJhOigpXG4iLCJvcGVuISBDb3JlXG5vcGVuIFZpcnR1YWxfZG9tXG5vcGVuIEFzeW5jX2tlcm5lbFxuXG4oKiogQ29tbW9uIG1vZHVsZSB0eXBlcyAqKVxubW9kdWxlIHR5cGUgTW9kZWwgPSBzaWdcbiAgdHlwZSB0XG5cbiAgKCoqIEEgZnVuY3Rpb24gZm9yIHRlc3Rpbmcgd2hldGhlciB0aGUgbW9kZWwgaGFzIGNoYW5nZWQgZW5vdWdoIHRvIHJlcXVpcmUgcmVmaXJpbmdcbiAgICAgIHRoZSBpbmNyZW1lbnRhbCBncmFwaC5cblxuICAgICAgSXQncyBiZXN0IGlmIHRoZSB2YWx1ZXMgaW4gdGhlIG1vZGVsIHN1cHBvcnQgYSBzZW1hbnRpY2FsbHkgcmVhc29uYWJsZSBjdXRvZmZcbiAgICAgIGZ1bmN0aW9uIHdoaWNoIGxldHMgeW91IGF2b2lkIGluZmluaXRlIHJlY29tcHV0YXRpb24gbG9vcHMgdGhhdCBjYW4gb3RoZXJ3aXNlIGJlXG4gICAgICB0cmlnZ2VyZWQgYnkgdGhlIHZpc2liaWxpdHkgY2hlY2tzLiBGb3IgdGhpcyByZWFzb24sIGl0J3MgdHlwaWNhbGx5IGEgZ29vZCBpZGVhIHRvXG4gICAgICBhdm9pZCBoYXZpbmcgc2ltcGxlIGNsb3N1cmVzIHN0b3JlZCBpbiB0aGUgbW9kZWwuXG5cbiAgICAgIFRoYXQgc2FpZCwgaXQgZG9lcyB3b3JrIGlmIHlvdSBwdXQgcGh5c19lcXVhbCBpbiBmb3IgdGhlIGN1dG9mZi4gKilcbiAgdmFsIGN1dG9mZiA6IHQgLT4gdCAtPiBib29sXG5lbmRcblxubW9kdWxlIHR5cGUgQWN0aW9uID0gc2lnXG4gIHR5cGUgdCBbQEBkZXJpdmluZyBzZXhwX29mXVxuZW5kXG5cbm1vZHVsZSB0eXBlIFN0YXRlID0gc2lnXG4gICgqKiBSZXByZXNlbnRzIHRoZSBpbXBlcmF0aXZlIHN0YXRlIGFzc29jaWF0ZWQgd2l0aCBhbiBhcHBsaWNhdGlvbiwgdHlwaWNhbGx5IHVzZWQgZm9yXG4gICAgICBob3VzaW5nIHRoaW5ncyBsaWtlIGNvbW11bmljYXRpb24gQXN5bmMtUlBDIGNvbm5lY3Rpb25zLiAqKVxuICB0eXBlIHRcbmVuZFxuXG5tb2R1bGUgdHlwZSBTID0gc2lnXG4gIG1vZHVsZSBNb2RlbCA6IE1vZGVsXG4gIG1vZHVsZSBBY3Rpb24gOiBBY3Rpb25cbiAgbW9kdWxlIFN0YXRlIDogU3RhdGVcblxuICAoKiogW29uX3N0YXJ0dXBdIGlzIGNhbGxlZCBvbmNlLCByaWdodCBhZnRlciB0aGUgaW5pdGlhbCBET00gaXMgc2V0IHRvIHRoZSB2aWV3IHRoYXRcbiAgICAgIGNvcnJlc3BvbmRzIHRvIHRoZSBpbml0aWFsIHN0YXRlLiBUaGlzIGlzIHVzZWZ1bCBmb3IgZG9pbmcgdGhpbmdzIGxpa2Ugc3RhcnRpbmcgdXBcbiAgICAgIGFzeW5jIHByb2Nlc3Nlcy4gIE5vdGUgdGhhdCB0aGlzIHBhcnQgb2YgdGhlIGNvbXB1dGF0aW9uIGRvZXMgbm90IHN1cHBvcnQgYW55XG4gICAgICBpbmNyZW1lbnRhbGl0eSwgc2luY2UgaXQncyBvbmx5IHJ1biBvbmNlLiAqKVxuICB2YWwgb25fc3RhcnR1cCA6IHNjaGVkdWxlX2FjdGlvbjooQWN0aW9uLnQgLT4gdW5pdCkgLT4gTW9kZWwudCAtPiBTdGF0ZS50IERlZmVycmVkLnRcblxuICAoKiogW2NyZWF0ZV0gaXMgYSBmdW5jdGlvbiB0aGF0IGluY3JlbWVudGFsbHkgY29uc3RydWN0cyBhIHshQ29tcG9uZW50fS4gTm90ZSB0aGF0IGFcbiAgICAgIFtDb21wb25lbnRdIHN1cHBvcnRzIGZ1bmN0aW9ucyBsaWtlIFthcHBseV9hY3Rpb25dLCB3aGljaCByZXR1cm4gYSBuZXcgW01vZGVsLnRdLFxuICAgICAgd2l0aG91dCB0YWtpbmcgYSBtb2RlbCBhcyBhbiBleHBsaWNpdCBpbnB1dC4gIFRoZSBpbnRlbnQgaXMgZm9yIFthcHBseV9hY3Rpb25dIHRvXG4gICAgICBoYXZlIGFjY2VzcyB0byB0aGUgY3VycmVudCBtb2RlbCB2aWEgaXRzIGNvbnN0cnVjdGlvblxuXG4gICAgICBIZXJlJ3MgYW4gZXhhbXBsZSBvZiBob3cgdGhpcyBtaWdodCBsb29rIGluIHByYWN0aWNlLlxuXG4gICAgICB7W1xuICAgICAgICBtb2R1bGUgTW9kZWwgPSBzdHJ1Y3RcbiAgICAgICAgICB0eXBlIHQgPSB7IGNvdW50ZXIgOiBpbnQgfSBbQEBkZXJpdmluZyBmaWVsZHMsIGNvbXBhcmVdXG5cbiAgICAgICAgICBsZXQgY3V0b2ZmIHQxIHQyID0gY29tcGFyZSB0MSB0MiA9IDBcbiAgICAgICAgZW5kXG5cbiAgICAgICAgbW9kdWxlIFN0YXRlID0gc3RydWN0XG4gICAgICAgICAgdHlwZSB0ID0gdW5pdFxuICAgICAgICBlbmRcblxuICAgICAgICBtb2R1bGUgQWN0aW9uID0gc3RydWN0XG4gICAgICAgICAgdHlwZSB0ID0gSW5jcmVtZW50IFtAQGRlcml2aW5nIHNleHBfb2ZdXG5cbiAgICAgICAgICBsZXQgc2hvdWxkX2xvZyBfID0gZmFsc2VcbiAgICAgICAgZW5kXG5cbiAgICAgICAgbGV0IGluaXRpYWxfbW9kZWwgPSB7IE1vZGVsLmNvdW50ZXIgPSAwIH1cblxuICAgICAgICBsZXQgb25fc3RhcnR1cCB+c2NoZWR1bGVfYWN0aW9ucyBfbW9kZWwgPVxuICAgICAgICAgIGV2ZXJ5IChUaW1lX25zLlNwYW4ub2Zfc2VjIDEuKSAoZnVuICgpIC0+XG4gICAgICAgICAgICBzY2hlZHVsZV9hY3Rpb25zIFsgQWN0aW9uLkluY3JlbWVudCBdKTtcbiAgICAgICAgICBEZWZlcnJlZC51bml0XG4gICAgICAgIDs7XG5cbiAgICAgICAgbGV0IGNyZWF0ZSBtb2RlbCB+b2xkX21vZGVsOl8gfmluamVjdDpfID1cbiAgICAgICAgICBsZXQgb3BlbiBJbmNyLkxldF9zeW50YXggaW5cbiAgICAgICAgICBsZXQlbWFwIGFwcGx5X2FjdGlvbiA9XG4gICAgICAgICAgICBsZXQlbWFwIGNvdW50ZXIgPSBtb2RlbCA+PnwgTW9kZWwuY291bnRlciBpblxuICAgICAgICAgICAgZnVuIChJbmNyZW1lbnQgOiBBY3Rpb24udCkgXyB+c2NoZWR1bGVfYWN0aW9uczpfIC0+XG4gICAgICAgICAgICAgIHsgTW9kZWwuY291bnRlciA9IGNvdW50ZXIgKyAxIH1cbiAgICAgICAgICBhbmQgdmlldyA9XG4gICAgICAgICAgICBsZXQlbWFwIGNvdW50ZXIgPVxuICAgICAgICAgICAgICBsZXQlbWFwIGNvdW50ZXIgPSBtb2RlbCA+PnwgTW9kZWwuY291bnRlciBpblxuICAgICAgICAgICAgICBWZG9tLk5vZGUuZGl2IFtdIFsgVmRvbS5Ob2RlLnRleHQgKEludC50b19zdHJpbmcgY291bnRlcikgXVxuICAgICAgICAgICAgaW5cbiAgICAgICAgICAgIFZkb20uTm9kZS5ib2R5IFtdIFsgY291bnRlciBdXG4gICAgICAgICAgYW5kIG1vZGVsID0gbW9kZWwgaW5cbiAgICAgICAgICAoKiBOb3RlIHRoYXQgd2UgZG9uJ3QgaW5jbHVkZSBbb25fZGlzcGxheV0gb3IgW3VwZGF0ZV92aXNpYmlsaXR5XSwgc2luY2VcbiAgICAgICAgICAgICB0aGVzZSBhcmUgb3B0aW9uYWwgYXJndW1lbnRzICopXG4gICAgICAgICAgQ29tcG9uZW50LmNyZWF0ZSB+YXBwbHlfYWN0aW9uIG1vZGVsIHZpZXdcbiAgICAgICAgOzsgXX1cblxuICAgICAgVGhlIGZ1bGwgY29kZSBmb3IgdGhpcyBleGFtcGxlIGNhbiBiZSBmb3VuZCBpbiBleGFtcGxlcy9jb3VudGVyLlxuICAqKVxuICB2YWwgY3JlYXRlXG4gICAgOiAgTW9kZWwudCBJbmNyLnRcbiAgICAtPiBvbGRfbW9kZWw6TW9kZWwudCBJbmNyLnRcbiAgICAgICAgICgqKiBbb2xkX21vZGVsXSBjb250YWlucyB0aGUgcHJldmlvdXMgdmVyc2lvbiBvZiB0aGUgbW9kZWwgKilcbiAgICAtPiBpbmplY3Q6KEFjdGlvbi50IC0+IHVuaXQgVmRvbS5FZmZlY3QudClcbiAgICAgICAgICgqKiBbaW5qZWN0XSBnaXZlcyB5b3UgdGhlIGFiaWxpdHkgdG8gY3JlYXRlIGV2ZW50IGhhbmRsZXJzIGluIHRoZSB2aXJ0dWFsIERPTS4gSW5cbiAgICAgICAgeW91ciBldmVudCBoYW5kbGVyLCBjYWxsIHRoaXMgZnVuY3Rpb24gb24gdGhlIGFjdGlvbiB5b3Ugd291bGQgbGlrZSB0b1xuICAgICAgICBzY2hlZHVsZS4gVmlydHVhbCBET00gd2lsbCBhdXRvbWF0aWNhbGx5IGRlbGVnYXRlIHRoYXQgYWN0aW9uIGJhY2sgdG8gdGhlXG4gICAgICAgIFtTdGFydF9hcHBdIG1haW4gbG9vcC4gKilcbiAgICAtPiAoQWN0aW9uLnQsIE1vZGVsLnQsIFN0YXRlLnQpIENvbXBvbmVudC50IEluY3IudFxuZW5kXG5cbm1vZHVsZSBQcml2YXRlID0gc3RydWN0XG4gIHR5cGUgKCdzdGF0ZSwgJ21vZGVsLCAnYWN0aW9uKSBzbmFwc2hvdCA9XG4gICAgeyB2aWV3IDogVmRvbS5Ob2RlLnRcbiAgICA7IGFwcGx5X2FjdGlvbiA6XG4gICAgICAgICdzdGF0ZSAtPiBzY2hlZHVsZV9ldmVudDoodW5pdCBVaV9lZmZlY3QudCAtPiB1bml0KSAtPiAnbW9kZWwgLT4gJ2FjdGlvbiAtPiAnbW9kZWxcbiAgICA7IHVwZGF0ZV92aXNpYmlsaXR5IDogJ21vZGVsIC0+IHNjaGVkdWxlX2V2ZW50Oih1bml0IFVpX2VmZmVjdC50IC0+IHVuaXQpIC0+ICdtb2RlbFxuICAgIDsgb25fZGlzcGxheSA6ICdzdGF0ZSAtPiBzY2hlZHVsZV9ldmVudDoodW5pdCBVaV9lZmZlY3QudCAtPiB1bml0KSAtPiB1bml0XG4gICAgfVxuXG4gIG1vZHVsZSB0eXBlIFNfZm9yX2JvbnNhaSA9IHNpZ1xuICAgIG1vZHVsZSBNb2RlbCA6IE1vZGVsXG4gICAgbW9kdWxlIEFjdGlvbiA6IEFjdGlvblxuICAgIG1vZHVsZSBTdGF0ZSA6IFN0YXRlXG5cbiAgICB2YWwgYWN0aW9uX3JlcXVpcmVzX3N0YWJpbGl6YXRpb24gOiBBY3Rpb24udCAtPiBib29sXG4gICAgdmFsIG9uX2FjdGlvbl9hcHBsaWNhdGlvbiA6IEFjdGlvbi50IC0+IHVuaXRcbiAgICB2YWwgb25fc3RhYmlsaXplIDogdW5pdCAtPiB1bml0XG4gICAgdmFsIG9uX3N0YXJ0dXAgOiBzY2hlZHVsZV9hY3Rpb246KEFjdGlvbi50IC0+IHVuaXQpIC0+IE1vZGVsLnQgLT4gU3RhdGUudCBEZWZlcnJlZC50XG4gICAgdmFsIGFkdmFuY2VfY2xvY2tfdG8gOiBUaW1lX25zLnQgLT4gdW5pdFxuXG4gICAgdmFsIGNyZWF0ZVxuICAgICAgOiAgTW9kZWwudCBJbmNyLnRcbiAgICAgIC0+IG9sZF9tb2RlbDpNb2RlbC50IEluY3IudFxuICAgICAgLT4gaW5qZWN0OihBY3Rpb24udCAtPiB1bml0IFZkb20uRWZmZWN0LnQpXG4gICAgICAtPiAoU3RhdGUudCwgTW9kZWwudCwgQWN0aW9uLnQpIHNuYXBzaG90IEluY3IudFxuICBlbmRcbmVuZFxuIiwib3BlbiEgQ29yZVxub3BlbiBKc19vZl9vY2FtbFxuXG5tb2R1bGUgUmVjdCA9IHN0cnVjdFxuICB0eXBlICdhIHQgPVxuICAgIHsgdG9wIDogJ2FcbiAgICA7IGxlZnQgOiAnYVxuICAgIDsgYm90dG9tIDogJ2FcbiAgICA7IHJpZ2h0IDogJ2FcbiAgICB9XG4gIFtAQGRlcml2aW5nIHNleHAsIGJpbl9pbywgY29tcGFyZSwgZmllbGRzIH5nZXR0ZXJzXVxuXG4gIGxldCBtYXAgdCB+ZiA9XG4gICAgeyB0b3AgPSBmIHQudG9wOyBsZWZ0ID0gZiB0LmxlZnQ7IGJvdHRvbSA9IGYgdC5ib3R0b207IHJpZ2h0ID0gZiB0LnJpZ2h0IH1cbiAgOztcblxuICBsZXQgaW50X2hlaWdodCB0ID0gdC5ib3R0b20gLSB0LnRvcFxuICBsZXQgaW50X3dpZHRoIHQgPSB0LnJpZ2h0IC0gdC5sZWZ0XG4gIGxldCBmbG9hdF9oZWlnaHQgdCA9IHQuYm90dG9tIC0uIHQudG9wXG4gIGxldCBmbG9hdF93aWR0aCB0ID0gdC5yaWdodCAtLiB0LmxlZnRcbmVuZFxuXG5sZXQgcm91bmRfZmxvYXRfcmVjdCA/KHJvdW5kID0gRmxvYXQuaXJvdW5kX25lYXJlc3RfZXhuKSA9IFJlY3QubWFwIH5mOnJvdW5kXG5cbnR5cGUgcm93c19vcl9jb2x1bW5zID1cbiAgfCBSb3dzXG4gIHwgQ29sdW1uc1xuW0BAZGVyaXZpbmcgc2V4cCwgYmluX2lvLCB2YXJpYW50cywgY29tcGFyZV1cblxubGV0IGlubmVySGVpZ2h0ICgpID0gRG9tX2h0bWwud2luZG93IyMuaW5uZXJIZWlnaHRcbmxldCBpbm5lcldpZHRoICgpID0gRG9tX2h0bWwud2luZG93IyMuaW5uZXJXaWR0aFxuXG5sZXQgZWxlbWVudF9pc19pbl92aWV3cG9ydCAoZWx0IDogRG9tX2h0bWwuZWxlbWVudCBKcy50KSA9XG4gIGxldCByZWN0ID0gZWx0IyNnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5cbiAgRmxvYXQuKCA+PSApIHJlY3QjIy50b3AgMC5cbiAgJiYgRmxvYXQuKCA+PSApIHJlY3QjIy5sZWZ0IDAuXG4gICYmIEZsb2F0LiggPD0gKSByZWN0IyMuYm90dG9tIChGbG9hdC5vZl9pbnQgKGlubmVySGVpZ2h0ICgpKSlcbiAgJiYgRmxvYXQuKCA8PSApIHJlY3QjIy5yaWdodCAoRmxvYXQub2ZfaW50IChpbm5lcldpZHRoICgpKSlcbjs7XG5cbigqKiBTY3JvbGxzIHRvIHRoZSBpdGVtIG1hcmtlZCBhcyBcImtlZXAtaW4tdmlld1wiICopXG5sZXQgc2Nyb2xsID8oaWQgPSBcImtlZXAtaW4tdmlld1wiKSAoKSA9XG4gIG1hdGNoIERvbV9odG1sLmdldEVsZW1lbnRCeUlkX29wdCBpZCB3aXRoXG4gIHwgTm9uZSAtPiAoKVxuICB8IFNvbWUgZWx0IC0+IGlmIG5vdCAoZWxlbWVudF9pc19pbl92aWV3cG9ydCBlbHQpIHRoZW4gZWx0IyNzY3JvbGxJbnRvVmlldyBKcy5fdHJ1ZVxuOztcblxuKCogTm90IHlldCBzdXBwb3J0ZWQgb24gQ2hyb21lLiAgTWF5YmUgd2Ugc2hvdWxkIHVzZSBqUXVlcnk/XG4gICB7W1xuICAgICBsZXQgc2Nyb2xsX2ludG9fdmlldyAoZWx0IDogRG9tX2h0bWwuZWxlbWVudCBKcy50KSA6IHVuaXQgPVxuICAgICAgIGVsdCMjc2Nyb2xsSW50b1ZpZXcgKG9iamVjdCVqc1xuICAgICAgICAgdmFsIGJsb2NrID0gSnMuc3RyaW5nIFwic3RhcnRcIlxuICAgICAgICAgdmFsIGJlaGF2aW9yID0gSnMuc3RyaW5nIFwic21vb3RoXCJcbiAgICAgICBlbmQpXG4gICBdfVxuKilcbigqIFt2aWV3cG9ydF9yZWN0X29mX2VsZW1lbnQgZWxdIGdldHMgYm91bmRpbmcgcmVjdCBvZiBbZWx0XS4gVGhlIGJvdW5kaW5nIHJlY3QgaXNcbiAgIHJlbGF0aXZlIHRvIHRoZSB2aWV3IHBvcnQgKilcbmxldCB2aWV3cG9ydF9yZWN0X29mX2VsZW1lbnQgKGVsdCA6IERvbV9odG1sLmVsZW1lbnQgSnMudCkgOiBmbG9hdCBSZWN0LnQgPVxuICBsZXQgcmVjdCA9IGVsdCMjZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluXG4gIHsgUmVjdC50b3AgPSByZWN0IyMudG9wXG4gIDsgbGVmdCA9IHJlY3QjIy5sZWZ0XG4gIDsgYm90dG9tID0gcmVjdCMjLmJvdHRvbVxuICA7IHJpZ2h0ID0gcmVjdCMjLnJpZ2h0XG4gIH1cbjs7XG5cbmxldCB2aWV3cG9ydF9yZWN0ICgpID1cbiAgeyBSZWN0LnRvcCA9IDA7IGxlZnQgPSAwOyBib3R0b20gPSBpbm5lckhlaWdodCAoKTsgcmlnaHQgPSBpbm5lcldpZHRoICgpIH1cbjs7XG5cbmxldCBjbGllbnRfcmVjdF9vZl9lbGVtZW50IChlbHQgOiBEb21faHRtbC5lbGVtZW50IEpzLnQpIDogZmxvYXQgUmVjdC50ID1cbiAgbGV0IGJvdW5kaW5nX3JlY3QgPSB2aWV3cG9ydF9yZWN0X29mX2VsZW1lbnQgZWx0IGluXG4gIHsgYm91bmRpbmdfcmVjdCB3aXRoXG4gICAgYm90dG9tID0gYm91bmRpbmdfcmVjdC50b3AgKy4gRmxvYXQub2ZfaW50IGVsdCMjLmNsaWVudEhlaWdodFxuICA7IHJpZ2h0ID0gYm91bmRpbmdfcmVjdC5sZWZ0ICsuIEZsb2F0Lm9mX2ludCBlbHQjIy5jbGllbnRXaWR0aFxuICB9XG47O1xuXG5sZXQgY2xpZW50X3JlY3QgKCkgPVxuICB7IFJlY3QudG9wID0gMFxuICA7IGxlZnQgPSAwXG4gIDsgYm90dG9tID0gRG9tX2h0bWwuZG9jdW1lbnQjIy5kb2N1bWVudEVsZW1lbnQjIy5jbGllbnRIZWlnaHRcbiAgOyByaWdodCA9IERvbV9odG1sLmRvY3VtZW50IyMuZG9jdW1lbnRFbGVtZW50IyMuY2xpZW50V2lkdGhcbiAgfVxuOztcblxuKCoqIFNpbXBsZSB3cmFwcGVyIGZvciB0aGUgYmluYXJ5LXNlYXJjaCBmdW5jdG9yICAgKilcbmxldCBiaW5hcnlfc2VhcmNoICh0eXBlIGVsdCkgfmxlbmd0aCB+Z2V0IH5jb21wYXJlIG1vZGUgeCA9XG4gIGxldCBtb2R1bGUgQnMgPVxuICAgIEJpbmFyeV9zZWFyY2hhYmxlLk1ha2UgKHN0cnVjdFxuICAgICAgdHlwZSBub25yZWMgZWx0ID0gZWx0XG4gICAgICB0eXBlIG5vbnJlYyB0ID0gdW5pdFxuXG4gICAgICBsZXQgZ2V0ICgpIG4gPSBnZXQgblxuICAgICAgbGV0IGxlbmd0aCAoKSA9IGxlbmd0aFxuICAgIGVuZClcbiAgaW5cbiAgQnMuYmluYXJ5X3NlYXJjaCAoKSB+Y29tcGFyZSBtb2RlIHhcbjs7XG5cbigqKiBTZWFyY2hlcyB0aHJvdWdoIGVsZW1lbnRzIGluZGV4ZWQgZnJvbSBbMF0gdG8gW2xlbmd0aCAtIDFdLiAqKVxubGV0IGVsZW1lbnRfc2VhcmNoIH5sZW5ndGggfm50aF9lbGVtZW50X2lkIH5zZWFyY2hfYnkgbW9kZSBsYXlvdXQgeCA9XG4gIGxldCBnZXQgPVxuICAgIGxldCBudGhfZWxlbWVudCBuID1cbiAgICAgIGxldCBpZCA9IG50aF9lbGVtZW50X2lkIG4gaW5cbiAgICAgIG1hdGNoIERvbV9odG1sLmdldEVsZW1lbnRCeUlkX29wdCBpZCB3aXRoXG4gICAgICB8IE5vbmUgLT4gZmFpbHdpdGhmIFwiRWxlbWVudCAlcyBub3QgZm91bmRcIiBpZCAoKVxuICAgICAgfCBTb21lIGVsdCAtPiBlbHRcbiAgICBpblxuICAgIGxldCBmaXJzdCA9IHZpZXdwb3J0X3JlY3Rfb2ZfZWxlbWVudCAobnRoX2VsZW1lbnQgMCkgaW5cbiAgICBsZXQgbGFzdCA9IHZpZXdwb3J0X3JlY3Rfb2ZfZWxlbWVudCAobnRoX2VsZW1lbnQgKGxlbmd0aCAtIDEpKSBpblxuICAgICgqIENvbXB1dGUgdGhlIG4ndGggZWxlbWVudCBpbiBhIG5vcm1hbGl6ZWQgd2F5LCBhcyBpZiB0aGUgaW5kZXhpbmcgYWx3YXlzIGdvZXMgaW5cbiAgICAgICBpbmNyZWFzaW5nIG9yZGVyIGZyb20gdG9wIHRvcCBib3R0b20gKilcbiAgICBsZXQgbnRoX2VsZW1lbnRfbm9ybWFsaXplZCBuID1cbiAgICAgIGxldCBpc19hc2NlbmRpbmcgPVxuICAgICAgICBtYXRjaCBsYXlvdXQgd2l0aFxuICAgICAgICB8IFJvd3MgLT4gRmxvYXQuKCA8PSApIGZpcnN0LnRvcCBsYXN0LnRvcFxuICAgICAgICB8IENvbHVtbnMgLT4gRmxvYXQuKCA8PSApIGZpcnN0LmxlZnQgbGFzdC5sZWZ0XG4gICAgICBpblxuICAgICAgbnRoX2VsZW1lbnQgKGlmIGlzX2FzY2VuZGluZyB0aGVuIG4gZWxzZSBsZW5ndGggLSBuIC0gMSlcbiAgICBpblxuICAgIGZ1biBuIC0+IHNlYXJjaF9ieSAodmlld3BvcnRfcmVjdF9vZl9lbGVtZW50IChudGhfZWxlbWVudF9ub3JtYWxpemVkIG4pKVxuICBpblxuICBiaW5hcnlfc2VhcmNoIH5sZW5ndGggfmdldCB+Y29tcGFyZTpGbG9hdC5jb21wYXJlIG1vZGUgeFxuOztcblxubGV0IGZpbmRfdmlzaWJsZV9yYW5nZSB+bGVuZ3RoIH5udGhfZWxlbWVudF9pZCBsYXlvdXQgPVxuICBpZiBsZW5ndGggPSAwXG4gIHRoZW4gTm9uZVxuICBlbHNlIChcbiAgICBsZXQgZWxlbWVudF9zZWFyY2ggPSBlbGVtZW50X3NlYXJjaCB+bGVuZ3RoIH5udGhfZWxlbWVudF9pZCBpblxuICAgIGxldCB2aWV3cG9ydF9yZWN0ID0gdmlld3BvcnRfcmVjdCAoKSBpblxuICAgIGxldCBmaXJzdCA9XG4gICAgICBsZXQgc2VhcmNoX2J5LCB0YXJnZXQgPVxuICAgICAgICBtYXRjaCBsYXlvdXQgd2l0aFxuICAgICAgICB8IFJvd3MgLT4gUmVjdC5ib3R0b20sIHZpZXdwb3J0X3JlY3QudG9wXG4gICAgICAgIHwgQ29sdW1ucyAtPiBSZWN0LnJpZ2h0LCB2aWV3cG9ydF9yZWN0LmxlZnRcbiAgICAgIGluXG4gICAgICBlbGVtZW50X3NlYXJjaCB+c2VhcmNoX2J5IGBGaXJzdF9zdHJpY3RseV9ncmVhdGVyX3RoYW4gbGF5b3V0IChGbG9hdC5vZl9pbnQgdGFyZ2V0KVxuICAgIGluXG4gICAgbGV0IGxhc3QgPVxuICAgICAgbGV0IHNlYXJjaF9ieSwgdGFyZ2V0ID1cbiAgICAgICAgbWF0Y2ggbGF5b3V0IHdpdGhcbiAgICAgICAgfCBSb3dzIC0+IFJlY3QudG9wLCB2aWV3cG9ydF9yZWN0LmJvdHRvbVxuICAgICAgICB8IENvbHVtbnMgLT4gUmVjdC5sZWZ0LCB2aWV3cG9ydF9yZWN0LnJpZ2h0XG4gICAgICBpblxuICAgICAgZWxlbWVudF9zZWFyY2ggfnNlYXJjaF9ieSBgTGFzdF9zdHJpY3RseV9sZXNzX3RoYW4gbGF5b3V0IChGbG9hdC5vZl9pbnQgdGFyZ2V0KVxuICAgIGluXG4gICAgKCogQm90aCBbZmlyc3RdIGFuZCBbbGFzdF0gbmVlZCB0byBiZSBbU29tZV0uIE90aGVyd2lzZSwgZm9yIGV4YW1wbGUgaWYgdGhlIHdob2xlXG4gICAgICAgdGFibGUgaXMgYmVsb3cgdmlldyBwb3J0LCB0aGVuIFtmaXJzdF0gd2lsbCBiZSBbU29tZV0sIFtsYXN0XSB3aWxsIGJlIFtOb25lXSAqKVxuICAgIE9wdGlvbi5ib3RoIGZpcnN0IGxhc3QpXG47O1xuXG5sZXQgZ2V0X3Njcm9sbF9jb250YWluZXJfanNfZXhwciA9XG4gIEpzLlVuc2FmZS5wdXJlX2pzX2V4cHJcbiAgICB7anN8XG4gICAgICAoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcbiAgICAgICAgdmFyIHdpbiA9IGRvYy5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gICAgICAgIHZhciByZSA9IC8oYXV0b3xzY3JvbGwpLztcblxuICAgICAgICBpZiAoZWxlbWVudCA9PT0gZG9jKSB7XG4gICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXIgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgICAgICAgd2hpbGUgKGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgdmFyIHN0eWxlID0gd2luLmdldENvbXB1dGVkU3R5bGUoY3VyKTtcblxuICAgICAgICAgIGlmIChyZS50ZXN0KHN0eWxlLm92ZXJmbG93ICsgc3R5bGUub3ZlcmZsb3dZICsgc3R5bGUub3ZlcmZsb3dYKSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjdXIgPSBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkb2M7XG4gICAgICB9KVxuICAgIHxqc31cbjs7XG5cbmxldCBnZXRfc2Nyb2xsX2NvbnRhaW5lciAoZWwgOiAjRG9tLm5vZGUgSnMudCkgOiBEb20ubm9kZSBKcy50ID1cbiAgSnMuVW5zYWZlLmZ1bl9jYWxsIGdldF9zY3JvbGxfY29udGFpbmVyX2pzX2V4cHIgW3wgSnMuVW5zYWZlLmluamVjdCBlbCB8XVxuOztcbiIsIm9wZW4hIENvcmVcbm9wZW4gVmlydHVhbF9kb21cbm9wZW4gQXN5bmNfa2VybmVsXG5vcGVuIEpzX29mX29jYW1sXG5tb2R1bGUgUGVyZm9ybWFuY2UgPSBKYXZhc2NyaXB0X3Byb2ZpbGluZ1xuXG5sZXQgdGltZXJfc3RhcnQgcyB+ZGVidWcgfnByb2ZpbGUgPVxuICBpZiBwcm9maWxlIHRoZW4gUGVyZm9ybWFuY2UuTWFudWFsLm1hcmsgKHMgXiBcImJlZm9yZVwiKTtcbiAgaWYgZGVidWcgdGhlbiBGaXJlYnVnLmNvbnNvbGUjI3RpbWUgKEpzLnN0cmluZyBzKVxuOztcblxubGV0IHRpbWVyX3N0b3AgcyB+ZGVidWcgfnByb2ZpbGUgPVxuICBpZiBwcm9maWxlXG4gIHRoZW4gKFxuICAgIGxldCBiZWZvcmUgPSBzIF4gXCJiZWZvcmVcIiBpblxuICAgIGxldCBhZnRlciA9IHMgXiBcImFmdGVyXCIgaW5cbiAgICBQZXJmb3JtYW5jZS5NYW51YWwubWFyayBhZnRlcjtcbiAgICBQZXJmb3JtYW5jZS5NYW51YWwubWVhc3VyZSB+bmFtZTpzIH5zdGFydDpiZWZvcmUgfmVuZF86YWZ0ZXIpO1xuICBpZiBkZWJ1ZyB0aGVuIEZpcmVidWcuY29uc29sZSMjdGltZUVuZCAoSnMuc3RyaW5nIHMpXG47O1xuXG5sZXQgcHJpbnRfZXJyb3JmIGZtdCA9IGtzcHJpbnRmIChmdW4gcyAtPiBGaXJlYnVnLmNvbnNvbGUjI2Vycm9yIChKcy5zdHJpbmcgcykpIGZtdFxuXG5tb2R1bGUgUmVxdWVzdF9pZHMgOiBzaWdcbiAgdHlwZSB0XG5cbiAgdmFsIGNyZWF0ZSA6IHVuaXQgLT4gdFxuXG4gIHZhbCBzZXRfb25jZV9leG5cbiAgICA6ICB0XG4gICAgLT4gYW5pbWF0aW9uX2ZyYW1lX2lkOkRvbV9odG1sLmFuaW1hdGlvbl9mcmFtZV9yZXF1ZXN0X2lkXG4gICAgLT4gc2V0X3RpbWVvdXRfaWQ6RG9tX2h0bWwudGltZW91dF9pZFxuICAgIC0+IHVuaXRcblxuICB2YWwgY2FuY2VsbGVkIDogdCAtPiBib29sXG4gIHZhbCBjYW5jZWwgOiB0IC0+IHVuaXRcbmVuZCA9IHN0cnVjdFxuICB0eXBlIGlkcyA9XG4gICAgfCBFbXB0eVxuICAgIHwgQ2FuY2VsbGVkXG4gICAgfCBJZHMgb2ZcbiAgICAgICAgeyBhbmltYXRpb25fZnJhbWVfaWQgOiBEb21faHRtbC5hbmltYXRpb25fZnJhbWVfcmVxdWVzdF9pZFxuICAgICAgICA7IHNldF90aW1lb3V0X2lkIDogRG9tX2h0bWwudGltZW91dF9pZFxuICAgICAgICB9XG5cbiAgdHlwZSB0ID0gaWRzIHJlZlxuXG4gIGxldCBjcmVhdGUgKCkgOiB0ID0gcmVmIEVtcHR5XG5cbiAgbGV0IHNldF9vbmNlX2V4biAodCA6IHQpIH5hbmltYXRpb25fZnJhbWVfaWQgfnNldF90aW1lb3V0X2lkID1cbiAgICBtYXRjaCAhdCB3aXRoXG4gICAgfCBDYW5jZWxsZWQgLT5cbiAgICAgICgqIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4sIGJ1dCBsZXQncyBiZSBkZWZlbnNpdmUuICopXG4gICAgICBEb21faHRtbC53aW5kb3cjI2NhbmNlbEFuaW1hdGlvbkZyYW1lIGFuaW1hdGlvbl9mcmFtZV9pZDtcbiAgICAgIERvbV9odG1sLndpbmRvdyMjY2xlYXJUaW1lb3V0IHNldF90aW1lb3V0X2lkXG4gICAgfCBFbXB0eSAtPiB0IDo9IElkcyB7IGFuaW1hdGlvbl9mcmFtZV9pZDsgc2V0X3RpbWVvdXRfaWQgfVxuICAgIHwgSWRzIF8gLT4gaW52YWxpZF9hcmcgXCJyZXF1ZXN0X2lkcyBhbHJlYWR5IHNldFwiXG4gIDs7XG5cbiAgbGV0IGNhbmNlbGxlZCB4ID1cbiAgICBtYXRjaCAheCB3aXRoXG4gICAgfCBDYW5jZWxsZWQgLT4gdHJ1ZVxuICAgIHwgRW1wdHkgfCBJZHMgXyAtPiBmYWxzZVxuICA7O1xuXG4gIGxldCBjYW5jZWwgKHQgOiB0KSA9XG4gICAgbWF0Y2ggIXQgd2l0aFxuICAgIHwgQ2FuY2VsbGVkIC0+ICgpXG4gICAgfCBFbXB0eSAtPiB0IDo9IENhbmNlbGxlZFxuICAgIHwgSWRzIHsgYW5pbWF0aW9uX2ZyYW1lX2lkOyBzZXRfdGltZW91dF9pZCB9IC0+XG4gICAgICBEb21faHRtbC53aW5kb3cjI2NhbmNlbEFuaW1hdGlvbkZyYW1lIGFuaW1hdGlvbl9mcmFtZV9pZDtcbiAgICAgIERvbV9odG1sLndpbmRvdyMjY2xlYXJUaW1lb3V0IHNldF90aW1lb3V0X2lkO1xuICAgICAgdCA6PSBDYW5jZWxsZWRcbiAgOztcbmVuZFxuXG4oKiogW3JlcXVlc3RfYW5pbWF0aW9uX2ZyYW1lXSBub3RpZmllcyB0aGUgYnJvd3NlciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGRvIHNvbWVcbiAgICBjb21wdXRhdGlvbiBiZWZvcmUgdGhlIG5leHQgcmVwYWludC4gQmVjYXVzZSB0aGlzIG5lZWRzIHRvIG9jY3VyIGluIHRoZSBzYW1lXG4gICAgc3luY2hyb25vdXMgY2FsbCAoY2FsbGVkIGJlZm9yZSB0aGUgbmV4dCByZXBhaW50KSwgcmV0dXJuaW5nIGEgRGVmZXJyZWQudCB3aWxsIG5vdFxuICAgIHdvcmsuIEluc3RlYWQsIHlvdSBwYXNzIGluIGEgam9iIHRvIGJlIHJ1biBiZWZvcmUgdGhlIHJlcGFpbnQuXG5cbiAgICBOb3RlIHRoYXQgaWYgW2NhbGxiYWNrXSBjb250YWlucyBhbnkgYXN5bmNocm9ub3VzIHdvcmsgYmVmb3JlIGRvaW5nIERPTSBjaGFuZ2VzLCB0aG9zZVxuICAgIGNoYW5nZXMgd2lsbCBub3QgYmUgaW5jbHVkZWQgaW4gdGhlIHJlcGFpbnQgYW5kIHdpbGwgYmUgc2F2ZWQgdW50aWwgdGhlIGZvbGxvd2luZyBvbmUuXG5cbiAgICBXaGVuIHRoZSB0YWIgaXMgaW4gdGhlIGJhY2tncm91bmQsIHRoZSBicm93c2VycyBuYXRpdmUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZ1bmN0aW9uXG4gICAgd2lsbCBuZXZlciBjYWxsIHRoZSBjYWxsYmFjaywgc28gaW4gb3JkZXIgdG8gY29udGludWUgcHJvY2Vzc2luZyBldmVudHMsIHdlIHNldCBhblxuICAgIGFsdGVybmF0ZSBzZXRUaW1lb3V0IGF0IDEgc2Vjb25kLlxuKilcbmxldCByZXF1ZXN0X2FuaW1hdGlvbl9mcmFtZSBjYWxsYmFjayA9XG4gICgqIFdlIGNhcHR1cmUgdGhlIGN1cnJlbnQgY29udGV4dCB0byB1c2UgaXQgbGF0ZXIgd2hlbiBoYW5kbGluZyBjYWxsYmFja3MgZnJvbVxuICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIHNpbmNlIGV4Y2VwdGlvbnMgcmFpc2VkIHRvIHRoYXQgd291bGQgb3RoZXJ3aXNlIG5vdCBnbyB0aHJvdWdoXG4gICAgIG91ciBvcmRpbmFyeSBBc3luYyBtb25pdG9yLiAqKVxuICBsZXQgY3VycmVudF9jb250ZXh0ID0gQXN5bmNfa2VybmVsX3NjaGVkdWxlci5jdXJyZW50X2V4ZWN1dGlvbl9jb250ZXh0ICgpIGluXG4gIGxldCByZXF1ZXN0X2lkcyA9IFJlcXVlc3RfaWRzLmNyZWF0ZSAoKSBpblxuICBsZXQgY2FsbGJhY2sgKCkgPVxuICAgIGlmIFJlcXVlc3RfaWRzLmNhbmNlbGxlZCByZXF1ZXN0X2lkc1xuICAgIHRoZW4gKClcbiAgICBlbHNlIChcbiAgICAgIFJlcXVlc3RfaWRzLmNhbmNlbCByZXF1ZXN0X2lkcztcbiAgICAgIGxldCBjYWxsYmFja19yZXN1bHQgPVxuICAgICAgICBBc3luY19rZXJuZWxfc2NoZWR1bGVyLndpdGhpbl9jb250ZXh0IGN1cnJlbnRfY29udGV4dCBjYWxsYmFja1xuICAgICAgaW5cbiAgICAgIGlnbm9yZSAoY2FsbGJhY2tfcmVzdWx0IDogKHVuaXQsIHVuaXQpIFJlc3VsdC50KSlcbiAgaW5cbiAgbGV0IGFuaW1hdGlvbl9mcmFtZV9pZCA9XG4gICAgbGV0IGFuaW1hdGlvbl9jYWxsYmFjayA9IEpzLndyYXBfY2FsbGJhY2sgKGZ1biBfIC0+IGNhbGxiYWNrICgpKSBpblxuICAgIERvbV9odG1sLndpbmRvdyMjcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGFuaW1hdGlvbl9jYWxsYmFja1xuICBpblxuICBsZXQgc2V0X3RpbWVvdXRfaWQgPVxuICAgIGxldCB0aW1lb3V0X2NhbGxiYWNrID0gSnMud3JhcF9jYWxsYmFjayAoZnVuIF8gLT4gY2FsbGJhY2sgKCkpIGluXG4gICAgKCogMTAwMCBtcyA9IDFzOyAgQ2hvc2VuIGJlY2F1c2UgYmFja2dyb3VuZGVkIHRhbmdsZSBzZW5kcyByZXF1ZXN0c1xuICAgICAgIGF0IGFwcHJveGltYXRlbHkgdGhpcyByYXRlLiAqKVxuICAgIGxldCB0aW1lb3V0ID0gMTAwMC4wIGluXG4gICAgRG9tX2h0bWwud2luZG93IyNzZXRUaW1lb3V0IHRpbWVvdXRfY2FsbGJhY2sgdGltZW91dFxuICBpblxuICBSZXF1ZXN0X2lkcy5zZXRfb25jZV9leG4gcmVxdWVzdF9pZHMgfmFuaW1hdGlvbl9mcmFtZV9pZCB+c2V0X3RpbWVvdXRfaWRcbjs7XG5cbigqKiBUaGUgSnNfb2Zfb2NhbWwgdHlwZSBEb21faHRtbC5lbGVtZW50IGRvZXNuJ3QgaGF2ZSB0aGUgY29ycmVjdCBvcHRpb25zIGZvclxuICAgIHRoZWlyIGBmb2N1c2AgbWV0aG9kLiBDYXN0IHRvIHRoaXMgaW4gb3JkZXIgdG8gd29yayBhcm91bmQgdGhpcyBidWcuICAqKVxudHlwZSBmb2N1c2FibGUgPVxuICA8IGZvY3VzIDogPCBwcmV2ZW50U2Nyb2xsIDogYm9vbCBKcy50IEpzLnJlYWRvbmx5X3Byb3AgPiBKcy50IC0+IHVuaXQgSnMubWV0aCA+XG5cbmxldCBhc19mb2N1c2FibGUgOiBEb21faHRtbC5lbGVtZW50IEpzLnQgLT4gZm9jdXNhYmxlIEpzLnQgPSBKcy5VbnNhZmUuY29lcmNlXG5cbigqKiBbVmlzaWJpbGl0eV0gZW5jYXBzdWxhdGVzIHRoZSBkaXJ0eWluZyBhbmQgY2xlYW5pbmcgb2YgdGhlIHZpc2liaWxpdHkgZmxhZ1xuXG4gICAgVGhlIHZpZXdwb3J0IHN0YXJ0cyBvdXQgZGlydHkuIFdoZW4gd2UgbG9vayBhdCB0aGUgRE9NIHRvIGNvbXB1dGUgd2hhdCBpcyB2aXNpYmxlIGJ5XG4gICAgY2FsbGluZyBbdXBkYXRlX3Zpc2liaWxpdHldLCB0aGUgdmlld3BvcnQgdGhlbiBiZWNvbWVzIGNsZWFuLiBBbnkgdGltZSB0aGUgdXNlclxuICAgIHNjcm9sbHMgb3VyIHBhZ2Ugb3IgcmVzaXplcyB0aGUgd2luZG93LCB0aGUgdmlld3BvcnQgYmVjb21lcyBkaXJ0eSBhZ2Fpbi4gSWYgd2UgdXBkYXRlXG4gICAgdGhlIERPTSwgdGhlIHZpZXdwb3J0IGJlY29tZXMgZGlydHkgYWdhaW4gYmVjYXVzZSBhIERPTSB1cGRhdGUgY291bGQgY2F1c2UgYSByZWZsb3csXG4gICAgbW92aW5nIHRoZSBlbGVtZW50cyB0aGF0IGFyZSB2aXNpYmxlLlxuXG4gICAgV2UgaGF2ZSBpbXBsZW1lbnRlZCB0aGlzIGFzIGEgZmxhZyBpbnN0ZWFkIG9mIHJlcXVpcmluZyB0aGUgdXNlcnMgdG8gc2VuZCBhbiBhY3Rpb24gb25cbiAgICBzY3JvbGwgYmVjYXVzZSBpdCB3b3VsZCBtYWtlIG5vIHNlbnNlIHRvIGNvbXB1dGUgdGhlIHZpc2liaWxpdHkgb24gdGhlIHZpcnR1YWwtZG9tXG4gICAgd2hlbiB0aGUgdmlydHVhbC1kb20gZG9lcyBub3QgbWF0Y2ggdGhlIGFjdHVhbCBkb20gKGFzIGl0IGlzIGluIHRoZSBtaWRkbGUgb2ZcbiAgICBbYXBwbHlfYWN0aW9uc10pLiAqKVxubW9kdWxlIFZpc2liaWxpdHkgOiBzaWdcbiAgdHlwZSB0XG5cbiAgdmFsIGNyZWF0ZV9hc19kaXJ0eSA6IHVuaXQgLT4gdFxuICB2YWwgbWFya19jbGVhbiA6IHQgLT4gdW5pdFxuICB2YWwgbWFya19kaXJ0eSA6IHQgLT4gdW5pdFxuICB2YWwgaXNfZGlydHkgOiB0IC0+IGJvb2xcbmVuZCA9IHN0cnVjdFxuICB0eXBlIHQgPSB7IG11dGFibGUgd2hlbl9kaXJ0eSA6IHVuaXQgSXZhci50IH1cblxuICBsZXQgY3JlYXRlX2FzX2RpcnR5ICgpID0geyB3aGVuX2RpcnR5ID0gSXZhci5jcmVhdGVfZnVsbCAoKSB9XG4gIGxldCBtYXJrX2RpcnR5IHQgPSBJdmFyLmZpbGxfaWZfZW1wdHkgdC53aGVuX2RpcnR5ICgpXG4gIGxldCBpc19kaXJ0eSB0ID0gSXZhci5pc19mdWxsIHQud2hlbl9kaXJ0eVxuICBsZXQgbWFya19jbGVhbiB0ID0gaWYgaXNfZGlydHkgdCB0aGVuIHQud2hlbl9kaXJ0eSA8LSBJdmFyLmNyZWF0ZSAoKVxuZW5kXG5cbm1vZHVsZSBMb2dnaW5nX2ZpbHRlciA9IHN0cnVjdFxuICBtb2R1bGUgU3RyaW5nX2JsYW5nID0gc3RydWN0XG4gICAgbW9kdWxlIFQgPSBzdHJ1Y3RcbiAgICAgIHR5cGUgdCA9IHN0cmluZyBCbGFuZy50IFtAQGRlcml2aW5nIHNleHAsIGNvbXBhcmVdXG4gICAgZW5kXG5cbiAgICBpbmNsdWRlIFRcbiAgICBpbmNsdWRlIENvbXBhcmFibGUuTWFrZSAoVClcbiAgZW5kXG5cbiAgdHlwZSB0ID1cbiAgICB8IEFsbFxuICAgIHwgTm9uZVxuICAgIHwgTmFtZWRfZmlsdGVyX2JsYW5nIG9mIFN0cmluZ19ibGFuZy50XG4gICAgfCBDdXN0b21fZmlsdGVyIG9mIChTZXhwLnQgLT4gYm9vbClcbmVuZFxuXG5tb2R1bGUgRGVidWdfZmxhZ3MgOiBzaWdcbiAgdHlwZSB0ID1cbiAgICB7IGxvZ2dpbmdfZmlsdGVyIDogdW5pdCAtPiBMb2dnaW5nX2ZpbHRlci50XG4gICAgOyBzaG91bGRfcHJvZmlsZSA6IHVuaXQgLT4gYm9vbFxuICAgIDsgc2hvdWxkX2RlYnVnIDogdW5pdCAtPiBib29sXG4gICAgfVxuXG4gIHZhbCBpbml0X2FwcFxuICAgIDogIGFwcF9pZDpzdHJpbmdcbiAgICAtPiBmaWx0ZXJfbmFtZXM6U3RyaW5nLlNldC50XG4gICAgLT4gZGVidWc6Ym9vbFxuICAgIC0+IHN0b3A6dW5pdCBEZWZlcnJlZC50XG4gICAgLT4gdFxuZW5kID0gc3RydWN0XG4gIHR5cGUgdCA9XG4gICAgeyBsb2dnaW5nX2ZpbHRlciA6IHVuaXQgLT4gTG9nZ2luZ19maWx0ZXIudFxuICAgIDsgc2hvdWxkX3Byb2ZpbGUgOiB1bml0IC0+IGJvb2xcbiAgICA7IHNob3VsZF9kZWJ1ZyA6IHVuaXQgLT4gYm9vbFxuICAgIH1cblxuICBtb2R1bGUgQXBwX3N0YXRlID0gc3RydWN0XG4gICAgdHlwZSB0ID1cbiAgICAgIHsgZmlsdGVyX25hbWVzIDogU3RyaW5nLlNldC50XG4gICAgICA7IGxvZ2dpbmdfZmlsdGVyIDogTG9nZ2luZ19maWx0ZXIudCByZWZcbiAgICAgIDsgc2hvdWxkX3Byb2ZpbGUgOiBib29sIHJlZlxuICAgICAgOyBzaG91bGRfZGVidWcgOiBib29sIHJlZlxuICAgICAgfVxuXG4gICAgbGV0IHNldF9sb2dnaW5nX2ZpbHRlciB0IH5sb2dnaW5nX2ZpbHRlciA9IHQubG9nZ2luZ19maWx0ZXIgOj0gbG9nZ2luZ19maWx0ZXJcbiAgICBsZXQgc2V0X3Nob3VsZF9wcm9maWxlIHQgfnNob3VsZF9wcm9maWxlID0gdC5zaG91bGRfcHJvZmlsZSA6PSBzaG91bGRfcHJvZmlsZVxuICAgIGxldCBzZXRfc2hvdWxkX2RlYnVnIHQgfnNob3VsZF9kZWJ1ZyA9IHQuc2hvdWxkX2RlYnVnIDo9IHNob3VsZF9kZWJ1Z1xuICBlbmRcblxuICBjbGFzcyB0eXBlIGdsb2JhbCA9IG9iamVjdFxuICAgIG1ldGhvZCBzdGFydExvZ2dpbmdBbGwgOlxuICAgICAgKEpzLmpzX3N0cmluZyBKcy50IEpzLm9wdCAtPiB1bml0KSBKcy5jYWxsYmFjayBKcy53cml0ZW9ubHlfcHJvcFxuXG4gICAgbWV0aG9kIHN0YXJ0TG9nZ2luZyA6XG4gICAgICAoSnMuanNfc3RyaW5nIEpzLnQgLT4gSnMuanNfc3RyaW5nIEpzLnQgSnMub3B0IC0+IHVuaXQpIEpzLmNhbGxiYWNrXG4gICAgICBKcy53cml0ZW9ubHlfcHJvcFxuXG4gICAgbWV0aG9kIHN0YXJ0TG9nZ2luZ0N1c3RvbSA6XG4gICAgICAoKEpzLmpzX3N0cmluZyBKcy50IC0+IGJvb2wgSnMudCkgLT4gSnMuanNfc3RyaW5nIEpzLnQgSnMub3B0IC0+IHVuaXQpIEpzLmNhbGxiYWNrXG4gICAgICBKcy53cml0ZW9ubHlfcHJvcFxuXG4gICAgbWV0aG9kIHN0b3BMb2dnaW5nIDogKEpzLmpzX3N0cmluZyBKcy50IEpzLm9wdCAtPiB1bml0KSBKcy5jYWxsYmFjayBKcy53cml0ZW9ubHlfcHJvcFxuXG4gICAgbWV0aG9kIHN0YXJ0UHJvZmlsaW5nIDpcbiAgICAgIChKcy5qc19zdHJpbmcgSnMudCBKcy5vcHQgLT4gdW5pdCkgSnMuY2FsbGJhY2sgSnMud3JpdGVvbmx5X3Byb3BcblxuICAgIG1ldGhvZCBzdG9wUHJvZmlsaW5nIDpcbiAgICAgIChKcy5qc19zdHJpbmcgSnMudCBKcy5vcHQgLT4gdW5pdCkgSnMuY2FsbGJhY2sgSnMud3JpdGVvbmx5X3Byb3BcblxuICAgIG1ldGhvZCBzdGFydERlYnVnZ2luZyA6XG4gICAgICAoSnMuanNfc3RyaW5nIEpzLnQgSnMub3B0IC0+IHVuaXQpIEpzLmNhbGxiYWNrIEpzLndyaXRlb25seV9wcm9wXG5cbiAgICBtZXRob2Qgc3RvcERlYnVnZ2luZyA6XG4gICAgICAoSnMuanNfc3RyaW5nIEpzLnQgSnMub3B0IC0+IHVuaXQpIEpzLmNhbGxiYWNrIEpzLndyaXRlb25seV9wcm9wXG5cbiAgICBtZXRob2Qgc2F2ZUluY3JlbWVudGFsR3JhcGggOiAodW5pdCAtPiB1bml0KSBKcy5jYWxsYmFjayBKcy53cml0ZW9ubHlfcHJvcFxuICBlbmRcblxuICBsZXQgZ2xvYmFsIDogZ2xvYmFsIEpzLnQgPSBKcy5VbnNhZmUuZ2xvYmFsXG4gIGxldCBnbG9iYWxfaXNfaW5pdGlhbGl6ZWQgPSByZWYgZmFsc2VcbiAgbGV0IGFwcF9zdGF0ZXMgOiBBcHBfc3RhdGUudCBTdHJpbmcuVGFibGUudCA9IFN0cmluZy5UYWJsZS5jcmVhdGUgKClcblxuICBsZXQgc2luZ2xlX2xpbmVfc3RyaW5nX2xpc3Qgc3RyaW5ncyA9XG4gICAgc3RyaW5ncyB8PiBMaXN0Lm1hcCB+ZjooZnVuIHN0ciAtPiBcIlxcXCJcIiBeIHN0ciBeIFwiXFxcIlwiKSB8PiBTdHJpbmcuY29uY2F0IH5zZXA6XCIsIFwiXG4gIDs7XG5cbiAgbGV0IG11bHRpX2xpbmVfc3RyaW5nX2xpc3Qgc3RyaW5ncyA9XG4gICAgc3RyaW5ncyB8PiBMaXN0Lm1hcCB+ZjooZnVuIHN0ciAtPiBcIiAgXCIgXiBzdHIpIHw+IFN0cmluZy5jb25jYXQgfnNlcDpcIlxcblwiXG4gIDs7XG5cbiAgbGV0IGluaXRfZ2xvYmFsIH5hcHBfZmlsdGVycyAoKSA9XG4gICAgbGV0IHdpdGhfYXBwX2lkX29wdCB1cGRhdGVfc3RhdGUgYXBwX2lkX29wdCA9XG4gICAgICBsZXQgYXBwX2lkX29wdCA9IEpzLk9wdC50b19vcHRpb24gYXBwX2lkX29wdCB8PiBPcHRpb24ubWFwIH5mOkpzLnRvX3N0cmluZyBpblxuICAgICAgbWF0Y2ggYXBwX2lkX29wdCB3aXRoXG4gICAgICB8IE5vbmUgLT4gSGFzaHRibC5pdGVyIGFwcF9zdGF0ZXMgfmY6dXBkYXRlX3N0YXRlXG4gICAgICB8IFNvbWUgYXBwX2lkIC0+XG4gICAgICAgIChtYXRjaCBIYXNodGJsLmZpbmQgYXBwX3N0YXRlcyBhcHBfaWQgd2l0aFxuICAgICAgICAgfCBTb21lIHN0YXRlIC0+IHVwZGF0ZV9zdGF0ZSBzdGF0ZVxuICAgICAgICAgfCBOb25lIC0+XG4gICAgICAgICAgIHByaW50X2Vycm9yZlxuICAgICAgICAgICAgIFwiVW5hYmxlIHRvIGZpbmQgYXBwIHdpdGggaWQgXFxcIiVzXFxcIi4gVmFsaWQgYXBwIGlkcyBhcmU6ICVzXCJcbiAgICAgICAgICAgICBhcHBfaWRcbiAgICAgICAgICAgICAoSGFzaHRibC5rZXlzIGFwcF9zdGF0ZXMgfD4gc2luZ2xlX2xpbmVfc3RyaW5nX2xpc3QpKVxuICAgIGluXG4gICAgbGV0IHVwZGF0ZV9sb2dnaW5nX2ZpbHRlciBsb2dnaW5nX2ZpbHRlciA9XG4gICAgICB3aXRoX2FwcF9pZF9vcHQgKEFwcF9zdGF0ZS5zZXRfbG9nZ2luZ19maWx0ZXIgfmxvZ2dpbmdfZmlsdGVyKVxuICAgIGluXG4gICAgbGV0IHVwZGF0ZV9zaG91bGRfcHJvZmlsZSBzaG91bGRfcHJvZmlsZSA9XG4gICAgICB3aXRoX2FwcF9pZF9vcHQgKEFwcF9zdGF0ZS5zZXRfc2hvdWxkX3Byb2ZpbGUgfnNob3VsZF9wcm9maWxlKVxuICAgIGluXG4gICAgbGV0IHVwZGF0ZV9zaG91bGRfZGVidWcgc2hvdWxkX2RlYnVnID1cbiAgICAgIHdpdGhfYXBwX2lkX29wdCAoQXBwX3N0YXRlLnNldF9zaG91bGRfZGVidWcgfnNob3VsZF9kZWJ1ZylcbiAgICBpblxuICAgIGdsb2JhbCMjLnN0YXJ0TG9nZ2luZ0FsbCA6PSBKcy53cmFwX2NhbGxiYWNrICh1cGRhdGVfbG9nZ2luZ19maWx0ZXIgQWxsKTtcbiAgICBnbG9iYWwjIy5zdGFydExvZ2dpbmdcbiAgICAgIDo9IEpzLndyYXBfY2FsbGJhY2sgKGZ1biBibGFuZ19zdHIgLT5cbiAgICAgICAgICAgbGV0IGJsYW5nX3N0ciA9IEpzLnRvX3N0cmluZyBibGFuZ19zdHIgaW5cbiAgICAgICAgICAgd2l0aF9hcHBfaWRfb3B0IChmdW4gYXBwX3N0YXRlIC0+XG4gICAgICAgICAgICAgbGV0IGJsYW5nID0gQmxhbmcudF9vZl9zZXhwIFN0cmluZy50X29mX3NleHAgKFNleHAub2Zfc3RyaW5nIGJsYW5nX3N0cikgaW5cbiAgICAgICAgICAgICBsZXQgaW52YWxpZF9uYW1lcyA9XG4gICAgICAgICAgICAgICBCbGFuZy5mb2xkIGJsYW5nIH5pbml0OlN0cmluZy5TZXQuZW1wdHkgfmY6KGZ1biBpbnZhbGlkX25hbWVzIG5hbWUgLT5cbiAgICAgICAgICAgICAgICAgaWYgU2V0Lm1lbSBhcHBfc3RhdGUuZmlsdGVyX25hbWVzIG5hbWVcbiAgICAgICAgICAgICAgICAgdGhlbiBpbnZhbGlkX25hbWVzXG4gICAgICAgICAgICAgICAgIGVsc2UgU2V0LmFkZCBpbnZhbGlkX25hbWVzIG5hbWUpXG4gICAgICAgICAgICAgaW5cbiAgICAgICAgICAgICBpZiBTZXQuaXNfZW1wdHkgaW52YWxpZF9uYW1lc1xuICAgICAgICAgICAgIHRoZW5cbiAgICAgICAgICAgICAgIEFwcF9zdGF0ZS5zZXRfbG9nZ2luZ19maWx0ZXJcbiAgICAgICAgICAgICAgICAgYXBwX3N0YXRlXG4gICAgICAgICAgICAgICAgIH5sb2dnaW5nX2ZpbHRlcjooTmFtZWRfZmlsdGVyX2JsYW5nIGJsYW5nKVxuICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgIHByaW50X2Vycm9yZlxuICAgICAgICAgICAgICAgICBcIlVuYWJsZSB0byBmaW5kIG5hbWVkIGZpbHRlcihzKTogJXMuIFZhbGlkIG5hbWVzIGFyZTpcXG4lc1wiXG4gICAgICAgICAgICAgICAgIChTZXQudG9fbGlzdCBpbnZhbGlkX25hbWVzIHw+IHNpbmdsZV9saW5lX3N0cmluZ19saXN0KVxuICAgICAgICAgICAgICAgICAoU2V0LnRvX2xpc3QgYXBwX3N0YXRlLmZpbHRlcl9uYW1lcyB8PiBtdWx0aV9saW5lX3N0cmluZ19saXN0KSkpO1xuICAgIGdsb2JhbCMjLnN0YXJ0TG9nZ2luZ0N1c3RvbVxuICAgICAgOj0gSnMud3JhcF9jYWxsYmFjayAoZnVuIGZpbHRlciAtPlxuICAgICAgICAgICBsZXQgZmlsdGVyIGFjdGlvbl9zZXhwID1cbiAgICAgICAgICAgICBhY3Rpb25fc2V4cCB8PiBTZXhwLnRvX3N0cmluZyB8PiBKcy5zdHJpbmcgfD4gZmlsdGVyIHw+IEpzLnRvX2Jvb2xcbiAgICAgICAgICAgaW5cbiAgICAgICAgICAgdXBkYXRlX2xvZ2dpbmdfZmlsdGVyIChDdXN0b21fZmlsdGVyIGZpbHRlcikpO1xuICAgIGdsb2JhbCMjLnN0b3BMb2dnaW5nIDo9IEpzLndyYXBfY2FsbGJhY2sgKHVwZGF0ZV9sb2dnaW5nX2ZpbHRlciBOb25lKTtcbiAgICBnbG9iYWwjIy5zdGFydFByb2ZpbGluZyA6PSBKcy53cmFwX2NhbGxiYWNrICh1cGRhdGVfc2hvdWxkX3Byb2ZpbGUgdHJ1ZSk7XG4gICAgZ2xvYmFsIyMuc3RvcFByb2ZpbGluZyA6PSBKcy53cmFwX2NhbGxiYWNrICh1cGRhdGVfc2hvdWxkX3Byb2ZpbGUgZmFsc2UpO1xuICAgIGdsb2JhbCMjLnN0YXJ0RGVidWdnaW5nIDo9IEpzLndyYXBfY2FsbGJhY2sgKHVwZGF0ZV9zaG91bGRfZGVidWcgdHJ1ZSk7XG4gICAgZ2xvYmFsIyMuc3RvcERlYnVnZ2luZyA6PSBKcy53cmFwX2NhbGxiYWNrICh1cGRhdGVfc2hvdWxkX2RlYnVnIGZhbHNlKTtcbiAgICBnbG9iYWwjIy5zYXZlSW5jcmVtZW50YWxHcmFwaFxuICAgICAgOj0gSnMud3JhcF9jYWxsYmFjayAoZnVuICgpIC0+XG4gICAgICAgICAgIGxldCBmaWxlbmFtZSA9IFwiY3VycmVudF9pbmNyX2RvbV9kb3RfZ3JhcGguZG90XCIgaW5cbiAgICAgICAgICAgVWlfaW5jci5zYXZlX2RvdF90b19maWxlIGZpbGVuYW1lO1xuICAgICAgICAgICBsZXQgY29udGVudHMgPSBJbl9jaGFubmVsLnJlYWRfYWxsIGZpbGVuYW1lIGluXG4gICAgICAgICAgIFZkb21fZmlsZV9kb3dubG9hZC5jcmVhdGUgfmZpbGVuYW1lIH5taW1ldHlwZTpcInBsYWluL3RleHRcIiB+Y29udGVudHNcbiAgICAgICAgICAgfD4gVmRvbV9maWxlX2Rvd25sb2FkLnRyaWdnZXIpO1xuICAgIGxldCBncm91cCBzIH5mID1cbiAgICAgIEZpcmVidWcuY29uc29sZSMjZ3JvdXBDb2xsYXBzZWQgKEpzLnN0cmluZyBzKTtcbiAgICAgIGYgKCk7XG4gICAgICBGaXJlYnVnLmNvbnNvbGUjI2dyb3VwRW5kXG4gICAgaW5cbiAgICBsZXQgbG9nIHMgPSBGaXJlYnVnLmNvbnNvbGUjI2xvZyAoSnMuc3RyaW5nIHMpIGluXG4gICAgZ3JvdXAgXCJJbmNyX2RvbSAvIEJvbnNhaSBDb25zb2xlXCIgfmY6KGZ1biAoKSAtPlxuICAgICAgZ3JvdXAgXCJBY3Rpb24gTG9nZ2luZ1wiIH5mOihmdW4gKCkgLT5cbiAgICAgICAgbG9nXG4gICAgICAgICAge3xMb2dnaW5nIHByaW50cyBhY3Rpb24gaW5mbyB0byB0aGUgY29uc29sZS4gSXQgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdC4gVG8gc3RhcnQgbG9nZ2luZywgdHlwZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbnN0YXJ0TG9nZ2luZ0FsbChbYXBwX2lkXSkgLSBsb2cgYWxsIGFjdGlvbnNcbnN0YXJ0TG9nZ2luZyhmaWx0ZXJfbmFtZSBbLCBhcHBfaWRdKSAtIGZpbHRlciBhY3Rpb25zIHVzaW5nIGEgcHJlLWRlZmluZWQgbmFtZWQgZmlsdGVyIFtmaWx0ZXJfbmFtZV1cbnN0YXJ0TG9nZ2luZyhmaWx0ZXJfbmFtZV9ibGFuZyBbLCBhcHBfaWRdKSAtIGZpbHRlciBhY3Rpb25zIHVzaW5nIGEgYmxhbmcgb2YgbmFtZWQgZmlsdGVycyBbZmlsdGVyX25hbWVfYmxhbmddXG5zdGFydExvZ2dpbmdDdXN0b20oZmlsdGVyIFssIGFwcF9pZF0pIC0gZmlsdGVyIGFjdGlvbnMgdXNpbmcgYSBjdXN0b20gZnVuY3Rpb24gW2ZpbHRlcl0gZnJvbSBhIHN0cmluZyAodGhlIGFjdGlvbiBzZXhwKSB0byBhIGJvb2xcblRvIHN0b3AgbG9nZ2luZywgdHlwZTogc3RvcExvZ2dpbmcoW2FwcF9pZF0pfH0pO1xuICAgICAgZ3JvdXAgXCJBY3Rpb24gUHJvZmlsaW5nXCIgfmY6KGZ1biAoKSAtPlxuICAgICAgICBsb2dcbiAgICAgICAgICB7fFByb2ZpbGluZyBpcyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuVG8gc3RhcnQgcHJvZmlsaW5nLCB0eXBlOiBzdGFydFByb2ZpbGluZyhbYXBwX2lkXSlcblRvIHN0b3AgcHJvZmlsaW5nLCB0eXBlOiBzdG9wUHJvZmlsaW5nKFthcHBfaWRdKXx9KTtcbiAgICAgIGdyb3VwIFwiRGVidWdnaW5nXCIgfmY6KGZ1biAoKSAtPlxuICAgICAgICBsb2dcbiAgICAgICAgICB7fERlYnVnZ2luZyBwcmludHMgdGltaW5nIGluZm8gdG8gdGhlIGNvbnNvbGUuIEl0IGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQgYnkgdGhlIGFwcC5cblRvIHN0YXJ0IGRlYnVnZ2luZywgdHlwZTogc3RhcnREZWJ1Z2dpbmcoW2FwcF9pZF0pXG5UbyBzdG9wIGRlYnVnZ2luZywgdHlwZTogc3RvcERlYnVnZ2luZyhbYXBwX2lkXSlcblxuW2FwcF9pZF0gaXMgZXF1YWwgdG8gdGhlIGlkIG9mIHRoZSBlbGVtZW50IHRoYXQgdGhlIGluY3ItZG9tIGFwcCBpcyBib3VuZCB0by4gSWYgdGhlIHBhZ2Ugb25seSBoYXMgb25lIGFwcCBvciB5b3Ugd2FudCB0byBhcHBseSB0aGUgYWN0aW9uIHRvIGFsbCBhcHBzLCB5b3UgY2FuIHBhc3MgaW4gW251bGxdIChvciBmb3Igc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucywgb21pdCBpdCBhbHRvZ2V0aGVyKS58fSk7XG4gICAgICBsb2cgYXBwX2ZpbHRlcnMpXG4gIDs7XG5cbiAgbGV0IGluaXRfYXBwIH5hcHBfaWQgfmZpbHRlcl9uYW1lcyB+ZGVidWcgfnN0b3AgPVxuICAgIGxldCBhcHBfaW5pdF9tZXNzYWdlID1cbiAgICAgIHNwcmludGZcbiAgICAgICAge3xBdmFpbGFibGUgbG9nZ2luZyBmaWx0ZXJzIGZvciBcIiVzXCI6XG4lc3x9XG4gICAgICAgIGFwcF9pZFxuICAgICAgICAoU2V0LnRvX2xpc3QgZmlsdGVyX25hbWVzIHw+IG11bHRpX2xpbmVfc3RyaW5nX2xpc3QpXG4gICAgaW5cbiAgICBpZiBub3QgIWdsb2JhbF9pc19pbml0aWFsaXplZFxuICAgIHRoZW4gKFxuICAgICAgaW5pdF9nbG9iYWwgfmFwcF9maWx0ZXJzOmFwcF9pbml0X21lc3NhZ2UgKCk7XG4gICAgICBnbG9iYWxfaXNfaW5pdGlhbGl6ZWQgOj0gdHJ1ZSlcbiAgICBlbHNlIEZpcmVidWcuY29uc29sZSMjbG9nIChKcy5zdHJpbmcgYXBwX2luaXRfbWVzc2FnZSk7XG4gICAgbGV0IGxvZ2dpbmdfZmlsdGVyID0gcmVmIExvZ2dpbmdfZmlsdGVyLk5vbmUgaW5cbiAgICBsZXQgc2hvdWxkX3Byb2ZpbGUgPSByZWYgZmFsc2UgaW5cbiAgICBsZXQgc2hvdWxkX2RlYnVnID0gcmVmIGRlYnVnIGluXG4gICAgSGFzaHRibC5zZXRcbiAgICAgIGFwcF9zdGF0ZXNcbiAgICAgIH5rZXk6YXBwX2lkXG4gICAgICB+ZGF0YTp7IGZpbHRlcl9uYW1lczsgbG9nZ2luZ19maWx0ZXI7IHNob3VsZF9wcm9maWxlOyBzaG91bGRfZGVidWcgfTtcbiAgICB1cG9uIHN0b3AgKGZ1biAoKSAtPiBIYXNodGJsLnJlbW92ZSBhcHBfc3RhdGVzIGFwcF9pZCk7XG4gICAgeyBsb2dnaW5nX2ZpbHRlciA9IChmdW4gKCkgLT4gIWxvZ2dpbmdfZmlsdGVyKVxuICAgIDsgc2hvdWxkX3Byb2ZpbGUgPSAoZnVuICgpIC0+ICFzaG91bGRfcHJvZmlsZSlcbiAgICA7IHNob3VsZF9kZWJ1ZyA9IChmdW4gKCkgLT4gIXNob3VsZF9kZWJ1ZylcbiAgICB9XG4gIDs7XG5lbmRcblxuKCogQWRkcyB0aGUgbmVjZXNzYXJ5IGF0dHJpYnV0ZSB0byB0aGUgcm9vdCBub2RlIHNvIHRoYXQgaXQgY2FuIGludGVyY2VwdFxuICAga2V5Ym9hcmQgZXZlbnRzLlxuICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9HbG9iYWxfYXR0cmlidXRlcy90YWJpbmRleCAqKVxubGV0IG92ZXJyaWRlX3Jvb3RfZWxlbWVudCByb290ID1cbiAgbGV0IG9wZW4gVmRvbSBpblxuICBsZXQgc2hvdWxkX2FkZF9mb2N1c19tb2RpZmllcnMgZWxlbWVudCA9XG4gICAgZWxlbWVudCB8PiBOb2RlLkVsZW1lbnQuYXR0cnMgfD4gQXR0ci5FeHBlcnQuY29udGFpbnNfbmFtZSBcImRpc2FibGVfdGFiX2luZGV4XCIgfD4gbm90XG4gIGluXG4gIG1hdGNoIChyb290IDogTm9kZS50KSB3aXRoXG4gIHwgRWxlbWVudCBlbGVtZW50IHdoZW4gc2hvdWxkX2FkZF9mb2N1c19tb2RpZmllcnMgZWxlbWVudCAtPlxuICAgIGxldCBhZGRfbmV3X2F0dHJzIGF0dHJzID1cbiAgICAgIFZkb20uQXR0ci4oc3R5bGUgKENzc19nZW4ub3V0bGluZSB+c3R5bGU6YE5vbmUgKCkpIEAgdGFiaW5kZXggMCBAIGF0dHJzKVxuICAgIGluXG4gICAgZWxlbWVudCB8PiBOb2RlLkVsZW1lbnQubWFwX2F0dHJzIH5mOmFkZF9uZXdfYXR0cnMgfD4gTm9kZS5FbGVtZW50XG4gIHwgXyAtPiByb290XG47O1xuXG5sZXQgcmVjIGdldF90YWdfbmFtZSAobm9kZSA6IFZkb20uTm9kZS50KSA9XG4gIG1hdGNoIG5vZGUgd2l0aFxuICB8IEVsZW1lbnQgZSAtPiBTb21lIChWZG9tLk5vZGUuRWxlbWVudC50YWcgZSlcbiAgfCBMYXp5IHsgdDsgXyB9IC0+IGdldF90YWdfbmFtZSAoTGF6eS5mb3JjZSB0KVxuICB8IE5vbmUgfCBUZXh0IF8gfCBXaWRnZXQgXyB8IEZyYWdtZW50IF8gLT4gTm9uZVxuOztcblxubGV0IHRpbWVfc291cmNlIDogVWlfdGltZV9zb3VyY2UudCA9IFVpX3RpbWVfc291cmNlLmNyZWF0ZSB+c3RhcnQ6KFRpbWVfbnMubm93ICgpKVxuXG5sZXQgc3RhcnRfYm9uc2FpXG4gICh0eXBlIG1vZGVsIGFjdGlvbilcbiAgPyhkZWJ1ZyA9IGZhbHNlKVxuICA/KHN0b3AgPSBEZWZlcnJlZC5uZXZlciAoKSlcbiAgPyhuYW1lZF9sb2dnaW5nX2ZpbHRlcnMgPSBbXSlcbiAgPyhzaW11bGF0ZV9ib2R5X2ZvY3VzX29uX3Jvb3RfZWxlbWVudCA9IHRydWUpXG4gIH5iaW5kX3RvX2VsZW1lbnRfd2l0aF9pZFxuICB+aW5pdGlhbF9tb2RlbFxuICAobW9kdWxlIEFwcCA6IEFwcF9pbnRmLlByaXZhdGUuU19mb3JfYm9uc2FpXG4gICAgd2l0aCB0eXBlIE1vZGVsLnQgPSBtb2RlbFxuICAgICBhbmQgdHlwZSBBY3Rpb24udCA9IGFjdGlvbilcbiAgPVxuICAoKiBUaGlzIGlzIGlkZW1wb3RlbnQgYW5kIHNvIGZpbmUgdG8gZG8uICopXG4gIEFzeW5jX2pzLmluaXQgKCk7XG4gIGRvbid0X3dhaXRfZm9yXG4gICAgKGxldCViaW5kICgpID0gQXN5bmNfanMuZG9jdW1lbnRfbG9hZGVkICgpIGluXG4gICAgIGxldCBtb2RlbF92ID0gSW5jci5WYXIuY3JlYXRlIGluaXRpYWxfbW9kZWwgaW5cbiAgICAgbGV0IG1vZGVsID0gSW5jci5WYXIud2F0Y2ggbW9kZWxfdiBpblxuICAgICBsZXQgbW9kZWxfZnJvbV9sYXN0X2Rpc3BsYXlfdiA9IEluY3IuVmFyLmNyZWF0ZSBpbml0aWFsX21vZGVsIGluXG4gICAgIGxldCBtb2RlbF9mcm9tX2xhc3RfZGlzcGxheSA9IEluY3IuVmFyLndhdGNoIG1vZGVsX2Zyb21fbGFzdF9kaXNwbGF5X3YgaW5cbiAgICAgbGV0IGN1dG9mZiA9XG4gICAgICAgSW5jci5DdXRvZmYuY3JlYXRlIChmdW4gfm9sZF92YWx1ZSB+bmV3X3ZhbHVlIC0+XG4gICAgICAgICBBcHAuTW9kZWwuY3V0b2ZmIG9sZF92YWx1ZSBuZXdfdmFsdWUpXG4gICAgIGluXG4gICAgIEluY3Iuc2V0X2N1dG9mZiBtb2RlbCBjdXRvZmY7XG4gICAgIEluY3Iuc2V0X2N1dG9mZiBtb2RlbF9mcm9tX2xhc3RfZGlzcGxheSBjdXRvZmY7XG4gICAgIGxldCBhY3Rpb25fcXVldWUgPSBRdWV1ZS5jcmVhdGUgKCkgaW5cbiAgICAgbGV0IG1vZHVsZSBFdmVudCA9XG4gICAgICAgVmRvbS5FZmZlY3QuRGVmaW5lIChzdHJ1Y3RcbiAgICAgICAgIG1vZHVsZSBBY3Rpb24gPSBBcHAuQWN0aW9uXG5cbiAgICAgICAgIGxldCBoYW5kbGUgYWN0aW9uID0gUXVldWUuZW5xdWV1ZSBhY3Rpb25fcXVldWUgYWN0aW9uXG4gICAgICAgZW5kKVxuICAgICBpblxuICAgICBsZXQgdmlzaWJpbGl0eSA9IFZpc2liaWxpdHkuY3JlYXRlX2FzX2RpcnR5ICgpIGluXG4gICAgIGxldCB2aWV3cG9ydF9jaGFuZ2VkICgpID0gVmlzaWJpbGl0eS5tYXJrX2RpcnR5IHZpc2liaWxpdHkgaW5cbiAgICAgKCogVGhpcyByZWdpc3RlcnMgdGhlIFt2aWV3cG9ydF9jaGFuZ2VkXSBoYW5kbGVyIHdpdGggVmlydHVhbF9kb20uIElmIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIHVzZSB0aGUgW1Zkb20uRWZmZWN0LlZpZXdwb3J0X2NoYW5nZWRdIGV2ZW50LCB3ZSBhcmUgbm90aWZpZWQuICopXG4gICAgIGxldCBtb2R1bGUgXyA9XG4gICAgICAgVmRvbS5FZmZlY3QuRGVmaW5lX3Zpc2liaWxpdHkgKHN0cnVjdFxuICAgICAgICAgbGV0IGhhbmRsZSA9IHZpZXdwb3J0X2NoYW5nZWRcbiAgICAgICBlbmQpXG4gICAgIGluXG4gICAgIGxldCBnZXRfdmlldywgZ2V0X2FwcGx5X2FjdGlvbiwgZ2V0X3VwZGF0ZV92aXNpYmlsaXR5LCBnZXRfb25fZGlzcGxheSA9XG4gICAgICAgbGV0IG9icyA9XG4gICAgICAgICBJbmNyLm9ic2VydmVcbiAgICAgICAgICAgKEFwcC5jcmVhdGUgbW9kZWwgfm9sZF9tb2RlbDptb2RlbF9mcm9tX2xhc3RfZGlzcGxheSB+aW5qZWN0OkV2ZW50LmluamVjdClcbiAgICAgICBpblxuICAgICAgIGxldCBmZXRjaCAoZiA6IF8gQXBwX2ludGYuUHJpdmF0ZS5zbmFwc2hvdCAtPiBfKSAoKSA9XG4gICAgICAgICBmIChJbmNyLk9ic2VydmVyLnZhbHVlX2V4biBvYnMpXG4gICAgICAgaW5cbiAgICAgICAoIGZldGNoIChmdW4geyB2aWV3OyBfIH0gLT4gdmlldylcbiAgICAgICAsIGZldGNoIChmdW4geyBhcHBseV9hY3Rpb247IF8gfSAtPiBhcHBseV9hY3Rpb24pXG4gICAgICAgLCBmZXRjaCAoZnVuIHsgdXBkYXRlX3Zpc2liaWxpdHk7IF8gfSAtPiB1cGRhdGVfdmlzaWJpbGl0eSlcbiAgICAgICAsIGZldGNoIChmdW4geyBvbl9kaXNwbGF5OyBfIH0gLT4gb25fZGlzcGxheSkgKVxuICAgICBpblxuICAgICBJbmNyLnN0YWJpbGl6ZSAoKTtcbiAgICAgQXBwLm9uX3N0YWJpbGl6ZSAoKTtcbiAgICAgbGV0IG5hbWVkX2xvZ2dpbmdfZmlsdGVycyA9XG4gICAgICAgKFwiYWxsXCIsIEZuLmNvbnN0IHRydWUpIDo6IChcIm5vbmVcIiwgRm4uY29uc3QgZmFsc2UpIDo6IG5hbWVkX2xvZ2dpbmdfZmlsdGVyc1xuICAgICAgIHw+IFN0cmluZy5UYWJsZS5vZl9hbGlzdF9leG5cbiAgICAgaW5cbiAgICAgbGV0IHsgRGVidWdfZmxhZ3MubG9nZ2luZ19maWx0ZXI7IHNob3VsZF9wcm9maWxlOyBzaG91bGRfZGVidWcgfSA9XG4gICAgICAgbGV0IGZpbHRlcl9uYW1lcyA9IEhhc2h0Ymwua2V5cyBuYW1lZF9sb2dnaW5nX2ZpbHRlcnMgfD4gU3RyaW5nLlNldC5vZl9saXN0IGluXG4gICAgICAgRGVidWdfZmxhZ3MuaW5pdF9hcHAgfmFwcF9pZDpiaW5kX3RvX2VsZW1lbnRfd2l0aF9pZCB+ZmlsdGVyX25hbWVzIH5kZWJ1ZyB+c3RvcFxuICAgICBpblxuICAgICBsZXQgaHRtbCA9IGdldF92aWV3ICgpIGluXG4gICAgIGxldCBodG1sX2RvbSA9IFZkb20uTm9kZS50b19kb20gaHRtbCBpblxuICAgICBsZXQgZWxlbSA9IERvbV9odG1sLmdldEVsZW1lbnRCeUlkX2V4biBiaW5kX3RvX2VsZW1lbnRfd2l0aF9pZCBpblxuICAgICBsZXQgcGFyZW50ID0gT3B0aW9uLnZhbHVlX2V4biB+aGVyZTpbJWhlcmVdIChKcy5PcHQudG9fb3B0aW9uIGVsZW0jIy5wYXJlbnROb2RlKSBpblxuICAgICBEb20ucmVwbGFjZUNoaWxkIHBhcmVudCBodG1sX2RvbSBlbGVtO1xuICAgICAoKiB3ZSBtYWtlIHN1cmUgdG8gY2FsbCBbdmlld3BvcnRfY2hhbmdlZF0gd2hlbmV2ZXIgdGhlIHdpbmRvdyByZXNpemVzIG9yIHRoZSBzY3JvbGxcbiAgICAgICAgY29udGFpbmVyIGluIHdoaWNoIG91ciBIVE1MIGlzIGxvY2F0ZWQgaXMgc2Nyb2xsZWQuICopXG4gICAgIGxldCBjYWxsX3ZpZXdwb3J0X2NoYW5nZWRfb25fZXZlbnQgZXZlbnRfbmFtZSB3aGVyZSA9XG4gICAgICAgaWdub3JlXG4gICAgICAgICAoRG9tLmFkZEV2ZW50TGlzdGVuZXJcbiAgICAgICAgICAgIHdoZXJlXG4gICAgICAgICAgICAoRG9tLkV2ZW50Lm1ha2UgZXZlbnRfbmFtZSlcbiAgICAgICAgICAgIChEb20uaGFuZGxlciAoZnVuIF8gLT5cbiAgICAgICAgICAgICAgIHZpZXdwb3J0X2NoYW5nZWQgKCk7XG4gICAgICAgICAgICAgICBKcy5fdHJ1ZSkpXG4gICAgICAgICAgICBKcy5fZmFsc2VcbiAgICAgICAgICAgOiBEb20uZXZlbnRfbGlzdGVuZXJfaWQpXG4gICAgIGluXG4gICAgIGNhbGxfdmlld3BvcnRfY2hhbmdlZF9vbl9ldmVudCBcInNjcm9sbFwiIChKc19taXNjLmdldF9zY3JvbGxfY29udGFpbmVyIGh0bWxfZG9tKTtcbiAgICAgY2FsbF92aWV3cG9ydF9jaGFuZ2VkX29uX2V2ZW50IFwicmVzaXplXCIgRG9tX2h0bWwud2luZG93O1xuICAgICBsZXQlYmluZCBzdGF0ZSA9XG4gICAgICAgQXBwLm9uX3N0YXJ0dXBcbiAgICAgICAgIH5zY2hlZHVsZV9hY3Rpb246KGZ1biBhIC0+IFVpX2VmZmVjdC5FeHBlcnQuaGFuZGxlIChFdmVudC5pbmplY3QgYSkpXG4gICAgICAgICAoSW5jci5WYXIudmFsdWUgbW9kZWxfdilcbiAgICAgaW5cbiAgICAgbGV0IHByZXZfaHRtbCA9IHJlZiBodG1sIGluXG4gICAgIGxldCBwcmV2X2VsdCA9IHJlZiBodG1sX2RvbSBpblxuICAgICBsZXQgcmVmb2N1c19yb290X2VsZW1lbnQgKCkgPVxuICAgICAgIGxldCBlbGVtZW50ID0gIXByZXZfZWx0IGluXG4gICAgICAgKCogSWYgdGhlIGVsZW1lbnQgdG8gZm9jdXMgaXMgYW4gZWxlbWVudCwgY2FzdCBpdCBpbnRvIHRoZVxuICAgICAgICAgIG1vcmUgcGVybWlzc2l2ZSBcImZvY3VzYWJsZVwiIHR5cGUgZGVmaW5lZCBhdCB0aGUgdG9wIG9mXG4gICAgICAgICAgdGhpcyBmaWxlLCBhbmQgdGhlbiBmb2N1cyB0aGF0LiAqKVxuICAgICAgIERvbV9odG1sLkNvZXJjZVRvLmVsZW1lbnQgZWxlbWVudFxuICAgICAgIHw+IEpzLk9wdC50b19vcHRpb25cbiAgICAgICB8PiBPcHRpb24ubWFwIH5mOmFzX2ZvY3VzYWJsZVxuICAgICAgIHw+IE9wdGlvbi5pdGVyIH5mOihmdW4gZWxlbWVudCAtPlxuICAgICAgICAgICAgZWxlbWVudCMjZm9jdXNcbiAgICAgICAgICAgICAgKG9iamVjdCVqc1xuICAgICAgICAgICAgICAgICB2YWwgcHJldmVudFNjcm9sbCA9IEpzLl90cnVlXG4gICAgICAgICAgICAgIGVuZCkpXG4gICAgIGluXG4gICAgIGxldCB0aW1lcl9zdGFydCBzID1cbiAgICAgICB0aW1lcl9zdGFydCBzIH5kZWJ1Zzooc2hvdWxkX2RlYnVnICgpKSB+cHJvZmlsZTooc2hvdWxkX3Byb2ZpbGUgKCkpXG4gICAgIGluXG4gICAgIGxldCB0aW1lcl9zdG9wIHMgPVxuICAgICAgIHRpbWVyX3N0b3AgcyB+ZGVidWc6KHNob3VsZF9kZWJ1ZyAoKSkgfnByb2ZpbGU6KHNob3VsZF9wcm9maWxlICgpKVxuICAgICBpblxuICAgICBpZiBzaW11bGF0ZV9ib2R5X2ZvY3VzX29uX3Jvb3RfZWxlbWVudFxuICAgICB0aGVuXG4gICAgICAgKCogVGFrZSBhY3Rpb24gb24gYW55IGJsdXIgZXZlbnQsIHJlZm9jdXNpbmcgdG8gdGhlIHJvb3Qgbm9kZSBpZiB0aGUgcmVsYXRlZFRhcmdldCBpc1xuICAgICAgICAgIG51bGwgb3IgdW5kZWZpbmVkLCBzaWduaWZ5aW5nIHRoYXQgZm9jdXMgd2FzIGxvc3QgYW5kIHdvdWxkIG90aGVyd2lzZSBiZSByZXNldCB0b1xuICAgICAgICAgIHRoZSBib2R5IG5vZGUuXG5cbiAgICAgICAgICBUaGUgSnMuX3RydWUgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIERvbS5hZGRFdmVudExpc3RlbmVyIGlzIHRoZSB1c2VDYXB0dXJlXG4gICAgICAgICAgcGFyYW1ldGVyIGRlc2NyaWJlZCBoZXJlOlxuICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyXG4gICAgICAgKilcbiAgICAgICBpZ25vcmVcbiAgICAgICBAQCBEb20uYWRkRXZlbnRMaXN0ZW5lclxuICAgICAgICAgICAgRG9tX2h0bWwud2luZG93XG4gICAgICAgICAgICBEb21faHRtbC5FdmVudC5ibHVyXG4gICAgICAgICAgICAoRG9tX2h0bWwuaGFuZGxlciAoZnVuIGUgLT5cbiAgICAgICAgICAgICAgICgqIFtKcy5VbnNhZmUuKl0gaXMgbGlrZSBbT2JqLm1hZ2ljXS4gV2Ugc2hvdWxkIGJlIGV4cGxpY2l0IGFib3V0IHdoYXQgd2VcbiAgICAgICAgICAgICAgICAgIGV4cGVjdC4gKilcbiAgICAgICAgICAgICAgIGxldCBlXG4gICAgICAgICAgICAgICAgIDogPCByZWxhdGVkVGFyZ2V0IDogRG9tX2h0bWwuZWxlbWVudCBKcy50IEpzLm9wdCBKcy5yZWFkb25seV9wcm9wID4gSnMudFxuICAgICAgICAgICAgICAgICA9XG4gICAgICAgICAgICAgICAgIEpzLlVuc2FmZS5jb2VyY2UgZVxuICAgICAgICAgICAgICAgaW5cbiAgICAgICAgICAgICAgIGxldCByZWxhdGVkX3RhcmdldCA9IGUjIy5yZWxhdGVkVGFyZ2V0IGluXG4gICAgICAgICAgICAgICBpZiBub3QgKEpzLk9wdC50ZXN0IHJlbGF0ZWRfdGFyZ2V0KSB0aGVuIHJlZm9jdXNfcm9vdF9lbGVtZW50ICgpO1xuICAgICAgICAgICAgICAgSnMuX3RydWUpKVxuICAgICAgICAgICAgSnMuX3RydWU7XG4gICAgIGxldCB1cGRhdGVfdmlzaWJpbGl0eSAoKSA9XG4gICAgICAgVmlzaWJpbGl0eS5tYXJrX2NsZWFuIHZpc2liaWxpdHk7XG4gICAgICAgbGV0IG5ld19tb2RlbCA9XG4gICAgICAgICAoZ2V0X3VwZGF0ZV92aXNpYmlsaXR5ICgpKVxuICAgICAgICAgICB+c2NoZWR1bGVfZXZlbnQ6VWlfZWZmZWN0LkV4cGVydC5oYW5kbGVcbiAgICAgICAgICAgKEluY3IuVmFyLmxhdGVzdF92YWx1ZSBtb2RlbF92KVxuICAgICAgIGluXG4gICAgICAgSW5jci5WYXIuc2V0IG1vZGVsX3YgbmV3X21vZGVsO1xuICAgICAgIHRpbWVyX3N0YXJ0IFwic3RhYmlsaXplXCI7XG4gICAgICAgSW5jci5zdGFiaWxpemUgKCk7XG4gICAgICAgdGltZXJfc3RvcCBcInN0YWJpbGl6ZVwiO1xuICAgICAgIEFwcC5vbl9zdGFiaWxpemUgKClcbiAgICAgaW5cbiAgICAgbGV0IG1heWJlX2xvZ19hY3Rpb24gPVxuICAgICAgIGxldCBzYWZlX2ZpbHRlciB+bmFtZSBmaWx0ZXIgYWN0aW9uID1cbiAgICAgICAgIG1hdGNoIE9yX2Vycm9yLnRyeV93aXRoIChmdW4gKCkgLT4gZmlsdGVyIGFjdGlvbikgd2l0aFxuICAgICAgICAgfCBPayBzaG91bGRfbG9nIC0+IHNob3VsZF9sb2dcbiAgICAgICAgIHwgRXJyb3IgZXJyIC0+XG4gICAgICAgICAgIHByaW50X2Vycm9yZiAhXCJFeGNlcHRpb24gcmFpc2VkIGJ5ICVzOiAle0Vycm9yI2h1bX1cIiBuYW1lIGVycjtcbiAgICAgICAgICAgZmFsc2VcbiAgICAgICBpblxuICAgICAgIGxldCBuYW1lZF9maWx0ZXJfYmxhbmdfY2FjaGUgPVxuICAgICAgICAgQ29yZS5NZW1vLm9mX2NvbXBhcmFibGVcbiAgICAgICAgICAgKG1vZHVsZSBMb2dnaW5nX2ZpbHRlci5TdHJpbmdfYmxhbmcpXG4gICAgICAgICAgIChmdW4gYmxhbmcgLT5cbiAgICAgICAgICAgICBsZXQgZmlsdGVyID0gSGFzaHRibC5maW5kX2V4biBuYW1lZF9sb2dnaW5nX2ZpbHRlcnMgaW5cbiAgICAgICAgICAgICBzYWZlX2ZpbHRlclxuICAgICAgICAgICAgICAgfm5hbWU6KHNwcmludGYgIVwibmFtZWQgZmlsdGVyIGJsYW5nIFxcXCIle3NleHA6c3RyaW5nIEJsYW5nLnR9XFxcIlwiIGJsYW5nKVxuICAgICAgICAgICAgICAgKG1hdGNoIGJsYW5nIHdpdGhcbiAgICAgICAgICAgICAgICB8IEJhc2UgbmFtZSAtPiBmaWx0ZXIgbmFtZVxuICAgICAgICAgICAgICAgIHwgXyAtPiBmdW4gYWN0aW9uIC0+IEJsYW5nLmV2YWwgYmxhbmcgKGZ1biBuYW1lIC0+IGZpbHRlciBuYW1lIGFjdGlvbikpKVxuICAgICAgIGluXG4gICAgICAgZnVuIGFjdGlvbiAtPlxuICAgICAgICAgbGV0IHNob3VsZF9sb2dfYWN0aW9uID1cbiAgICAgICAgICAgbWF0Y2ggbG9nZ2luZ19maWx0ZXIgKCkgd2l0aFxuICAgICAgICAgICB8IEFsbCAtPiB0cnVlXG4gICAgICAgICAgIHwgTm9uZSAtPiBmYWxzZVxuICAgICAgICAgICB8IE5hbWVkX2ZpbHRlcl9ibGFuZyBibGFuZyAtPiBuYW1lZF9maWx0ZXJfYmxhbmdfY2FjaGUgYmxhbmcgYWN0aW9uXG4gICAgICAgICAgIHwgQ3VzdG9tX2ZpbHRlciBmaWx0ZXIgLT5cbiAgICAgICAgICAgICBzYWZlX2ZpbHRlclxuICAgICAgICAgICAgICAgfm5hbWU6XCJjdXN0b20gZmlsdGVyXCJcbiAgICAgICAgICAgICAgIChmdW4gYWN0aW9uIC0+IGZpbHRlciAoQXBwLkFjdGlvbi5zZXhwX29mX3QgYWN0aW9uKSlcbiAgICAgICAgICAgICAgIGFjdGlvblxuICAgICAgICAgaW5cbiAgICAgICAgIGlmIHNob3VsZF9sb2dfYWN0aW9uXG4gICAgICAgICB0aGVuIEFzeW5jX2pzLmxvZ19zX2FzX3N0cmluZyBbJW1lc3NhZ2UgXCJBY3Rpb25cIiAoYWN0aW9uIDogQXBwLkFjdGlvbi50KV1cbiAgICAgaW5cbiAgICAgKCogSXQncyBpbXBvcnRhbnQgdGhhdCB3ZSBkb24ndCBjYWxsIFtJbmNyLlZhci5zZXRdIHdpdGhpbiBbYXBwbHlfYWN0aW9uXSB1bmxlc3NcbiAgICAgICAgd2UncmUgYWxzbyBnb2luZyB0byBzdGFiaWxpemUuIFNvbWUgY29kZSBpbiBCb25zYWkgcmVsaWVzIG9uIHRoaXMgYXNzdW1wdGlvblxuICAgICAgICBhcyBwYXJ0IG9mIGl0cyBbYWN0aW9uX3JlcXVpcmVzX3N0YWJpbGl6YXRpb25dIGxvZ2ljLiBCcmVha2luZyB0aGlzIGludmFyaWFudFxuICAgICAgICB3b24ndCBicmVhayBCb25zYWkgY29kZSwgYnV0IGl0IHdpbGwgZWZmZWN0aXZlbHkgcmVtb3ZlIGFuIG9wdGltaXphdGlvbi4gKilcbiAgICAgbGV0IGFwcGx5X2FjdGlvbiBhY3Rpb24gbW9kZWwgPVxuICAgICAgIG1heWJlX2xvZ19hY3Rpb24gYWN0aW9uO1xuICAgICAgIGlmIEFwcC5hY3Rpb25fcmVxdWlyZXNfc3RhYmlsaXphdGlvbiBhY3Rpb25cbiAgICAgICB0aGVuIChcbiAgICAgICAgIEluY3IuVmFyLnNldCBtb2RlbF92IG1vZGVsO1xuICAgICAgICAgdGltZXJfc3RhcnQgXCJzdGFiaWxpemUtZm9yLWFjdGlvblwiO1xuICAgICAgICAgSW5jci5zdGFiaWxpemUgKCk7XG4gICAgICAgICB0aW1lcl9zdG9wIFwic3RhYmlsaXplLWZvci1hY3Rpb25cIjtcbiAgICAgICAgIEFwcC5vbl9zdGFiaWxpemUgKCkpXG4gICAgICAgZWxzZSBpZiBzaG91bGRfZGVidWcgKClcbiAgICAgICB0aGVuIEZpcmVidWcuY29uc29sZSMjZGVidWcgKEpzLnN0cmluZyBcImFjdGlvbiBhcHBsaWVkIHdpdGhvdXQgc3RhYmlsaXppbmdcIik7XG4gICAgICAgbGV0IG5ld19tb2RlbCA9XG4gICAgICAgICAoZ2V0X2FwcGx5X2FjdGlvbiAoKSkgc3RhdGUgfnNjaGVkdWxlX2V2ZW50OlVpX2VmZmVjdC5FeHBlcnQuaGFuZGxlIG1vZGVsIGFjdGlvblxuICAgICAgIGluXG4gICAgICAgQXBwLm9uX2FjdGlvbl9hcHBsaWNhdGlvbiBhY3Rpb247XG4gICAgICAgbmV3X21vZGVsXG4gICAgIGluXG4gICAgIGxldCByZWMgYXBwbHlfYWN0aW9ucyBtb2RlbCA9XG4gICAgICAgbWF0Y2ggUXVldWUuZGVxdWV1ZSBhY3Rpb25fcXVldWUgd2l0aFxuICAgICAgIHwgTm9uZSAtPiBJbmNyLlZhci5zZXQgbW9kZWxfdiBtb2RlbFxuICAgICAgIHwgU29tZSBhY3Rpb24gLT5cbiAgICAgICAgIGxldCBuZXdfbW9kZWwgPSBhcHBseV9hY3Rpb24gYWN0aW9uIG1vZGVsIGluXG4gICAgICAgICBhcHBseV9hY3Rpb25zIG5ld19tb2RlbFxuICAgICBpblxuICAgICBsZXQgcGVyZm9ybV91cGRhdGUgKCkgPVxuICAgICAgIHRpbWVyX3N0YXJ0IFwic3RhYmlsaXplXCI7XG4gICAgICAgKCogVGhlIGNsb2NrIGlzIHNldCBvbmx5IG9uY2UgcGVyIGNhbGwgdG8gcGVyZm9ybV91cGRhdGUsIHNvIHRoYXQgYWxsIGFjdGlvbnMgdGhhdFxuICAgICAgICAgIG9jY3VyIGJlZm9yZSBlYWNoIGRpc3BsYXkgdXBkYXRlIG9jY3VyIFwiYXQgdGhlIHNhbWUgdGltZS5cIiAqKVxuICAgICAgIGxldCBub3cgPVxuICAgICAgICAgbGV0IGRhdGUgPSBuZXclanMgSnMuZGF0ZV9ub3cgaW5cbiAgICAgICAgIFRpbWVfbnMuU3Bhbi5vZl9tcyBkYXRlIyNnZXRUaW1lIHw+IFRpbWVfbnMub2Zfc3Bhbl9zaW5jZV9lcG9jaFxuICAgICAgIGluXG4gICAgICAgSW5jci5DbG9jay5hZHZhbmNlX2Nsb2NrIEluY3IuY2xvY2sgfnRvXzpub3c7XG4gICAgICAgQXBwLmFkdmFuY2VfY2xvY2tfdG8gbm93O1xuICAgICAgIEluY3Iuc3RhYmlsaXplICgpO1xuICAgICAgIHRpbWVyX3N0b3AgXCJzdGFiaWxpemVcIjtcbiAgICAgICBBcHAub25fc3RhYmlsaXplICgpO1xuICAgICAgIHRpbWVyX3N0YXJ0IFwidG90YWxcIjtcbiAgICAgICB0aW1lcl9zdGFydCBcInVwZGF0ZSB2aXNpYmlsaXR5XCI7XG4gICAgICAgaWYgVmlzaWJpbGl0eS5pc19kaXJ0eSB2aXNpYmlsaXR5IHRoZW4gdXBkYXRlX3Zpc2liaWxpdHkgKCk7XG4gICAgICAgdGltZXJfc3RvcCBcInVwZGF0ZSB2aXNpYmlsaXR5XCI7XG4gICAgICAgdGltZXJfc3RhcnQgXCJhcHBseSBhY3Rpb25zXCI7XG4gICAgICAgYXBwbHlfYWN0aW9ucyAoSW5jci5WYXIudmFsdWUgbW9kZWxfdik7XG4gICAgICAgdGltZXJfc3RvcCBcImFwcGx5IGFjdGlvbnNcIjtcbiAgICAgICB0aW1lcl9zdGFydCBcInN0YWJpbGl6ZVwiO1xuICAgICAgIEluY3Iuc3RhYmlsaXplICgpO1xuICAgICAgIHRpbWVyX3N0b3AgXCJzdGFiaWxpemVcIjtcbiAgICAgICBBcHAub25fc3RhYmlsaXplICgpO1xuICAgICAgIGxldCBodG1sID0gZ2V0X3ZpZXcgKCkgaW5cbiAgICAgICBsZXQgaHRtbCA9XG4gICAgICAgICBpZiBzaW11bGF0ZV9ib2R5X2ZvY3VzX29uX3Jvb3RfZWxlbWVudCB0aGVuIG92ZXJyaWRlX3Jvb3RfZWxlbWVudCBodG1sIGVsc2UgaHRtbFxuICAgICAgIGluXG4gICAgICAgdGltZXJfc3RhcnQgXCJkaWZmXCI7XG4gICAgICAgbGV0IHBhdGNoID0gVmRvbS5Ob2RlLlBhdGNoLmNyZWF0ZSB+cHJldmlvdXM6IXByZXZfaHRtbCB+Y3VycmVudDpodG1sIGluXG4gICAgICAgdGltZXJfc3RvcCBcImRpZmZcIjtcbiAgICAgICBpZiBub3QgKFZkb20uTm9kZS5QYXRjaC5pc19lbXB0eSBwYXRjaCkgdGhlbiBWaXNpYmlsaXR5Lm1hcmtfZGlydHkgdmlzaWJpbGl0eTtcbiAgICAgICB0aW1lcl9zdGFydCBcInBhdGNoXCI7XG4gICAgICAgbGV0IGVsdCA9IFZkb20uTm9kZS5QYXRjaC5hcHBseSBwYXRjaCAhcHJldl9lbHQgaW5cbiAgICAgICB0aW1lcl9zdG9wIFwicGF0Y2hcIjtcbiAgICAgICB0aW1lcl9zdGFydCBcIm9uX2Rpc3BsYXlcIjtcbiAgICAgICAoZ2V0X29uX2Rpc3BsYXkgKCkpIHN0YXRlIH5zY2hlZHVsZV9ldmVudDpVaV9lZmZlY3QuRXhwZXJ0LmhhbmRsZTtcbiAgICAgICB0aW1lcl9zdG9wIFwib25fZGlzcGxheVwiO1xuICAgICAgIEluY3IuVmFyLnNldCBtb2RlbF9mcm9tX2xhc3RfZGlzcGxheV92IChJbmNyLlZhci52YWx1ZSBtb2RlbF92KTtcbiAgICAgICBsZXQgb2xkX3RhZ19uYW1lID0gZ2V0X3RhZ19uYW1lICFwcmV2X2h0bWwgaW5cbiAgICAgICBsZXQgbmV3X3RhZ19uYW1lID0gZ2V0X3RhZ19uYW1lIGh0bWwgaW5cbiAgICAgICBsZXQgdGFnc190aGVfc2FtZSA9IE9wdGlvbi5lcXVhbCBTdHJpbmcuZXF1YWwgb2xkX3RhZ19uYW1lIG5ld190YWdfbmFtZSBpblxuICAgICAgIHByZXZfaHRtbCA6PSBodG1sO1xuICAgICAgIHByZXZfZWx0IDo9IGVsdDtcbiAgICAgICB0aW1lcl9zdG9wIFwidG90YWxcIjtcbiAgICAgICBpZiBzaG91bGRfZGVidWcgKCkgdGhlbiBGaXJlYnVnLmNvbnNvbGUjI2RlYnVnIChKcy5zdHJpbmcgXCItLS0tLS0tXCIpO1xuICAgICAgICgqIENoYW5naW5nIHRoZSB0YWcgbmFtZSBjYXVzZXMgZm9jdXMgdG8gYmUgbG9zdC4gIFJlZm9jdXMgaW4gdGhhdCBjYXNlLiAqKVxuICAgICAgIGlmIG5vdCB0YWdzX3RoZV9zYW1lIHRoZW4gcmVmb2N1c19yb290X2VsZW1lbnQgKClcbiAgICAgaW5cbiAgICAgKCogV2UgdXNlIFtyZXF1ZXN0X2FuaW1hdGlvbl9mcmFtZV0gc28gdGhhdCBicm93c2VyIHRlbGxzIHVzIHdoZXJlIGl0J3MgdGltZSB0b1xuICAgICAgICByZWZyZXNoIHRoZSBVSS4gQWxsIHRoZSBhY3Rpb25zIHdpbGwgYmUgcHJvY2Vzc2VkIGFuZCB0aGUgY2hhbmdlcyBwcm9wYWdhdGVkXG4gICAgICAgIHRvIHRoZSBET00gaW4gb25lIGZyYW1lLiAqKVxuICAgICBsZXQgcmVjIGNhbGxiYWNrICgpID1cbiAgICAgICBpZiBEZWZlcnJlZC5pc19kZXRlcm1pbmVkIHN0b3BcbiAgICAgICB0aGVuICgpXG4gICAgICAgZWxzZSAoXG4gICAgICAgICBwZXJmb3JtX3VwZGF0ZSAoKTtcbiAgICAgICAgIHJlcXVlc3RfYW5pbWF0aW9uX2ZyYW1lIGNhbGxiYWNrKVxuICAgICBpblxuICAgICAoKiBXZSB3YW50IHRoZSByb290IGVsZW1lbnQgdG8gc3RhcnQgb3V0IGZvY3VzZWQsIHNvIHBlcmZvcm0gYW4gaW5pdGlhbFxuICAgICAgICB1cGRhdGUvcmVuZGVyLCB0aGVuIGltbWVkaWF0ZWx5IGZvY3VzIHRoZSByb290ICh1bmxlc3MgYSBub24tYm9keSBlbGVtZW50IGFscmVhZHlcbiAgICAgICAgaGFzIGZvY3VzKS4gIFRoaXMgZm9jdXNpbmcgY2FuJ3QgaGFwcGVuIGluc2lkZSBvZiB0aGUgYGNhbGxiYWNrYCBiZWNhdXNlIHRoZW4gaXRcbiAgICAgICAgd291bGQgcmVmb2N1cyByb290IGV2ZXJ5IGZyYW1lLiAgKilcbiAgICAgcGVyZm9ybV91cGRhdGUgKCk7XG4gICAgIChtYXRjaCBKcy5PcHQudG9fb3B0aW9uIERvbV9odG1sLmRvY3VtZW50IyMuYWN0aXZlRWxlbWVudCB3aXRoXG4gICAgICB8IFNvbWUgZWwgLT4gaWYgSnMuT3B0LnRlc3QgKERvbV9odG1sLkNvZXJjZVRvLmJvZHkgZWwpIHRoZW4gcmVmb2N1c19yb290X2VsZW1lbnQgKClcbiAgICAgIHwgTm9uZSAtPiByZWZvY3VzX3Jvb3RfZWxlbWVudCAoKSk7XG4gICAgIHJlcXVlc3RfYW5pbWF0aW9uX2ZyYW1lIGNhbGxiYWNrO1xuICAgICBEZWZlcnJlZC5uZXZlciAoKSlcbjs7XG5cbm1vZHVsZSBQcml2YXRlID0gc3RydWN0XG4gIGxldCBzdGFydF9ib25zYWkgPSBzdGFydF9ib25zYWlcbiAgbGV0IHRpbWVfc291cmNlID0gdGltZV9zb3VyY2VcbmVuZFxuXG5sZXQgc3RhcnRcbiAgKHR5cGUgbW9kZWwgYWN0aW9uKVxuICA/KGRlYnVnID0gZmFsc2UpXG4gID8oc3RvcCA9IERlZmVycmVkLm5ldmVyICgpKVxuICA/KG5hbWVkX2xvZ2dpbmdfZmlsdGVycyA9IFtdKVxuICB+YmluZF90b19lbGVtZW50X3dpdGhfaWRcbiAgfmluaXRpYWxfbW9kZWxcbiAgKG1vZHVsZSBBcHAgOiBBcHBfaW50Zi5TIHdpdGggdHlwZSBNb2RlbC50ID0gbW9kZWwgYW5kIHR5cGUgQWN0aW9uLnQgPSBhY3Rpb24pXG4gID1cbiAgc3RhcnRfYm9uc2FpXG4gICAgfmRlYnVnXG4gICAgfnN0b3BcbiAgICB+bmFtZWRfbG9nZ2luZ19maWx0ZXJzXG4gICAgfmJpbmRfdG9fZWxlbWVudF93aXRoX2lkXG4gICAgfmluaXRpYWxfbW9kZWxcbiAgICAobW9kdWxlIHN0cnVjdFxuICAgICAgaW5jbHVkZSBBcHBcblxuICAgICAgbGV0IGFjdGlvbl9yZXF1aXJlc19zdGFiaWxpemF0aW9uIF8gPSB0cnVlXG4gICAgICBsZXQgb25fYWN0aW9uX2FwcGxpY2F0aW9uIF8gPSAoKVxuICAgICAgbGV0IG9uX3N0YWJpbGl6ZSAoKSA9ICgpXG5cbiAgICAgIGxldCBhZHZhbmNlX2Nsb2NrX3RvIHRvXyA9XG4gICAgICAgIFVpX3RpbWVfc291cmNlLmFkdmFuY2VfY2xvY2sgdGltZV9zb3VyY2UgfnRvXztcbiAgICAgICAgVWlfdGltZV9zb3VyY2UuUHJpdmF0ZS5mbHVzaCB0aW1lX3NvdXJjZVxuICAgICAgOztcblxuICAgICAgbGV0IGNyZWF0ZSBtb2RlbCB+b2xkX21vZGVsIH5pbmplY3QgPVxuICAgICAgICBsZXQgb3BlbiBJbmNyLkxldF9zeW50YXggaW5cbiAgICAgICAgbGV0JW1hcCBjb21wb25lbnQgPSBjcmVhdGUgbW9kZWwgfm9sZF9tb2RlbCB+aW5qZWN0IGluXG4gICAgICAgIGxldCB2aWV3ID0gQ29tcG9uZW50LnZpZXcgY29tcG9uZW50IGluXG4gICAgICAgIGxldCBhcHBseV9hY3Rpb24gc3RhdGUgfnNjaGVkdWxlX2V2ZW50IF9tb2RlbCBhY3Rpb24gPVxuICAgICAgICAgIGxldCBzY2hlZHVsZV9hY3Rpb24gYSA9IHNjaGVkdWxlX2V2ZW50IChpbmplY3QgYSkgaW5cbiAgICAgICAgICBDb21wb25lbnQuYXBwbHlfYWN0aW9uIGNvbXBvbmVudCBhY3Rpb24gc3RhdGUgfnNjaGVkdWxlX2FjdGlvblxuICAgICAgICBpblxuICAgICAgICBsZXQgdXBkYXRlX3Zpc2liaWxpdHkgX21vZGVsIH5zY2hlZHVsZV9ldmVudCA9XG4gICAgICAgICAgbGV0IHNjaGVkdWxlX2FjdGlvbiBhID0gc2NoZWR1bGVfZXZlbnQgKGluamVjdCBhKSBpblxuICAgICAgICAgIENvbXBvbmVudC51cGRhdGVfdmlzaWJpbGl0eSBjb21wb25lbnQgfnNjaGVkdWxlX2FjdGlvblxuICAgICAgICBpblxuICAgICAgICBsZXQgb25fZGlzcGxheSBzdGF0ZSB+c2NoZWR1bGVfZXZlbnQgPVxuICAgICAgICAgIGxldCBzY2hlZHVsZV9hY3Rpb24gYSA9IHNjaGVkdWxlX2V2ZW50IChpbmplY3QgYSkgaW5cbiAgICAgICAgICBDb21wb25lbnQub25fZGlzcGxheSBjb21wb25lbnQgc3RhdGUgfnNjaGVkdWxlX2FjdGlvblxuICAgICAgICBpblxuICAgICAgICB7IEFwcF9pbnRmLlByaXZhdGUudmlldzsgYXBwbHlfYWN0aW9uOyB1cGRhdGVfdmlzaWJpbGl0eTsgb25fZGlzcGxheSB9XG4gICAgICA7O1xuICAgIGVuZClcbjs7XG4iXX0=
